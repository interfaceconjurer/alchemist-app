{"ast":null,"code":"import _regeneratorRuntime from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nexport var workItemAPI = {\n  workItemData: [],\n  _fetchData: function () {\n    var _fetchData2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var data, key, url, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(process.env.REACT_APP_DRIBBBLE_TOKEN);\n\n              if (!(this.workItemData.length === 0)) {\n                _context.next = 13;\n                break;\n              }\n\n              key = '5cecd738e40e30f52442e8753d4cd5f05148782252c87c63c62101f24fd3d6fa';\n              url = 'https://api.dribbble.com/v2/user/shots?page=1&per_page=100';\n              _context.next = 6;\n              return fetch(url + '&access_token=' + key);\n\n            case 6:\n              response = _context.sent;\n              _context.next = 9;\n              return response.json();\n\n            case 9:\n              data = _context.sent;\n              this.workItemData = data;\n              _context.next = 14;\n              break;\n\n            case 13:\n              data = this.workItemData;\n\n            case 14:\n              return _context.abrupt(\"return\", data);\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function _fetchData() {\n      return _fetchData2.apply(this, arguments);\n    }\n\n    return _fetchData;\n  }(),\n  _findItem: function _findItem(workItemData, id) {\n    var data;\n    workItemData.forEach(function (workItem, index) {\n      if (workItem.id.toString() === id) {\n        data = workItem;\n      }\n    });\n    return data;\n  },\n  getAllWorkItems: function () {\n    var _getAllWorkItems = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this._fetchData();\n\n            case 2:\n              data = _context2.sent;\n              return _context2.abrupt(\"return\", data);\n\n            case 4:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function getAllWorkItems() {\n      return _getAllWorkItems.apply(this, arguments);\n    }\n\n    return getAllWorkItems;\n  }(),\n  getSingleItem: function () {\n    var _getSingleItem = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3(id) {\n      var data, allData;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!(this.workItemData.length > 0)) {\n                _context3.next = 4;\n                break;\n              }\n\n              data = this._findItem(this.workItemData, id);\n              _context3.next = 8;\n              break;\n\n            case 4:\n              _context3.next = 6;\n              return this._fetchData();\n\n            case 6:\n              allData = _context3.sent;\n              data = this._findItem(allData, id);\n\n            case 8:\n              return _context3.abrupt(\"return\", data);\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n\n    function getSingleItem(_x) {\n      return _getSingleItem.apply(this, arguments);\n    }\n\n    return getSingleItem;\n  }()\n};\nexport default workItemAPI;","map":{"version":3,"sources":["/Users/j.wright/SF-main-repo/alchemist-app/src/workItemAPI.js"],"names":["workItemAPI","workItemData","_fetchData","console","log","process","env","REACT_APP_DRIBBBLE_TOKEN","length","key","url","fetch","response","json","data","_findItem","id","forEach","workItem","index","toString","getAllWorkItems","getSingleItem","allData"],"mappings":";;AAAA,OAAO,IAAMA,WAAW,GAAG;AACzBC,EAAAA,YAAY,EAAE,EADW;AAEzBC,EAAAA,UAAU;AAAA;AAAA;AAAA,6BAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,cAAAA,OAAO,CAACC,GAAR,CAAYC,OAAO,CAACC,GAAR,CAAYC,wBAAxB;;AADU,oBAGP,KAAKN,YAAL,CAAkBO,MAAlB,KAA6B,CAHtB;AAAA;AAAA;AAAA;;AAIFC,cAAAA,GAJE,GAII,kEAJJ;AAKFC,cAAAA,GALE,GAKI,4DALJ;AAAA;AAAA,qBAMeC,KAAK,CAACD,GAAG,GAAG,gBAAN,GAAyBD,GAA1B,CANpB;;AAAA;AAMFG,cAAAA,QANE;AAAA;AAAA,qBAOKA,QAAQ,CAACC,IAAT,EAPL;;AAAA;AAORC,cAAAA,IAPQ;AAQR,mBAAKb,YAAL,GAAoBa,IAApB;AARQ;AAAA;;AAAA;AAURA,cAAAA,IAAI,GAAG,KAAKb,YAAZ;;AAVQ;AAAA,+CAYHa,IAZG;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KAFe;AAiBzBC,EAAAA,SAAS,EAAE,mBAASd,YAAT,EAAuBe,EAAvB,EAA0B;AACnC,QAAIF,IAAJ;AACAb,IAAAA,YAAY,CAACgB,OAAb,CAAqB,UAACC,QAAD,EAAWC,KAAX,EAAqB;AACxC,UAAGD,QAAQ,CAACF,EAAT,CAAYI,QAAZ,OAA2BJ,EAA9B,EAAiC;AAC/BF,QAAAA,IAAI,GAAGI,QAAP;AACD;AAAC,KAHJ;AAIA,WAAOJ,IAAP;AACD,GAxBwB;AA0BzBO,EAAAA,eAAe;AAAA;AAAA;AAAA,6BAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACE,KAAKnB,UAAL,EADF;;AAAA;AACXY,cAAAA,IADW;AAAA,gDAERA,IAFQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA,KA1BU;AA+BzBQ,EAAAA,aAAa;AAAA;AAAA;AAAA,6BAAE,kBAAeN,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEV,KAAKf,YAAL,CAAkBO,MAAlB,GAA2B,CAFjB;AAAA;AAAA;AAAA;;AAGXM,cAAAA,IAAI,GAAG,KAAKC,SAAL,CAAe,KAAKd,YAApB,EAAkCe,EAAlC,CAAP;AAHW;AAAA;;AAAA;AAAA;AAAA,qBAKS,KAAKd,UAAL,EALT;;AAAA;AAKPqB,cAAAA,OALO;AAMXT,cAAAA,IAAI,GAAG,KAAKC,SAAL,CAAeQ,OAAf,EAAwBP,EAAxB,CAAP;;AANW;AAAA,gDAQNF,IARM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA/BY,CAApB;AA2CP,eAAed,WAAf","sourcesContent":["export const workItemAPI = {\n  workItemData: [],\n  _fetchData: async function(){\n    console.log(process.env.REACT_APP_DRIBBBLE_TOKEN)\n    let data;\n    if(this.workItemData.length === 0){\n      const key = '5cecd738e40e30f52442e8753d4cd5f05148782252c87c63c62101f24fd3d6fa'\n      const url = 'https://api.dribbble.com/v2/user/shots?page=1&per_page=100';\n      const response = await fetch(url + '&access_token=' + key);\n      data = await response.json();\n      this.workItemData = data;\n    } else{\n      data = this.workItemData;\n    }\n    return data;\n  },\n\n  _findItem: function(workItemData, id){\n    let data;\n    workItemData.forEach((workItem, index) => {\n      if(workItem.id.toString() === id){\n        data = workItem;\n      }});\n    return data;\n  },\n\n  getAllWorkItems: async function(){\n    let data = await this._fetchData();\n    return data;\n  },\n\n  getSingleItem: async function(id){\n    let data;\n    if(this.workItemData.length > 0){\n      data = this._findItem(this.workItemData, id);\n    } else {\n      let allData = await this._fetchData();\n      data = this._findItem(allData, id); \n    }\n    return data;\n  }\n}\n\nexport default workItemAPI;"]},"metadata":{},"sourceType":"module"}