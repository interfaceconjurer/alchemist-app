{"ast":null,"code":"import _classCallCheck from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/j.wright/SF-main-repo/alchemist-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/j.wright/SF-main-repo/alchemist-app/src/components/modal/view.js\";\nimport React, { Component } from 'react';\nimport './view.css';\nimport Disabled from 'ally.js/src/maintain/disabled';\nimport TabFocus from 'ally.js/src/maintain/tab-focus';\nimport Key from 'ally.js/src/when/key';\n\nvar View =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(View, _Component);\n\n  function View() {\n    _classCallCheck(this, View);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(View).apply(this, arguments));\n  }\n\n  _createClass(View, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this = this;\n\n      this.props.animateInCall();\n      this.disableFocus = Disabled({\n        context: '.main',\n        filter: '.modal'\n      });\n      this.handleFocus = TabFocus({\n        context: '.modal'\n      });\n\n      var closeModal = function closeModal() {\n        _this.props.closeModal();\n      };\n\n      this.handleEscapeKey = Key({\n        escape: function escape(event, disengage) {\n          closeModal();\n          disengage();\n        }\n      });\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.handleFocus.disengage();\n      this.disableFocus.disengage();\n      var id = this.props.modalData.workItem.id;\n      document.querySelector(\".buttonId-\".concat(id)).focus();\n      window.onresize = null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          workItem = _this$props.workItem,\n          imageSrc = _this$props.imageSrc,\n          workItemTags = _this$props.workItemTags,\n          datePublished = _this$props.datePublished;\n      return React.createElement(\"div\", {\n        ref: \"modalBackground\",\n        className: \"modal-background\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"section\", {\n        role: \"dialog\",\n        \"aria-modal\": \"true\",\n        className: \"modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, this.props.buttonIcon, React.createElement(\"dl\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"dt\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, workItem.title), React.createElement(\"dd\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, workItem.description.replace(/<\\/?p[^>]*>/g, \"\")), React.createElement(\"dd\", {\n        className: \"date-published\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, datePublished)), React.createElement(\"img\", {\n        src: imageSrc,\n        alt: workItem.title,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"tags\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, workItemTags), this.props.button));\n    }\n  }]);\n\n  return View;\n}(Component);\n\nexport default View;","map":{"version":3,"sources":["/Users/j.wright/SF-main-repo/alchemist-app/src/components/modal/view.js"],"names":["React","Component","Disabled","TabFocus","Key","View","props","animateInCall","disableFocus","context","filter","handleFocus","closeModal","handleEscapeKey","escape","event","disengage","id","modalData","workItem","document","querySelector","focus","window","onresize","imageSrc","workItemTags","datePublished","buttonIcon","title","description","replace","button"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAO,YAAP;AACA,OAAOC,QAAP,MAAqB,+BAArB;AACA,OAAOC,QAAP,MAAqB,gCAArB;AACA,OAAOC,GAAP,MAAgB,sBAAhB;;IAEMC,I;;;;;;;;;;;;;wCAEe;AAAA;;AACjB,WAAKC,KAAL,CAAWC,aAAX;AACA,WAAKC,YAAL,GAAoBN,QAAQ,CAAC;AAC3BO,QAAAA,OAAO,EAAE,OADkB;AAE3BC,QAAAA,MAAM,EAAE;AAFmB,OAAD,CAA5B;AAKA,WAAKC,WAAL,GAAmBR,QAAQ,CAAC;AAC1BM,QAAAA,OAAO,EAAE;AADiB,OAAD,CAA3B;;AAIA,UAAMG,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,QAAA,KAAI,CAACN,KAAL,CAAWM,UAAX;AACD,OAFD;;AAIA,WAAKC,eAAL,GAAuBT,GAAG,CAAC;AACzBU,QAAAA,MAAM,EAAE,gBAASC,KAAT,EAAgBC,SAAhB,EAA2B;AACjCJ,UAAAA,UAAU;AACVI,UAAAA,SAAS;AACV;AAJwB,OAAD,CAA1B;AAMD;;;2CAEqB;AACpB,WAAKL,WAAL,CAAiBK,SAAjB;AACA,WAAKR,YAAL,CAAkBQ,SAAlB;AACA,UAAIC,EAAE,GAAG,KAAKX,KAAL,CAAWY,SAAX,CAAqBC,QAArB,CAA8BF,EAAvC;AACAG,MAAAA,QAAQ,CAACC,aAAT,qBAAoCJ,EAApC,GAA0CK,KAA1C;AACAC,MAAAA,MAAM,CAACC,QAAP,GAAkB,IAAlB;AAED;;;6BAEO;AAAA,wBACoD,KAAKlB,KADzD;AAAA,UACCa,QADD,eACCA,QADD;AAAA,UACWM,QADX,eACWA,QADX;AAAA,UACqBC,YADrB,eACqBA,YADrB;AAAA,UACmCC,aADnC,eACmCA,aADnC;AAEN,aACE;AAAK,QAAA,GAAG,EAAC,iBAAT;AAA2B,QAAA,SAAS,EAAC,kBAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAS,QAAA,IAAI,EAAC,QAAd;AAAuB,sBAAW,MAAlC;AAAyC,QAAA,SAAS,EAAC,OAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKrB,KAAL,CAAWsB,UADd,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKT,QAAQ,CAACU,KAAd,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKV,QAAQ,CAACW,WAAT,CAAqBC,OAArB,CAA6B,cAA7B,EAA6C,EAA7C,CAAL,CAFF,EAGE;AAAI,QAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAgCJ,aAAhC,CAHF,CAFF,EAOE;AAAK,QAAA,GAAG,EAAEF,QAAV;AAAoB,QAAA,GAAG,EAAEN,QAAQ,CAACU,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,EAQE;AAAK,QAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAuBH,YAAvB,CARF,EASG,KAAKpB,KAAL,CAAW0B,MATd,CADF,CADF;AAeD;;;;EAnDgB/B,S;;AAsDnB,eAAeI,IAAf","sourcesContent":["import React, {Component} from 'react';\nimport './view.css';\nimport Disabled from 'ally.js/src/maintain/disabled';\nimport TabFocus from 'ally.js/src/maintain/tab-focus';\nimport Key from 'ally.js/src/when/key';\n\nclass View extends Component{\n\n  componentDidMount(){\n    this.props.animateInCall();\n    this.disableFocus = Disabled({\n      context: '.main',\n      filter: '.modal',\n    });\n\n    this.handleFocus = TabFocus({\n      context: '.modal',\n    });\n\n    const closeModal = () => {\n      this.props.closeModal();\n    }\n\n    this.handleEscapeKey = Key({\n      escape: function(event, disengage) {\n        closeModal();\n        disengage();\n      }\n    });\n  }\n\n  componentWillUnmount(){\n    this.handleFocus.disengage();\n    this.disableFocus.disengage();\n    let id = this.props.modalData.workItem.id;\n    document.querySelector(`.buttonId-${id}`).focus();\n    window.onresize = null\n    \n  }\n\n  render(){\n    const {workItem, imageSrc, workItemTags, datePublished} = this.props;\n    return (\n      <div ref=\"modalBackground\" className=\"modal-background\">\n        <section role=\"dialog\" aria-modal=\"true\" className=\"modal\">\n          {this.props.buttonIcon}\n          <dl>\n            <dt>{workItem.title}</dt>\n            <dd>{workItem.description.replace(/<\\/?p[^>]*>/g, \"\")}</dd>\n            <dd className=\"date-published\">{datePublished}</dd>\n          </dl>\n          <img src={imageSrc} alt={workItem.title}/>\n          <div className=\"tags\">{workItemTags}</div>\n          {this.props.button}\n        </section>\n      </div>\n    );\n  }\n}\n\nexport default View;"]},"metadata":{},"sourceType":"module"}