var eO=Object.defineProperty;var tO=(r,e,t)=>e in r?eO(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var ni=(r,e,t)=>tO(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var K1={exports:{}},Rg={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cw;function nO(){if(Cw)return Rg;Cw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,i,a){var u=null;if(a!==void 0&&(u=""+a),i.key!==void 0&&(u=""+i.key),"key"in i){a={};for(var c in i)c!=="key"&&(a[c]=i[c])}else a=i;return i=a.ref,{$$typeof:r,type:n,key:u,ref:i!==void 0?i:null,props:a}}return Rg.Fragment=e,Rg.jsx=t,Rg.jsxs=t,Rg}var Rw;function iO(){return Rw||(Rw=1,K1.exports=nO()),K1.exports}var $=iO(),$1={exports:{}},Jt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function rO(){if(Dw)return Jt;Dw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=_&&j[_]||j["@@iterator"],typeof j=="function"?j:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,A={};function M(j,le,Re){this.props=j,this.context=le,this.refs=A,this.updater=Re||E}M.prototype.isReactComponent={},M.prototype.setState=function(j,le){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,le,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function R(){}R.prototype=M.prototype;function D(j,le,Re){this.props=j,this.context=le,this.refs=A,this.updater=Re||E}var L=D.prototype=new R;L.constructor=D,T(L,M.prototype),L.isPureReactComponent=!0;var P=Array.isArray;function z(){}var B={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function I(j,le,Re){var ze=Re.ref;return{$$typeof:r,type:j,key:le,ref:ze!==void 0?ze:null,props:Re}}function O(j,le){return I(j.type,le,j.props)}function W(j){return typeof j=="object"&&j!==null&&j.$$typeof===r}function ee(j){var le={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Re){return le[Re]})}var Q=/\/+/g;function fe(j,le){return typeof j=="object"&&j!==null&&j.key!=null?ee(""+j.key):le.toString(36)}function ue(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(z,z):(j.status="pending",j.then(function(le){j.status==="pending"&&(j.status="fulfilled",j.value=le)},function(le){j.status==="pending"&&(j.status="rejected",j.reason=le)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Z(j,le,Re,ze,rt){var ge=typeof j;(ge==="undefined"||ge==="boolean")&&(j=null);var De=!1;if(j===null)De=!0;else switch(ge){case"bigint":case"string":case"number":De=!0;break;case"object":switch(j.$$typeof){case r:case e:De=!0;break;case g:return De=j._init,Z(De(j._payload),le,Re,ze,rt)}}if(De)return rt=rt(j),De=ze===""?"."+fe(j,0):ze,P(rt)?(Re="",De!=null&&(Re=De.replace(Q,"$&/")+"/"),Z(rt,le,Re,"",function(ft){return ft})):rt!=null&&(W(rt)&&(rt=O(rt,Re+(rt.key==null||j&&j.key===rt.key?"":(""+rt.key).replace(Q,"$&/")+"/")+De)),le.push(rt)),1;De=0;var it=ze===""?".":ze+":";if(P(j))for(var ne=0;ne<j.length;ne++)ze=j[ne],ge=it+fe(ze,ne),De+=Z(ze,le,Re,ge,rt);else if(ne=x(j),typeof ne=="function")for(j=ne.call(j),ne=0;!(ze=j.next()).done;)ze=ze.value,ge=it+fe(ze,ne++),De+=Z(ze,le,Re,ge,rt);else if(ge==="object"){if(typeof j.then=="function")return Z(ue(j),le,Re,ze,rt);throw le=String(j),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return De}function J(j,le,Re){if(j==null)return j;var ze=[],rt=0;return Z(j,ze,"","",function(ge){return le.call(Re,ge,rt++)}),ze}function he(j){if(j._status===-1){var le=j._result;le=le(),le.then(function(Re){(j._status===0||j._status===-1)&&(j._status=1,j._result=Re)},function(Re){(j._status===0||j._status===-1)&&(j._status=2,j._result=Re)}),j._status===-1&&(j._status=0,j._result=le)}if(j._status===1)return j._result.default;throw j._result}var Pe=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},Ue={map:J,forEach:function(j,le,Re){J(j,function(){le.apply(this,arguments)},Re)},count:function(j){var le=0;return J(j,function(){le++}),le},toArray:function(j){return J(j,function(le){return le})||[]},only:function(j){if(!W(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return Jt.Activity=y,Jt.Children=Ue,Jt.Component=M,Jt.Fragment=t,Jt.Profiler=i,Jt.PureComponent=D,Jt.StrictMode=n,Jt.Suspense=d,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(j){return B.H.useMemoCache(j)}},Jt.cache=function(j){return function(){return j.apply(null,arguments)}},Jt.cacheSignal=function(){return null},Jt.cloneElement=function(j,le,Re){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var ze=T({},j.props),rt=j.key;if(le!=null)for(ge in le.key!==void 0&&(rt=""+le.key),le)!k.call(le,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&le.ref===void 0||(ze[ge]=le[ge]);var ge=arguments.length-2;if(ge===1)ze.children=Re;else if(1<ge){for(var De=Array(ge),it=0;it<ge;it++)De[it]=arguments[it+2];ze.children=De}return I(j.type,rt,ze)},Jt.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:a,_context:j},j},Jt.createElement=function(j,le,Re){var ze,rt={},ge=null;if(le!=null)for(ze in le.key!==void 0&&(ge=""+le.key),le)k.call(le,ze)&&ze!=="key"&&ze!=="__self"&&ze!=="__source"&&(rt[ze]=le[ze]);var De=arguments.length-2;if(De===1)rt.children=Re;else if(1<De){for(var it=Array(De),ne=0;ne<De;ne++)it[ne]=arguments[ne+2];rt.children=it}if(j&&j.defaultProps)for(ze in De=j.defaultProps,De)rt[ze]===void 0&&(rt[ze]=De[ze]);return I(j,ge,rt)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(j){return{$$typeof:c,render:j}},Jt.isValidElement=W,Jt.lazy=function(j){return{$$typeof:g,_payload:{_status:-1,_result:j},_init:he}},Jt.memo=function(j,le){return{$$typeof:p,type:j,compare:le===void 0?null:le}},Jt.startTransition=function(j){var le=B.T,Re={};B.T=Re;try{var ze=j(),rt=B.S;rt!==null&&rt(Re,ze),typeof ze=="object"&&ze!==null&&typeof ze.then=="function"&&ze.then(z,Pe)}catch(ge){Pe(ge)}finally{le!==null&&Re.types!==null&&(le.types=Re.types),B.T=le}},Jt.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Jt.use=function(j){return B.H.use(j)},Jt.useActionState=function(j,le,Re){return B.H.useActionState(j,le,Re)},Jt.useCallback=function(j,le){return B.H.useCallback(j,le)},Jt.useContext=function(j){return B.H.useContext(j)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(j,le){return B.H.useDeferredValue(j,le)},Jt.useEffect=function(j,le){return B.H.useEffect(j,le)},Jt.useEffectEvent=function(j){return B.H.useEffectEvent(j)},Jt.useId=function(){return B.H.useId()},Jt.useImperativeHandle=function(j,le,Re){return B.H.useImperativeHandle(j,le,Re)},Jt.useInsertionEffect=function(j,le){return B.H.useInsertionEffect(j,le)},Jt.useLayoutEffect=function(j,le){return B.H.useLayoutEffect(j,le)},Jt.useMemo=function(j,le){return B.H.useMemo(j,le)},Jt.useOptimistic=function(j,le){return B.H.useOptimistic(j,le)},Jt.useReducer=function(j,le,Re){return B.H.useReducer(j,le,Re)},Jt.useRef=function(j){return B.H.useRef(j)},Jt.useState=function(j){return B.H.useState(j)},Jt.useSyncExternalStore=function(j,le,Re){return B.H.useSyncExternalStore(j,le,Re)},Jt.useTransition=function(){return B.H.useTransition()},Jt.version="19.2.4",Jt}var Nw;function j0(){return Nw||(Nw=1,$1.exports=rO()),$1.exports}var K=j0();const xE=X0(K);var Q1={exports:{}},Dg={},J1={exports:{}},eS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lw;function sO(){return Lw||(Lw=1,(function(r){function e(Z,J){var he=Z.length;Z.push(J);e:for(;0<he;){var Pe=he-1>>>1,Ue=Z[Pe];if(0<i(Ue,J))Z[Pe]=J,Z[he]=Ue,he=Pe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var J=Z[0],he=Z.pop();if(he!==J){Z[0]=he;e:for(var Pe=0,Ue=Z.length,j=Ue>>>1;Pe<j;){var le=2*(Pe+1)-1,Re=Z[le],ze=le+1,rt=Z[ze];if(0>i(Re,he))ze<Ue&&0>i(rt,Re)?(Z[Pe]=rt,Z[ze]=he,Pe=ze):(Z[Pe]=Re,Z[le]=he,Pe=le);else if(ze<Ue&&0>i(rt,he))Z[Pe]=rt,Z[ze]=he,Pe=ze;else break e}}return J}function i(Z,J){var he=Z.sortIndex-J.sortIndex;return he!==0?he:Z.id-J.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var d=[],p=[],g=1,y=null,_=3,x=!1,E=!1,T=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function L(Z){for(var J=t(p);J!==null;){if(J.callback===null)n(p);else if(J.startTime<=Z)n(p),J.sortIndex=J.expirationTime,e(d,J);else break;J=t(p)}}function P(Z){if(T=!1,L(Z),!E)if(t(d)!==null)E=!0,z||(z=!0,ee());else{var J=t(p);J!==null&&ue(P,J.startTime-Z)}}var z=!1,B=-1,k=5,I=-1;function O(){return A?!0:!(r.unstable_now()-I<k)}function W(){if(A=!1,z){var Z=r.unstable_now();I=Z;var J=!0;try{e:{E=!1,T&&(T=!1,R(B),B=-1),x=!0;var he=_;try{t:{for(L(Z),y=t(d);y!==null&&!(y.expirationTime>Z&&O());){var Pe=y.callback;if(typeof Pe=="function"){y.callback=null,_=y.priorityLevel;var Ue=Pe(y.expirationTime<=Z);if(Z=r.unstable_now(),typeof Ue=="function"){y.callback=Ue,L(Z),J=!0;break t}y===t(d)&&n(d),L(Z)}else n(d);y=t(d)}if(y!==null)J=!0;else{var j=t(p);j!==null&&ue(P,j.startTime-Z),J=!1}}break e}finally{y=null,_=he,x=!1}J=void 0}}finally{J?ee():z=!1}}}var ee;if(typeof D=="function")ee=function(){D(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,fe=Q.port2;Q.port1.onmessage=W,ee=function(){fe.postMessage(null)}}else ee=function(){M(W,0)};function ue(Z,J){B=M(function(){Z(r.unstable_now())},J)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return _},r.unstable_next=function(Z){switch(_){case 1:case 2:case 3:var J=3;break;default:J=_}var he=_;_=J;try{return Z()}finally{_=he}},r.unstable_requestPaint=function(){A=!0},r.unstable_runWithPriority=function(Z,J){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=_;_=Z;try{return J()}finally{_=he}},r.unstable_scheduleCallback=function(Z,J,he){var Pe=r.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Pe+he:Pe):he=Pe,Z){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=he+Ue,Z={id:g++,callback:J,priorityLevel:Z,startTime:he,expirationTime:Ue,sortIndex:-1},he>Pe?(Z.sortIndex=he,e(p,Z),t(d)===null&&Z===t(p)&&(T?(R(B),B=-1):T=!0,ue(P,he-Pe))):(Z.sortIndex=Ue,e(d,Z),E||x||(E=!0,z||(z=!0,ee()))),Z},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Z){var J=_;return function(){var he=_;_=J;try{return Z.apply(this,arguments)}finally{_=he}}}})(eS)),eS}var Ow;function bC(){return Ow||(Ow=1,J1.exports=sO()),J1.exports}var tS={exports:{}},Kr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iw;function aO(){if(Iw)return Kr;Iw=1;var r=j0();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(d,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:d,containerInfo:p,implementation:g}}var u=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Kr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Kr.createPortal=function(d,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return a(d,p,null,g)},Kr.flushSync=function(d){var p=u.T,g=n.p;try{if(u.T=null,n.p=2,d)return d()}finally{u.T=p,n.p=g,n.d.f()}},Kr.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,n.d.C(d,p))},Kr.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},Kr.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?n.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):g==="script"&&n.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Kr.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=c(p.as,p.crossOrigin);n.d.M(d,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&n.d.M(d)},Kr.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=c(g,p.crossOrigin);n.d.L(d,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Kr.preloadModule=function(d,p){if(typeof d=="string")if(p){var g=c(p.as,p.crossOrigin);n.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else n.d.m(d)},Kr.requestFormReset=function(d){n.d.r(d)},Kr.unstable_batchedUpdates=function(d,p){return d(p)},Kr.useFormState=function(d,p,g){return u.H.useFormState(d,p,g)},Kr.useFormStatus=function(){return u.H.useHostTransitionStatus()},Kr.version="19.2.4",Kr}var Pw;function oO(){if(Pw)return tS.exports;Pw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tS.exports=aO(),tS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uw;function lO(){if(Uw)return Dg;Uw=1;var r=bC(),e=j0(),t=oO();function n(s){var o="https://react.dev/errors/"+s;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)o+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function a(s){var o=s,h=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(h=o.return),s=o.return;while(s)}return o.tag===3?h:null}function u(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function c(s){if(s.tag===31){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function d(s){if(a(s)!==s)throw Error(n(188))}function p(s){var o=s.alternate;if(!o){if(o=a(s),o===null)throw Error(n(188));return o!==s?null:s}for(var h=s,m=o;;){var S=h.return;if(S===null)break;var w=S.alternate;if(w===null){if(m=S.return,m!==null){h=m;continue}break}if(S.child===w.child){for(w=S.child;w;){if(w===h)return d(S),s;if(w===m)return d(S),o;w=w.sibling}throw Error(n(188))}if(h.return!==m.return)h=S,m=w;else{for(var U=!1,G=S.child;G;){if(G===h){U=!0,h=S,m=w;break}if(G===m){U=!0,m=S,h=w;break}G=G.sibling}if(!U){for(G=w.child;G;){if(G===h){U=!0,h=w,m=S;break}if(G===m){U=!0,m=w,h=S;break}G=G.sibling}if(!U)throw Error(n(189))}}if(h.alternate!==m)throw Error(n(190))}if(h.tag!==3)throw Error(n(188));return h.stateNode.current===h?s:o}function g(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s;for(s=s.child;s!==null;){if(o=g(s),o!==null)return o;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var Q=Symbol.for("react.client.reference");function fe(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Q?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case T:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case P:return"Suspense";case z:return"SuspenseList";case I:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case E:return"Portal";case D:return s.displayName||"Context";case R:return(s._context.displayName||"Context")+".Consumer";case L:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return o=s.displayName||null,o!==null?o:fe(s.type)||"Memo";case k:o=s._payload,s=s._init;try{return fe(s(o))}catch{}}return null}var ue=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Pe=[],Ue=-1;function j(s){return{current:s}}function le(s){0>Ue||(s.current=Pe[Ue],Pe[Ue]=null,Ue--)}function Re(s,o){Ue++,Pe[Ue]=s.current,s.current=o}var ze=j(null),rt=j(null),ge=j(null),De=j(null);function it(s,o){switch(Re(ge,o),Re(rt,s),Re(ze,null),o.nodeType){case 9:case 11:s=(s=o.documentElement)&&(s=s.namespaceURI)?$T(s):0;break;default:if(s=o.tagName,o=o.namespaceURI)o=$T(o),s=QT(o,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}le(ze),Re(ze,s)}function ne(){le(ze),le(rt),le(ge)}function ft(s){s.memoizedState!==null&&Re(De,s);var o=ze.current,h=QT(o,s.type);o!==h&&(Re(rt,s),Re(ze,h))}function _t(s){rt.current===s&&(le(ze),le(rt)),De.current===s&&(le(De),Tg._currentValue=he)}var Yt,Et;function ve(s){if(Yt===void 0)try{throw Error()}catch(h){var o=h.stack.trim().match(/\n( *(at )?)/);Yt=o&&o[1]||"",Et=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yt+s+Et}var Xe=!1;function Ae(s,o){if(!s||Xe)return"";Xe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(o){var We=function(){throw Error()};if(Object.defineProperty(We.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(We,[])}catch(Ie){var we=Ie}Reflect.construct(s,[],We)}else{try{We.call()}catch(Ie){we=Ie}s.call(We.prototype)}}else{try{throw Error()}catch(Ie){we=Ie}(We=s())&&typeof We.catch=="function"&&We.catch(function(){})}}catch(Ie){if(Ie&&we&&typeof Ie.stack=="string")return[Ie.stack,we.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=m.DetermineComponentFrameRoot(),U=w[0],G=w[1];if(U&&G){var re=U.split(`
`),Se=G.split(`
`);for(S=m=0;m<re.length&&!re[m].includes("DetermineComponentFrameRoot");)m++;for(;S<Se.length&&!Se[S].includes("DetermineComponentFrameRoot");)S++;if(m===re.length||S===Se.length)for(m=re.length-1,S=Se.length-1;1<=m&&0<=S&&re[m]!==Se[S];)S--;for(;1<=m&&0<=S;m--,S--)if(re[m]!==Se[S]){if(m!==1||S!==1)do if(m--,S--,0>S||re[m]!==Se[S]){var Fe=`
`+re[m].replace(" at new "," at ");return s.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",s.displayName)),Fe}while(1<=m&&0<=S);break}}}finally{Xe=!1,Error.prepareStackTrace=h}return(h=s?s.displayName||s.name:"")?ve(h):""}function be(s,o){switch(s.tag){case 26:case 27:case 5:return ve(s.type);case 16:return ve("Lazy");case 13:return s.child!==o&&o!==null?ve("Suspense Fallback"):ve("Suspense");case 19:return ve("SuspenseList");case 0:case 15:return Ae(s.type,!1);case 11:return Ae(s.type.render,!1);case 1:return Ae(s.type,!0);case 31:return ve("Activity");default:return""}}function Y(s){try{var o="",h=null;do o+=be(s,h),h=s,s=s.return;while(s);return o}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var dt=Object.prototype.hasOwnProperty,Te=r.unstable_scheduleCallback,Ct=r.unstable_cancelCallback,Je=r.unstable_shouldYield,q=r.unstable_requestPaint,F=r.unstable_now,oe=r.unstable_getCurrentPriorityLevel,Le=r.unstable_ImmediatePriority,Be=r.unstable_UserBlockingPriority,_e=r.unstable_NormalPriority,st=r.unstable_LowPriority,Ge=r.unstable_IdlePriority,Ke=r.log,Mt=r.unstable_setDisableYieldValue,qe=null,nt=null;function pt(s){if(typeof Ke=="function"&&Mt(s),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(qe,s)}catch{}}var te=Math.clz32?Math.clz32:ie,ye=Math.log,lt=Math.LN2;function ie(s){return s>>>=0,s===0?32:31-(ye(s)/lt|0)|0}var et=256,Ye=262144,ct=4194304;function Ze(s){var o=s&42;if(o!==0)return o;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ke(s,o,h){var m=s.pendingLanes;if(m===0)return 0;var S=0,w=s.suspendedLanes,U=s.pingedLanes;s=s.warmLanes;var G=m&134217727;return G!==0?(m=G&~w,m!==0?S=Ze(m):(U&=G,U!==0?S=Ze(U):h||(h=G&~s,h!==0&&(S=Ze(h))))):(G=m&~w,G!==0?S=Ze(G):U!==0?S=Ze(U):h||(h=m&~s,h!==0&&(S=Ze(h)))),S===0?0:o!==0&&o!==S&&(o&w)===0&&(w=S&-S,h=o&-o,w>=h||w===32&&(h&4194048)!==0)?o:S}function tt(s,o){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&o)===0}function Nt(s,o){switch(s){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function en(){var s=ct;return ct<<=1,(ct&62914560)===0&&(ct=4194304),s}function rn(s){for(var o=[],h=0;31>h;h++)o.push(s);return o}function ri(s,o){s.pendingLanes|=o,o!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ki(s,o,h,m,S,w){var U=s.pendingLanes;s.pendingLanes=h,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=h,s.entangledLanes&=h,s.errorRecoveryDisabledLanes&=h,s.shellSuspendCounter=0;var G=s.entanglements,re=s.expirationTimes,Se=s.hiddenUpdates;for(h=U&~h;0<h;){var Fe=31-te(h),We=1<<Fe;G[Fe]=0,re[Fe]=-1;var we=Se[Fe];if(we!==null)for(Se[Fe]=null,Fe=0;Fe<we.length;Fe++){var Ie=we[Fe];Ie!==null&&(Ie.lane&=-536870913)}h&=~We}m!==0&&Fo(s,m,0),w!==0&&S===0&&s.tag!==0&&(s.suspendedLanes|=w&~(U&~o))}function Fo(s,o,h){s.pendingLanes|=o,s.suspendedLanes&=~o;var m=31-te(o);s.entangledLanes|=o,s.entanglements[m]=s.entanglements[m]|1073741824|h&261930}function Bo(s,o){var h=s.entangledLanes|=o;for(s=s.entanglements;h;){var m=31-te(h),S=1<<m;S&o|s[m]&o&&(s[m]|=o),h&=~S}}function kl(s,o){var h=o&-o;return h=(h&42)!==0?1:ko(h),(h&(s.suspendedLanes|o))!==0?0:h}function ko(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function oo(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Vl(){var s=J.p;return s!==0?s:(s=window.event,s===void 0?32:bw(s.type))}function yr(s,o){var h=J.p;try{return J.p=s,o()}finally{J.p=h}}var os=Math.random().toString(36).slice(2),si="__reactFiber$"+os,Vi="__reactProps$"+os,ls="__reactContainer$"+os,us="__reactEvents$"+os,cs="__reactListeners$"+os,Vo="__reactHandles$"+os,Hl="__reactResources$"+os,aa="__reactMarker$"+os;function lo(s){delete s[si],delete s[Vi],delete s[us],delete s[cs],delete s[Vo]}function uo(s){var o=s[si];if(o)return o;for(var h=s.parentNode;h;){if(o=h[ls]||h[si]){if(h=o.alternate,o.child!==null||h!==null&&h.child!==null)for(s=sw(s);s!==null;){if(h=s[si])return h;s=sw(s)}return o}s=h,h=s.parentNode}return null}function co(s){if(s=s[si]||s[ls]){var o=s.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return s}return null}function Ho(s){var o=s.tag;if(o===5||o===26||o===27||o===6)return s.stateNode;throw Error(n(33))}function Ca(s){var o=s[Hl];return o||(o=s[Hl]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function H(s){s[aa]=!0}var ce=new Set,Ce={};function Me(s,o){pe(s,o),pe(s+"Capture",o)}function pe(s,o){for(Ce[s]=o,s=0;s<o.length;s++)ce.add(o[s])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vt={},Qe={};function St(s){return dt.call(Qe,s)?!0:dt.call(vt,s)?!1:at.test(s)?Qe[s]=!0:(vt[s]=!0,!1)}function Tt(s,o,h){if(St(o))if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":s.removeAttribute(o);return;case"boolean":var m=o.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(o);return}}s.setAttribute(o,""+h)}}function It(s,o,h){if(h===null)s.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(o);return}s.setAttribute(o,""+h)}}function wt(s,o,h,m){if(m===null)s.removeAttribute(h);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(h);return}s.setAttributeNS(o,h,""+m)}}function Ft(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function En(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Hn(s,o,h){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,o);if(!s.hasOwnProperty(o)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,w=m.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return S.call(this)},set:function(U){h=""+U,w.call(this,U)}}),Object.defineProperty(s,o,{enumerable:m.enumerable}),{getValue:function(){return h},setValue:function(U){h=""+U},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Fn(s){if(!s._valueTracker){var o=En(s)?"checked":"value";s._valueTracker=Hn(s,o,""+s[o])}}function Zt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var h=o.getValue(),m="";return s&&(m=En(s)?s.checked?"true":"false":s.value),s=m,s!==h?(o.setValue(s),!0):!1}function ht(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var xn=/[\n"\\]/g;function Vt(s){return s.replace(xn,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Ni(s,o,h,m,S,w,U,G){s.name="",U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?s.type=U:s.removeAttribute("type"),o!=null?U==="number"?(o===0&&s.value===""||s.value!=o)&&(s.value=""+Ft(o)):s.value!==""+Ft(o)&&(s.value=""+Ft(o)):U!=="submit"&&U!=="reset"||s.removeAttribute("value"),o!=null?Yn(s,U,Ft(o)):h!=null?Yn(s,U,Ft(h)):m!=null&&s.removeAttribute("value"),S==null&&w!=null&&(s.defaultChecked=!!w),S!=null&&(s.checked=S&&typeof S!="function"&&typeof S!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?s.name=""+Ft(G):s.removeAttribute("name")}function oa(s,o,h,m,S,w,U,G){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.type=w),o!=null||h!=null){if(!(w!=="submit"&&w!=="reset"||o!=null)){Fn(s);return}h=h!=null?""+Ft(h):"",o=o!=null?""+Ft(o):h,G||o===s.value||(s.value=o),s.defaultValue=o}m=m??S,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=G?s.checked:!!m,s.defaultChecked=!!m,U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(s.name=U),Fn(s)}function Yn(s,o,h){o==="number"&&ht(s.ownerDocument)===s||s.defaultValue===""+h||(s.defaultValue=""+h)}function Tr(s,o,h,m){if(s=s.options,o){o={};for(var S=0;S<h.length;S++)o["$"+h[S]]=!0;for(h=0;h<s.length;h++)S=o.hasOwnProperty("$"+s[h].value),s[h].selected!==S&&(s[h].selected=S),S&&m&&(s[h].defaultSelected=!0)}else{for(h=""+Ft(h),o=null,S=0;S<s.length;S++){if(s[S].value===h){s[S].selected=!0,m&&(s[S].defaultSelected=!0);return}o!==null||s[S].disabled||(o=s[S])}o!==null&&(o.selected=!0)}}function Cn(s,o,h){if(o!=null&&(o=""+Ft(o),o!==s.value&&(s.value=o),h==null)){s.defaultValue!==o&&(s.defaultValue=o);return}s.defaultValue=h!=null?""+Ft(h):""}function Hi(s,o,h,m){if(o==null){if(m!=null){if(h!=null)throw Error(n(92));if(ue(m)){if(1<m.length)throw Error(n(93));m=m[0]}h=m}h==null&&(h=""),o=h}h=Ft(o),s.defaultValue=h,m=s.textContent,m===h&&m!==""&&m!==null&&(s.value=m),Fn(s)}function Li(s,o){if(o){var h=s.firstChild;if(h&&h===s.lastChild&&h.nodeType===3){h.nodeValue=o;return}}s.textContent=o}var Ji=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function er(s,o,h){var m=o.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?m?s.setProperty(o,""):o==="float"?s.cssFloat="":s[o]="":m?s.setProperty(o,h):typeof h!="number"||h===0||Ji.has(o)?o==="float"?s.cssFloat=h:s[o]=(""+h).trim():s[o]=h+"px"}function Gl(s,o,h){if(o!=null&&typeof o!="object")throw Error(n(62));if(s=s.style,h!=null){for(var m in h)!h.hasOwnProperty(m)||o!=null&&o.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var S in o)m=o[S],o.hasOwnProperty(S)&&h[S]!==m&&er(s,S,m)}else for(var w in o)o.hasOwnProperty(w)&&er(s,w,o[w])}function Ds(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uf(s){return sm.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function fo(){}var Vh=null;function Hh(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Wl=null,Go=null;function am(s){var o=co(s);if(o&&(s=o.stateNode)){var h=s[Vi]||null;e:switch(s=o.stateNode,o.type){case"input":if(Ni(s,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),o=h.name,h.type==="radio"&&o!=null){for(h=s;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Vt(""+o)+'"][type="radio"]'),o=0;o<h.length;o++){var m=h[o];if(m!==s&&m.form===s.form){var S=m[Vi]||null;if(!S)throw Error(n(90));Ni(m,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(o=0;o<h.length;o++)m=h[o],m.form===s.form&&Zt(m)}break e;case"textarea":Cn(s,h.value,h.defaultValue);break e;case"select":o=h.value,o!=null&&Tr(s,!!h.multiple,o,!1)}}}var Gh=!1;function om(s,o,h){if(Gh)return s(o,h);Gh=!0;try{var m=s(o);return m}finally{if(Gh=!1,(Wl!==null||Go!==null)&&(ha(),Wl&&(o=Wl,s=Go,Go=Wl=null,am(o),s)))for(o=0;o<s.length;o++)am(s[o])}}function Vu(s,o){var h=s.stateNode;if(h===null)return null;var m=h[Vi]||null;if(m===null)return null;h=m[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(h&&typeof h!="function")throw Error(n(231,o,typeof h));return h}var Ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lm=!1;if(Ra)try{var Hu={};Object.defineProperty(Hu,"passive",{get:function(){lm=!0}}),window.addEventListener("test",Hu,Hu),window.removeEventListener("test",Hu,Hu)}catch{lm=!1}var fs=null,Wh=null,Xl=null;function cf(){if(Xl)return Xl;var s,o=Wh,h=o.length,m,S="value"in fs?fs.value:fs.textContent,w=S.length;for(s=0;s<h&&o[s]===S[s];s++);var U=h-s;for(m=1;m<=U&&o[h-m]===S[w-m];m++);return Xl=S.slice(s,1<m?1-m:void 0)}function ff(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Gu(){return!0}function hv(){return!1}function wr(s){function o(h,m,S,w,U){this._reactName=h,this._targetInst=S,this.type=m,this.nativeEvent=w,this.target=U,this.currentTarget=null;for(var G in s)s.hasOwnProperty(G)&&(h=s[G],this[G]=h?h(w):w[G]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Gu:hv,this.isPropagationStopped=hv,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),o}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=wr(Wo),Wu=y({},Wo,{view:0,detail:0}),dv=wr(Wu),df,Xh,Xu,ju=y({},Wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zh,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xu&&(Xu&&s.type==="mousemove"?(df=s.screenX-Xu.screenX,Xh=s.screenY-Xu.screenY):Xh=df=0,Xu=s),df)},movementY:function(s){return"movementY"in s?s.movementY:Xh}}),um=wr(ju),pv=y({},ju,{dataTransfer:0}),mv=wr(pv),cm=y({},Wu,{relatedTarget:0}),jh=wr(cm),gv=y({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),g1=wr(gv),v1=y({},Wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),vv=wr(v1),pf=y({},Wo,{data:0}),qh=wr(pf),Yh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_v={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=_v[s])?!!o[s]:!1}function Zh(){return fm}var xv=y({},Wu,{key:function(s){if(s.key){var o=Yh[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ff(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?yv[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zh,charCode:function(s){return s.type==="keypress"?ff(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ff(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),jl=wr(xv),Kh=y({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hm=wr(Kh),dm=y({},Wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zh}),bv=wr(dm),Sv=y({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),y1=wr(Sv),ur=y({},ju,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Mv=wr(ur),Ev=y({},Wo,{newState:0,oldState:0}),Tv=wr(Ev),wv=[9,13,27,32],ql=Ra&&"CompositionEvent"in window,qu=null;Ra&&"documentMode"in document&&(qu=document.documentMode);var $h=Ra&&"TextEvent"in window&&!qu,pm=Ra&&(!ql||qu&&8<qu&&11>=qu),Av=" ",mf=!1;function Qh(s,o){switch(s){case"keyup":return wv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Yl=!1;function Cv(s,o){switch(s){case"compositionend":return mm(o);case"keypress":return o.which!==32?null:(mf=!0,Av);case"textInput":return s=o.data,s===Av&&mf?null:s;default:return null}}function gm(s,o){if(Yl)return s==="compositionend"||!ql&&Qh(s,o)?(s=cf(),Xl=Wh=fs=null,Yl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pm&&o.locale!=="ko"?null:o.data;default:return null}}var vm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!vm[s.type]:o==="textarea"}function Jh(s,o,h,m){Wl?Go?Go.push(m):Go=[m]:Wl=m,o=Oy(o,"onChange"),0<o.length&&(h=new hf("onChange","change",null,h,m),s.push({event:h,listeners:o}))}var Xo=null,Zl=null;function Rv(s){XT(s,0)}function Yu(s){var o=Ho(s);if(Zt(o))return s}function _m(s,o){if(s==="change")return o}var Da=!1;if(Ra){var gf;if(Ra){var xm="oninput"in document;if(!xm){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),xm=typeof bm.oninput=="function"}gf=xm}else gf=!1;Da=gf&&(!document.documentMode||9<document.documentMode)}function Ns(){Xo&&(Xo.detachEvent("onpropertychange",vf),Zl=Xo=null)}function vf(s){if(s.propertyName==="value"&&Yu(Zl)){var o=[];Jh(o,Zl,s,Hh(s)),om(Rv,o)}}function Dv(s,o,h){s==="focusin"?(Ns(),Xo=o,Zl=h,Xo.attachEvent("onpropertychange",vf)):s==="focusout"&&Ns()}function Sm(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yu(Zl)}function Nv(s,o){if(s==="click")return Yu(o)}function Lv(s,o){if(s==="input"||s==="change")return Yu(o)}function Mm(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Ar=typeof Object.is=="function"?Object.is:Mm;function Zu(s,o){if(Ar(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var h=Object.keys(s),m=Object.keys(o);if(h.length!==m.length)return!1;for(m=0;m<h.length;m++){var S=h[m];if(!dt.call(o,S)||!Ar(s[S],o[S]))return!1}return!0}function yf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Ku(s,o){var h=yf(s);s=0;for(var m;h;){if(h.nodeType===3){if(m=s+h.textContent.length,s<=o&&m>=o)return{node:h,offset:o-s};s=m}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=yf(h)}}function Gn(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Gn(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ov(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var o=ht(s.document);o instanceof s.HTMLIFrameElement;){try{var h=typeof o.contentWindow.location.href=="string"}catch{h=!1}if(h)s=o.contentWindow;else break;o=ht(s.document)}return o}function Em(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}var Iv=Ra&&"documentMode"in document&&11>=document.documentMode,Na=null,La=null,$u=null,ed=!1;function Qu(s,o,h){var m=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;ed||Na==null||Na!==ht(m)||(m=Na,"selectionStart"in m&&Em(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),$u&&Zu($u,m)||($u=m,m=Oy(La,"onSelect"),0<m.length&&(o=new hf("onSelect","select",null,o,h),s.push({event:o,listeners:m}),o.target=Na)))}function _r(s,o){var h={};return h[s.toLowerCase()]=o.toLowerCase(),h["Webkit"+s]="webkit"+o,h["Moz"+s]="moz"+o,h}var Kl={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionrun:_r("Transition","TransitionRun"),transitionstart:_r("Transition","TransitionStart"),transitioncancel:_r("Transition","TransitionCancel"),transitionend:_r("Transition","TransitionEnd")},_f={},Tm={};Ra&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Kl.animationend.animation,delete Kl.animationiteration.animation,delete Kl.animationstart.animation),"TransitionEvent"in window||delete Kl.transitionend.transition);function ho(s){if(_f[s])return _f[s];if(!Kl[s])return s;var o=Kl[s],h;for(h in o)if(o.hasOwnProperty(h)&&h in Tm)return _f[s]=o[h];return s}var td=ho("animationend"),xf=ho("animationiteration"),wm=ho("animationstart"),Pv=ho("transitionrun"),_1=ho("transitionstart"),Uv=ho("transitioncancel"),Am=ho("transitionend"),Ls=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function Os(s,o){Ls.set(s,o),Me(o,[s])}var Sf=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Is=[],po=0,tr=0;function Mf(){for(var s=po,o=tr=po=0;o<s;){var h=Is[o];Is[o++]=null;var m=Is[o];Is[o++]=null;var S=Is[o];Is[o++]=null;var w=Is[o];if(Is[o++]=null,m!==null&&S!==null){var U=m.pending;U===null?S.next=S:(S.next=U.next,U.next=S),m.pending=S}w!==0&&jo(h,S,w)}}function nr(s,o,h,m){Is[po++]=s,Is[po++]=o,Is[po++]=h,Is[po++]=m,tr|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function nd(s,o,h,m){return nr(s,o,h,m),Ps(s)}function Cr(s,o){return nr(s,null,null,o),Ps(s)}function jo(s,o,h){s.lanes|=h;var m=s.alternate;m!==null&&(m.lanes|=h);for(var S=!1,w=s.return;w!==null;)w.childLanes|=h,m=w.alternate,m!==null&&(m.childLanes|=h),w.tag===22&&(s=w.stateNode,s===null||s._visibility&1||(S=!0)),s=w,w=w.return;return s.tag===3?(w=s.stateNode,S&&o!==null&&(S=31-te(h),s=w.hiddenUpdates,m=s[S],m===null?s[S]=[o]:m.push(o),o.lane=h|536870912),w):null}function Ps(s){if(50<fl)throw fl=0,mu=null,Error(n(185));for(var o=s.return;o!==null;)s=o,o=s.return;return s.tag===3?s.stateNode:null}var qo={};function Cm(s,o,h,m){this.tag=s,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,o,h,m){return new Cm(s,o,h,m)}function id(s){return s=s.prototype,!(!s||!s.isReactComponent)}function kr(s,o){var h=s.alternate;return h===null?(h=ai(s.tag,o,s.key,s.mode),h.elementType=s.elementType,h.type=s.type,h.stateNode=s.stateNode,h.alternate=s,s.alternate=h):(h.pendingProps=o,h.type=s.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=s.flags&65011712,h.childLanes=s.childLanes,h.lanes=s.lanes,h.child=s.child,h.memoizedProps=s.memoizedProps,h.memoizedState=s.memoizedState,h.updateQueue=s.updateQueue,o=s.dependencies,h.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},h.sibling=s.sibling,h.index=s.index,h.ref=s.ref,h.refCleanup=s.refCleanup,h}function Ju(s,o){s.flags&=65011714;var h=s.alternate;return h===null?(s.childLanes=0,s.lanes=o,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,o=h.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s}function Oa(s,o,h,m,S,w){var U=0;if(m=s,typeof s=="function")id(s)&&(U=1);else if(typeof s=="string")U=HL(s,h,ze.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case I:return s=ai(31,h,o,S),s.elementType=I,s.lanes=w,s;case T:return Yo(h.children,S,w,o);case A:U=8,S|=24;break;case M:return s=ai(12,h,o,S|2),s.elementType=M,s.lanes=w,s;case P:return s=ai(13,h,o,S),s.elementType=P,s.lanes=w,s;case z:return s=ai(19,h,o,S),s.elementType=z,s.lanes=w,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:U=10;break e;case R:U=9;break e;case L:U=11;break e;case B:U=14;break e;case k:U=16,m=null;break e}U=29,h=Error(n(130,s===null?"null":typeof s,"")),m=null}return o=ai(U,h,o,S),o.elementType=s,o.type=m,o.lanes=w,o}function Yo(s,o,h,m){return s=ai(7,s,m,o),s.lanes=h,s}function rd(s,o,h){return s=ai(6,s,null,o),s.lanes=h,s}function ec(s){var o=ai(18,null,null,0);return o.stateNode=s,o}function sd(s,o,h){return o=ai(4,s.children!==null?s.children:[],s.key,o),o.lanes=h,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}var Ef=new WeakMap;function hs(s,o){if(typeof s=="object"&&s!==null){var h=Ef.get(s);return h!==void 0?h:(o={value:s,source:o,stack:Y(o)},Ef.set(s,o),o)}return{value:s,source:o,stack:Y(o)}}var Zo=[],Ko=0,tc=null,nc=0,Vr=[],Qn=0,mo=null,oi=1,la="";function Ia(s,o){Zo[Ko++]=nc,Zo[Ko++]=tc,tc=s,nc=o}function zv(s,o,h){Vr[Qn++]=oi,Vr[Qn++]=la,Vr[Qn++]=mo,mo=s;var m=oi;s=la;var S=32-te(m)-1;m&=~(1<<S),h+=1;var w=32-te(o)+S;if(30<w){var U=S-S%5;w=(m&(1<<U)-1).toString(32),m>>=U,S-=U,oi=1<<32-te(o)+S|h<<S|m,la=w+s}else oi=1<<w|h<<S|m,la=s}function Pa(s){s.return!==null&&(Ia(s,1),zv(s,1,0))}function ad(s){for(;s===tc;)tc=Zo[--Ko],Zo[Ko]=null,nc=Zo[--Ko],Zo[Ko]=null;for(;s===mo;)mo=Vr[--Qn],Vr[Qn]=null,la=Vr[--Qn],Vr[Qn]=null,oi=Vr[--Qn],Vr[Qn]=null}function od(s,o){Vr[Qn++]=oi,Vr[Qn++]=la,Vr[Qn++]=mo,oi=o.id,la=o.overflow,mo=s}var pi=null,Wn=null,gn=!1,go=null,ds=!1,ic=Error(n(519));function Ua(s){var o=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(hs(o,s)),ic}function Fv(s){var o=s.stateNode,h=s.type,m=s.memoizedProps;switch(o[si]=s,o[Vi]=m,h){case"dialog":_n("cancel",o),_n("close",o);break;case"iframe":case"object":case"embed":_n("load",o);break;case"video":case"audio":for(h=0;h<Ys.length;h++)_n(Ys[h],o);break;case"source":_n("error",o);break;case"img":case"image":case"link":_n("error",o),_n("load",o);break;case"details":_n("toggle",o);break;case"input":_n("invalid",o),oa(o,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":_n("invalid",o);break;case"textarea":_n("invalid",o),Hi(o,m.value,m.defaultValue,m.children)}h=m.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||o.textContent===""+h||m.suppressHydrationWarning===!0||ZT(o.textContent,h)?(m.popover!=null&&(_n("beforetoggle",o),_n("toggle",o)),m.onScroll!=null&&_n("scroll",o),m.onScrollEnd!=null&&_n("scrollend",o),m.onClick!=null&&(o.onclick=fo),o=!0):o=!1,o||Ua(s,!0)}function Bv(s){for(pi=s.return;pi;)switch(pi.tag){case 5:case 31:case 13:ds=!1;return;case 27:case 3:ds=!0;return;default:pi=pi.return}}function rc(s){if(s!==pi)return!1;if(!gn)return Bv(s),gn=!0,!1;var o=s.tag,h;if((h=o!==3&&o!==27)&&((h=o===5)&&(h=s.type,h=!(h!=="form"&&h!=="button")||P1(s.type,s.memoizedProps)),h=!h),h&&Wn&&Ua(s),Bv(s),o===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Wn=rw(s)}else if(o===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));Wn=rw(s)}else o===27?(o=Wn,Ec(s.type)?(s=k1,k1=null,Wn=s):Wn=o):Wn=pi?$a(s.stateNode.nextSibling):null;return!0}function $o(){Wn=pi=null,gn=!1}function ld(){var s=go;return s!==null&&(gi===null?gi=s:gi.push.apply(gi,s),go=null),s}function za(s){go===null?go=[s]:go.push(s)}var sc=j(null),Qo=null,Fa=null;function vo(s,o,h){Re(sc,o._currentValue),o._currentValue=h}function Ba(s){s._currentValue=sc.current,le(sc)}function ud(s,o,h){for(;s!==null;){var m=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,m!==null&&(m.childLanes|=o)):m!==null&&(m.childLanes&o)!==o&&(m.childLanes|=o),s===h)break;s=s.return}}function cd(s,o,h,m){var S=s.child;for(S!==null&&(S.return=s);S!==null;){var w=S.dependencies;if(w!==null){var U=S.child;w=w.firstContext;e:for(;w!==null;){var G=w;w=S;for(var re=0;re<o.length;re++)if(G.context===o[re]){w.lanes|=h,G=w.alternate,G!==null&&(G.lanes|=h),ud(w.return,h,s),m||(U=null);break e}w=G.next}}else if(S.tag===18){if(U=S.return,U===null)throw Error(n(341));U.lanes|=h,w=U.alternate,w!==null&&(w.lanes|=h),ud(U,h,s),U=null}else U=S.child;if(U!==null)U.return=S;else for(U=S;U!==null;){if(U===s){U=null;break}if(S=U.sibling,S!==null){S.return=U.return,U=S;break}U=U.return}S=U}}function ka(s,o,h,m){s=null;for(var S=o,w=!1;S!==null;){if(!w){if((S.flags&524288)!==0)w=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var U=S.alternate;if(U===null)throw Error(n(387));if(U=U.memoizedProps,U!==null){var G=S.type;Ar(S.pendingProps.value,U.value)||(s!==null?s.push(G):s=[G])}}else if(S===De.current){if(U=S.alternate,U===null)throw Error(n(387));U.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(s!==null?s.push(Tg):s=[Tg])}S=S.return}s!==null&&cd(o,s,h,m),o.flags|=262144}function Tf(s){for(s=s.firstContext;s!==null;){if(!Ar(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Jo(s){Qo=s,Fa=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Gt(s){return kv(Qo,s)}function ac(s,o){return Qo===null&&Jo(s),kv(s,o)}function kv(s,o){var h=o._currentValue;if(o={context:o,memoizedValue:h,next:null},Fa===null){if(s===null)throw Error(n(308));Fa=o,s.dependencies={lanes:0,firstContext:o},s.flags|=524288}else Fa=Fa.next=o;return h}var Vv=typeof AbortController<"u"?AbortController:function(){var s=[],o=this.signal={aborted:!1,addEventListener:function(h,m){s.push(m)}};this.abort=function(){o.aborted=!0,s.forEach(function(h){return h()})}},x1=r.unstable_scheduleCallback,b1=r.unstable_NormalPriority,Oi={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rm(){return{controller:new Vv,data:new Map,refCount:0}}function $l(s){s.refCount--,s.refCount===0&&x1(b1,function(){s.controller.abort()})}var ps=null,fd=0,yo=0,Us=null;function Dm(s,o){if(ps===null){var h=ps=[];fd=0,yo=Ne(),Us={status:"pending",value:void 0,then:function(m){h.push(m)}}}return fd++,o.then(Nm,Nm),o}function Nm(){if(--fd===0&&ps!==null){Us!==null&&(Us.status="fulfilled");var s=ps;ps=null,yo=0,Us=null;for(var o=0;o<s.length;o++)(0,s[o])()}}function Lm(s,o){var h=[],m={status:"pending",value:null,reason:null,then:function(S){h.push(S)}};return s.then(function(){m.status="fulfilled",m.value=o;for(var S=0;S<h.length;S++)(0,h[S])(o)},function(S){for(m.status="rejected",m.reason=S,S=0;S<h.length;S++)(0,h[S])(void 0)}),m}var Hv=Z.S;Z.S=function(s,o){_g=F(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&Dm(s,o),Hv!==null&&Hv(s,o)};var el=j(null);function hd(){var s=el.current;return s!==null?s:qt.pooledCache}function wf(s,o){o===null?Re(el,el.current):Re(el,o.pool)}function Om(){var s=hd();return s===null?null:{parent:Oi._currentValue,pool:s}}var Ql=Error(n(460)),Af=Error(n(474)),sn=Error(n(542)),dd={then:function(){}};function Hr(s){return s=s.status,s==="fulfilled"||s==="rejected"}function pd(s,o,h){switch(h=s[h],h===void 0?s.push(o):h!==o&&(o.then(fo,fo),o=h),o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,tu(s),s;default:if(typeof o.status=="string")o.then(fo,fo);else{if(s=qt,s!==null&&100<s.shellSuspendCounter)throw Error(n(482));s=o,s.status="pending",s.then(function(m){if(o.status==="pending"){var S=o;S.status="fulfilled",S.value=m}},function(m){if(o.status==="pending"){var S=o;S.status="rejected",S.reason=m}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw s=o.reason,tu(s),s}throw Va=o,Ql}}function Jl(s){try{var o=s._init;return o(s._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Va=h,Ql):h}}var Va=null;function eu(){if(Va===null)throw Error(n(459));var s=Va;return Va=null,s}function tu(s){if(s===Ql||s===sn)throw Error(n(483))}var nu=null,iu=0;function Cf(s){var o=iu;return iu+=1,nu===null&&(nu=[]),pd(nu,s,o)}function zs(s,o){o=o.props.ref,s.ref=o!==void 0?o:null}function oc(s,o){throw o.$$typeof===_?Error(n(525)):(s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s)))}function md(s){function o(de,ae){if(s){var xe=de.deletions;xe===null?(de.deletions=[ae],de.flags|=16):xe.push(ae)}}function h(de,ae){if(!s)return null;for(;ae!==null;)o(de,ae),ae=ae.sibling;return null}function m(de){for(var ae=new Map;de!==null;)de.key!==null?ae.set(de.key,de):ae.set(de.index,de),de=de.sibling;return ae}function S(de,ae){return de=kr(de,ae),de.index=0,de.sibling=null,de}function w(de,ae,xe){return de.index=xe,s?(xe=de.alternate,xe!==null?(xe=xe.index,xe<ae?(de.flags|=67108866,ae):xe):(de.flags|=67108866,ae)):(de.flags|=1048576,ae)}function U(de){return s&&de.alternate===null&&(de.flags|=67108866),de}function G(de,ae,xe,He){return ae===null||ae.tag!==6?(ae=rd(xe,de.mode,He),ae.return=de,ae):(ae=S(ae,xe),ae.return=de,ae)}function re(de,ae,xe,He){var Ut=xe.type;return Ut===T?Fe(de,ae,xe.props.children,He,xe.key):ae!==null&&(ae.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===k&&Jl(Ut)===ae.type)?(ae=S(ae,xe.props),zs(ae,xe),ae.return=de,ae):(ae=Oa(xe.type,xe.key,xe.props,null,de.mode,He),zs(ae,xe),ae.return=de,ae)}function Se(de,ae,xe,He){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==xe.containerInfo||ae.stateNode.implementation!==xe.implementation?(ae=sd(xe,de.mode,He),ae.return=de,ae):(ae=S(ae,xe.children||[]),ae.return=de,ae)}function Fe(de,ae,xe,He,Ut){return ae===null||ae.tag!==7?(ae=Yo(xe,de.mode,He,Ut),ae.return=de,ae):(ae=S(ae,xe),ae.return=de,ae)}function We(de,ae,xe){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=rd(""+ae,de.mode,xe),ae.return=de,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case x:return xe=Oa(ae.type,ae.key,ae.props,null,de.mode,xe),zs(xe,ae),xe.return=de,xe;case E:return ae=sd(ae,de.mode,xe),ae.return=de,ae;case k:return ae=Jl(ae),We(de,ae,xe)}if(ue(ae)||ee(ae))return ae=Yo(ae,de.mode,xe,null),ae.return=de,ae;if(typeof ae.then=="function")return We(de,Cf(ae),xe);if(ae.$$typeof===D)return We(de,ac(de,ae),xe);oc(de,ae)}return null}function we(de,ae,xe,He){var Ut=ae!==null?ae.key:null;if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return Ut!==null?null:G(de,ae,""+xe,He);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:return xe.key===Ut?re(de,ae,xe,He):null;case E:return xe.key===Ut?Se(de,ae,xe,He):null;case k:return xe=Jl(xe),we(de,ae,xe,He)}if(ue(xe)||ee(xe))return Ut!==null?null:Fe(de,ae,xe,He,null);if(typeof xe.then=="function")return we(de,ae,Cf(xe),He);if(xe.$$typeof===D)return we(de,ae,ac(de,xe),He);oc(de,xe)}return null}function Ie(de,ae,xe,He,Ut){if(typeof He=="string"&&He!==""||typeof He=="number"||typeof He=="bigint")return de=de.get(xe)||null,G(ae,de,""+He,Ut);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case x:return de=de.get(He.key===null?xe:He.key)||null,re(ae,de,He,Ut);case E:return de=de.get(He.key===null?xe:He.key)||null,Se(ae,de,He,Ut);case k:return He=Jl(He),Ie(de,ae,xe,He,Ut)}if(ue(He)||ee(He))return de=de.get(xe)||null,Fe(ae,de,He,Ut,null);if(typeof He.then=="function")return Ie(de,ae,xe,Cf(He),Ut);if(He.$$typeof===D)return Ie(de,ae,xe,ac(ae,He),Ut);oc(ae,He)}return null}function At(de,ae,xe,He){for(var Ut=null,Ln=null,Rt=ae,un=ae=0,Sn=null;Rt!==null&&un<xe.length;un++){Rt.index>un?(Sn=Rt,Rt=null):Sn=Rt.sibling;var On=we(de,Rt,xe[un],He);if(On===null){Rt===null&&(Rt=Sn);break}s&&Rt&&On.alternate===null&&o(de,Rt),ae=w(On,ae,un),Ln===null?Ut=On:Ln.sibling=On,Ln=On,Rt=Sn}if(un===xe.length)return h(de,Rt),gn&&Ia(de,un),Ut;if(Rt===null){for(;un<xe.length;un++)Rt=We(de,xe[un],He),Rt!==null&&(ae=w(Rt,ae,un),Ln===null?Ut=Rt:Ln.sibling=Rt,Ln=Rt);return gn&&Ia(de,un),Ut}for(Rt=m(Rt);un<xe.length;un++)Sn=Ie(Rt,de,un,xe[un],He),Sn!==null&&(s&&Sn.alternate!==null&&Rt.delete(Sn.key===null?un:Sn.key),ae=w(Sn,ae,un),Ln===null?Ut=Sn:Ln.sibling=Sn,Ln=Sn);return s&&Rt.forEach(function(Rc){return o(de,Rc)}),gn&&Ia(de,un),Ut}function Ht(de,ae,xe,He){if(xe==null)throw Error(n(151));for(var Ut=null,Ln=null,Rt=ae,un=ae=0,Sn=null,On=xe.next();Rt!==null&&!On.done;un++,On=xe.next()){Rt.index>un?(Sn=Rt,Rt=null):Sn=Rt.sibling;var Rc=we(de,Rt,On.value,He);if(Rc===null){Rt===null&&(Rt=Sn);break}s&&Rt&&Rc.alternate===null&&o(de,Rt),ae=w(Rc,ae,un),Ln===null?Ut=Rc:Ln.sibling=Rc,Ln=Rc,Rt=Sn}if(On.done)return h(de,Rt),gn&&Ia(de,un),Ut;if(Rt===null){for(;!On.done;un++,On=xe.next())On=We(de,On.value,He),On!==null&&(ae=w(On,ae,un),Ln===null?Ut=On:Ln.sibling=On,Ln=On);return gn&&Ia(de,un),Ut}for(Rt=m(Rt);!On.done;un++,On=xe.next())On=Ie(Rt,de,un,On.value,He),On!==null&&(s&&On.alternate!==null&&Rt.delete(On.key===null?un:On.key),ae=w(On,ae,un),Ln===null?Ut=On:Ln.sibling=On,Ln=On);return s&&Rt.forEach(function(JL){return o(de,JL)}),gn&&Ia(de,un),Ut}function qn(de,ae,xe,He){if(typeof xe=="object"&&xe!==null&&xe.type===T&&xe.key===null&&(xe=xe.props.children),typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case x:e:{for(var Ut=xe.key;ae!==null;){if(ae.key===Ut){if(Ut=xe.type,Ut===T){if(ae.tag===7){h(de,ae.sibling),He=S(ae,xe.props.children),He.return=de,de=He;break e}}else if(ae.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===k&&Jl(Ut)===ae.type){h(de,ae.sibling),He=S(ae,xe.props),zs(He,xe),He.return=de,de=He;break e}h(de,ae);break}else o(de,ae);ae=ae.sibling}xe.type===T?(He=Yo(xe.props.children,de.mode,He,xe.key),He.return=de,de=He):(He=Oa(xe.type,xe.key,xe.props,null,de.mode,He),zs(He,xe),He.return=de,de=He)}return U(de);case E:e:{for(Ut=xe.key;ae!==null;){if(ae.key===Ut)if(ae.tag===4&&ae.stateNode.containerInfo===xe.containerInfo&&ae.stateNode.implementation===xe.implementation){h(de,ae.sibling),He=S(ae,xe.children||[]),He.return=de,de=He;break e}else{h(de,ae);break}else o(de,ae);ae=ae.sibling}He=sd(xe,de.mode,He),He.return=de,de=He}return U(de);case k:return xe=Jl(xe),qn(de,ae,xe,He)}if(ue(xe))return At(de,ae,xe,He);if(ee(xe)){if(Ut=ee(xe),typeof Ut!="function")throw Error(n(150));return xe=Ut.call(xe),Ht(de,ae,xe,He)}if(typeof xe.then=="function")return qn(de,ae,Cf(xe),He);if(xe.$$typeof===D)return qn(de,ae,ac(de,xe),He);oc(de,xe)}return typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint"?(xe=""+xe,ae!==null&&ae.tag===6?(h(de,ae.sibling),He=S(ae,xe),He.return=de,de=He):(h(de,ae),He=rd(xe,de.mode,He),He.return=de,de=He),U(de)):h(de,ae)}return function(de,ae,xe,He){try{iu=0;var Ut=qn(de,ae,xe,He);return nu=null,Ut}catch(Rt){if(Rt===Ql||Rt===sn)throw Rt;var Ln=ai(29,Rt,null,de.mode);return Ln.lanes=He,Ln.return=de,Ln}finally{}}}var _o=md(!0),gd=md(!1),Rr=!1;function Rf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Im(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function xo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function tl(s,o,h){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(Dt&2)!==0){var S=m.pending;return S===null?o.next=o:(o.next=S.next,S.next=o),m.pending=o,o=Ps(s),jo(s,null,h),o}return nr(s,m,o,h),Ps(s)}function nl(s,o,h){if(o=o.updateQueue,o!==null&&(o=o.shared,(h&4194048)!==0)){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,Bo(s,h)}}function Pt(s,o){var h=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,h===m)){var S=null,w=null;if(h=h.firstBaseUpdate,h!==null){do{var U={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};w===null?S=w=U:w=w.next=U,h=h.next}while(h!==null);w===null?S=w=o:w=w.next=o}else S=w=o;h={baseState:m.baseState,firstBaseUpdate:S,lastBaseUpdate:w,shared:m.shared,callbacks:m.callbacks},s.updateQueue=h;return}s=h.lastBaseUpdate,s===null?h.firstBaseUpdate=o:s.next=o,h.lastBaseUpdate=o}var Pm=!1;function Df(){if(Pm){var s=Us;if(s!==null)throw s}}function lc(s,o,h,m){Pm=!1;var S=s.updateQueue;Rr=!1;var w=S.firstBaseUpdate,U=S.lastBaseUpdate,G=S.shared.pending;if(G!==null){S.shared.pending=null;var re=G,Se=re.next;re.next=null,U===null?w=Se:U.next=Se,U=re;var Fe=s.alternate;Fe!==null&&(Fe=Fe.updateQueue,G=Fe.lastBaseUpdate,G!==U&&(G===null?Fe.firstBaseUpdate=Se:G.next=Se,Fe.lastBaseUpdate=re))}if(w!==null){var We=S.baseState;U=0,Fe=Se=re=null,G=w;do{var we=G.lane&-536870913,Ie=we!==G.lane;if(Ie?(tn&we)===we:(m&we)===we){we!==0&&we===yo&&(Pm=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});e:{var At=s,Ht=G;we=o;var qn=h;switch(Ht.tag){case 1:if(At=Ht.payload,typeof At=="function"){We=At.call(qn,We,we);break e}We=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Ht.payload,we=typeof At=="function"?At.call(qn,We,we):At,we==null)break e;We=y({},We,we);break e;case 2:Rr=!0}}we=G.callback,we!==null&&(s.flags|=64,Ie&&(s.flags|=8192),Ie=S.callbacks,Ie===null?S.callbacks=[we]:Ie.push(we))}else Ie={lane:we,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Fe===null?(Se=Fe=Ie,re=We):Fe=Fe.next=Ie,U|=we;if(G=G.next,G===null){if(G=S.shared.pending,G===null)break;Ie=G,G=Ie.next,Ie.next=null,S.lastBaseUpdate=Ie,S.shared.pending=null}}while(!0);Fe===null&&(re=We),S.baseState=re,S.firstBaseUpdate=Se,S.lastBaseUpdate=Fe,w===null&&(S.shared.lanes=0),Ya|=U,s.lanes=U,s.memoizedState=We}}function uc(s,o){if(typeof s!="function")throw Error(n(191,s));s.call(o)}function Gv(s,o){var h=s.callbacks;if(h!==null)for(s.callbacks=null,s=0;s<h.length;s++)uc(h[s],o)}var cc=j(null),vd=j(0);function Wv(s,o){s=ys,Re(vd,s),Re(cc,o),ys=s|o.baseLanes}function Um(){Re(vd,ys),Re(cc,cc.current)}function Nf(){ys=vd.current,le(cc),le(vd)}var Gr=j(null),Dr=null;function bo(s){var o=s.alternate;Re(vn,vn.current&1),Re(Gr,s),Dr===null&&(o===null||cc.current!==null||o.memoizedState!==null)&&(Dr=s)}function zm(s){Re(vn,vn.current),Re(Gr,s),Dr===null&&(Dr=s)}function Xv(s){s.tag===22?(Re(vn,vn.current),Re(Gr,s),Dr===null&&(Dr=s)):Wr()}function Wr(){Re(vn,vn.current),Re(Gr,Gr.current)}function _i(s){le(Gr),Dr===s&&(Dr=null),le(vn)}var vn=j(0);function ms(s){for(var o=s;o!==null;){if(o.tag===13){var h=o.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||F1(h)||B1(h)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Jn=0,$t=null,Bn=null,dn=null,Fs=!1,fc=!1,ru=!1,yd=0,Lf=0,hc=null,Fm=0;function li(){throw Error(n(321))}function Bm(s,o){if(o===null)return!1;for(var h=0;h<o.length&&h<s.length;h++)if(!Ar(s[h],o[h]))return!1;return!0}function _d(s,o,h,m,S,w){return Jn=w,$t=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Z.H=s===null||s.memoizedState===null?My:sg,ru=!1,w=h(m,S),ru=!1,fc&&(w=su(o,h,m,S)),jv(s),w}function jv(s){Z.H=dc;var o=Bn!==null&&Bn.next!==null;if(Jn=0,dn=Bn=$t=null,Fs=!1,Lf=0,hc=null,o)throw Error(n(300));s===null||Ii||(s=s.dependencies,s!==null&&Tf(s)&&(Ii=!0))}function su(s,o,h,m){$t=s;var S=0;do{if(fc&&(hc=null),Lf=0,fc=!1,25<=S)throw Error(n(301));if(S+=1,dn=Bn=null,s.updateQueue!=null){var w=s.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}Z.H=Bs,w=o(h,m)}while(fc);return w}function au(){var s=Z.H,o=s.useState()[0];return o=typeof o.then=="function"?Of(o):o,s=s.useState()[0],(Bn!==null?Bn.memoizedState:null)!==s&&($t.flags|=1024),o}function km(){var s=yd!==0;return yd=0,s}function Vm(s,o,h){o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~h}function Hm(s){if(Fs){for(s=s.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}Fs=!1}Jn=0,dn=Bn=$t=null,fc=!1,Lf=yd=0,hc=null}function Gi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?$t.memoizedState=dn=s:dn=dn.next=s,dn}function xi(){if(Bn===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=Bn.next;var o=dn===null?$t.memoizedState:dn.next;if(o!==null)dn=o,Bn=s;else{if(s===null)throw $t.alternate===null?Error(n(467)):Error(n(310));Bn=s,s={memoizedState:Bn.memoizedState,baseState:Bn.baseState,baseQueue:Bn.baseQueue,queue:Bn.queue,next:null},dn===null?$t.memoizedState=dn=s:dn=dn.next=s}return dn}function xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(s){var o=Lf;return Lf+=1,hc===null&&(hc=[]),s=pd(hc,s,o),o=$t,(dn===null?o.memoizedState:dn.next)===null&&(o=o.alternate,Z.H=o===null||o.memoizedState===null?My:sg),s}function il(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Of(s);if(s.$$typeof===D)return Gt(s)}throw Error(n(438,String(s)))}function Gm(s){var o=null,h=$t.updateQueue;if(h!==null&&(o=h.memoCache),o==null){var m=$t.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(o={data:m.data.map(function(S){return S.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),h===null&&(h=xd(),$t.updateQueue=h),h.memoCache=o,h=o.data[o.index],h===void 0)for(h=o.data[o.index]=Array(s),m=0;m<s;m++)h[m]=O;return o.index++,h}function So(s,o){return typeof o=="function"?o(s):o}function bd(s){var o=xi();return Wm(o,Bn,s)}function Wm(s,o,h){var m=s.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=h;var S=s.baseQueue,w=m.pending;if(w!==null){if(S!==null){var U=S.next;S.next=w.next,w.next=U}o.baseQueue=S=w,m.pending=null}if(w=s.baseState,S===null)s.memoizedState=w;else{o=S.next;var G=U=null,re=null,Se=o,Fe=!1;do{var We=Se.lane&-536870913;if(We!==Se.lane?(tn&We)===We:(Jn&We)===We){var we=Se.revertLane;if(we===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null}),We===yo&&(Fe=!0);else if((Jn&we)===we){Se=Se.next,we===yo&&(Fe=!0);continue}else We={lane:0,revertLane:Se.revertLane,gesture:null,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},re===null?(G=re=We,U=w):re=re.next=We,$t.lanes|=we,Ya|=we;We=Se.action,ru&&h(w,We),w=Se.hasEagerState?Se.eagerState:h(w,We)}else we={lane:We,revertLane:Se.revertLane,gesture:Se.gesture,action:Se.action,hasEagerState:Se.hasEagerState,eagerState:Se.eagerState,next:null},re===null?(G=re=we,U=w):re=re.next=we,$t.lanes|=We,Ya|=We;Se=Se.next}while(Se!==null&&Se!==o);if(re===null?U=w:re.next=G,!Ar(w,s.memoizedState)&&(Ii=!0,Fe&&(h=Us,h!==null)))throw h;s.memoizedState=w,s.baseState=U,s.baseQueue=re,m.lastRenderedState=w}return S===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Xm(s){var o=xi(),h=o.queue;if(h===null)throw Error(n(311));h.lastRenderedReducer=s;var m=h.dispatch,S=h.pending,w=o.memoizedState;if(S!==null){h.pending=null;var U=S=S.next;do w=s(w,U.action),U=U.next;while(U!==S);Ar(w,o.memoizedState)||(Ii=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),h.lastRenderedState=w}return[w,m]}function qv(s,o,h){var m=$t,S=xi(),w=gn;if(w){if(h===void 0)throw Error(n(407));h=h()}else h=o();var U=!Ar((Bn||S).memoizedState,h);if(U&&(S.memoizedState=h,Ii=!0),S=S.queue,Jm(Kv.bind(null,m,S,s),[s]),S.getSnapshot!==o||U||dn!==null&&dn.memoizedState.tag&1){if(m.flags|=2048,rl(9,{destroy:void 0},Zv.bind(null,m,S,h,o),null),qt===null)throw Error(n(349));w||(Jn&127)!==0||Yv(m,o,h)}return h}function Yv(s,o,h){s.flags|=16384,s={getSnapshot:o,value:h},o=$t.updateQueue,o===null?(o=xd(),$t.updateQueue=o,o.stores=[s]):(h=o.stores,h===null?o.stores=[s]:h.push(s))}function Zv(s,o,h,m){o.value=h,o.getSnapshot=m,$v(o)&&Qv(s)}function Kv(s,o,h){return h(function(){$v(o)&&Qv(s)})}function $v(s){var o=s.getSnapshot;s=s.value;try{var h=o();return!Ar(s,h)}catch{return!0}}function Qv(s){var o=Cr(s,2);o!==null&&on(o,s,2)}function jm(s){var o=Gi();if(typeof s=="function"){var h=s;if(s=h(),ru){pt(!0);try{h()}finally{pt(!1)}}}return o.memoizedState=o.baseState=s,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:s},o}function qm(s,o,h,m){return s.baseState=h,Wm(s,Bn,typeof m=="function"?m:So)}function S1(s,o,h,m,S){if(Td(s))throw Error(n(485));if(s=o.action,s!==null){var w={payload:S,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(U){w.listeners.push(U)}};Z.T!==null?h(!0):w.isTransition=!1,m(w),h=o.pending,h===null?(w.next=o.pending=w,Jv(o,w)):(w.next=h.next,o.pending=h.next=w)}}function Jv(s,o){var h=o.action,m=o.payload,S=s.state;if(o.isTransition){var w=Z.T,U={};Z.T=U;try{var G=h(S,m),re=Z.S;re!==null&&re(U,G),ey(s,o,G)}catch(Se){Ym(s,o,Se)}finally{w!==null&&U.types!==null&&(w.types=U.types),Z.T=w}}else try{w=h(S,m),ey(s,o,w)}catch(Se){Ym(s,o,Se)}}function ey(s,o,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(m){ty(s,o,m)},function(m){return Ym(s,o,m)}):ty(s,o,h)}function ty(s,o,h){o.status="fulfilled",o.value=h,ny(o),s.state=h,o=s.pending,o!==null&&(h=o.next,h===o?s.pending=null:(h=h.next,o.next=h,Jv(s,h)))}function Ym(s,o,h){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do o.status="rejected",o.reason=h,ny(o),o=o.next;while(o!==m)}s.action=null}function ny(s){s=s.listeners;for(var o=0;o<s.length;o++)(0,s[o])()}function Zm(s,o){return o}function Km(s,o){if(gn){var h=qt.formState;if(h!==null){e:{var m=$t;if(gn){if(Wn){t:{for(var S=Wn,w=ds;S.nodeType!==8;){if(!w){S=null;break t}if(S=$a(S.nextSibling),S===null){S=null;break t}}w=S.data,S=w==="F!"||w==="F"?S:null}if(S){Wn=$a(S.nextSibling),m=S.data==="F!";break e}}Ua(m)}m=!1}m&&(o=h[0])}}return h=Gi(),h.memoizedState=h.baseState=o,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:o},h.queue=m,h=xy.bind(null,$t,m),m.dispatch=h,m=jm(!1),w=rg.bind(null,$t,!1,m.queue),m=Gi(),S={state:o,dispatch:null,action:s,pending:null},m.queue=S,h=S1.bind(null,$t,S,w,h),S.dispatch=h,m.memoizedState=s,[o,h,!1]}function iy(s){var o=xi();return $m(o,Bn,s)}function $m(s,o,h){if(o=Wm(s,o,Zm)[0],s=bd(So)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var m=Of(o)}catch(U){throw U===Ql?sn:U}else m=o;o=xi();var S=o.queue,w=S.dispatch;return h!==o.memoizedState&&($t.flags|=2048,rl(9,{destroy:void 0},ry.bind(null,S,h),null)),[m,w,s]}function ry(s,o){s.action=o}function Qm(s){var o=xi(),h=Bn;if(h!==null)return $m(o,h,s);xi(),o=o.memoizedState,h=xi();var m=h.queue.dispatch;return h.memoizedState=s,[o,m,!1]}function rl(s,o,h,m){return s={tag:s,create:h,deps:m,inst:o,next:null},o=$t.updateQueue,o===null&&(o=xd(),$t.updateQueue=o),h=o.lastEffect,h===null?o.lastEffect=s.next=s:(m=h.next,h.next=s,s.next=m,o.lastEffect=s),s}function Sd(){return xi().memoizedState}function Md(s,o,h,m){var S=Gi();$t.flags|=s,S.memoizedState=rl(1|o,{destroy:void 0},h,m===void 0?null:m)}function Ed(s,o,h,m){var S=xi();m=m===void 0?null:m;var w=S.memoizedState.inst;Bn!==null&&m!==null&&Bm(m,Bn.memoizedState.deps)?S.memoizedState=rl(o,w,h,m):($t.flags|=s,S.memoizedState=rl(1|o,w,h,m))}function sy(s,o){Md(8390656,8,s,o)}function Jm(s,o){Ed(2048,8,s,o)}function ay(s){$t.flags|=4;var o=$t.updateQueue;if(o===null)o=xd(),$t.updateQueue=o,o.events=[s];else{var h=o.events;h===null?o.events=[s]:h.push(s)}}function oy(s){var o=xi().memoizedState;return ay({ref:o,nextImpl:s}),function(){if((Dt&2)!==0)throw Error(n(440));return o.impl.apply(void 0,arguments)}}function ly(s,o){return Ed(4,2,s,o)}function uy(s,o){return Ed(4,4,s,o)}function cy(s,o){if(typeof o=="function"){s=s();var h=o(s);return function(){typeof h=="function"?h():o(null)}}if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function fy(s,o,h){h=h!=null?h.concat([s]):null,Ed(4,4,cy.bind(null,o,s),h)}function eg(){}function hy(s,o){var h=xi();o=o===void 0?null:o;var m=h.memoizedState;return o!==null&&Bm(o,m[1])?m[0]:(h.memoizedState=[s,o],s)}function dy(s,o){var h=xi();o=o===void 0?null:o;var m=h.memoizedState;if(o!==null&&Bm(o,m[1]))return m[0];if(m=s(),ru){pt(!0);try{s()}finally{pt(!1)}}return h.memoizedState=[m,o],m}function tg(s,o,h){return h===void 0||(Jn&1073741824)!==0&&(tn&261930)===0?s.memoizedState=o:(s.memoizedState=h,s=fn(),$t.lanes|=s,Ya|=s,h)}function py(s,o,h,m){return Ar(h,o)?h:cc.current!==null?(s=tg(s,h,m),Ar(s,o)||(Ii=!0),s):(Jn&42)===0||(Jn&1073741824)!==0&&(tn&261930)===0?(Ii=!0,s.memoizedState=h):(s=fn(),$t.lanes|=s,Ya|=s,o)}function my(s,o,h,m,S){var w=J.p;J.p=w!==0&&8>w?w:8;var U=Z.T,G={};Z.T=G,rg(s,!1,o,h);try{var re=S(),Se=Z.S;if(Se!==null&&Se(G,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Fe=Lm(re,m);If(s,o,Fe,xs(s))}else If(s,o,m,xs(s))}catch(We){If(s,o,{then:function(){},status:"rejected",reason:We},xs())}finally{J.p=w,U!==null&&G.types!==null&&(U.types=G.types),Z.T=U}}function M1(){}function ng(s,o,h,m){if(s.tag!==5)throw Error(n(476));var S=gy(s).queue;my(s,S,o,he,h===null?M1:function(){return vy(s),h(m)})}function gy(s){var o=s.memoizedState;if(o!==null)return o;o={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:he},next:null};var h={};return o.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:h},next:null},s.memoizedState=o,s=s.alternate,s!==null&&(s.memoizedState=o),o}function vy(s){var o=gy(s);o.next===null&&(o=s.alternate.memoizedState),If(s,o.next.queue,{},xs())}function ig(){return Gt(Tg)}function yy(){return xi().memoizedState}function _y(){return xi().memoizedState}function E1(s){for(var o=s.return;o!==null;){switch(o.tag){case 24:case 3:var h=xs();s=xo(h);var m=tl(o,s,h);m!==null&&(on(m,o,h),nl(m,o,h)),o={cache:Rm()},s.payload=o;return}o=o.return}}function T1(s,o,h){var m=xs();h={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Td(s)?by(o,h):(h=nd(s,o,h,m),h!==null&&(on(h,s,m),Sy(h,o,m)))}function xy(s,o,h){var m=xs();If(s,o,h,m)}function If(s,o,h,m){var S={lane:m,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Td(s))by(o,S);else{var w=s.alternate;if(s.lanes===0&&(w===null||w.lanes===0)&&(w=o.lastRenderedReducer,w!==null))try{var U=o.lastRenderedState,G=w(U,h);if(S.hasEagerState=!0,S.eagerState=G,Ar(G,U))return nr(s,o,S,0),qt===null&&Mf(),!1}catch{}finally{}if(h=nd(s,o,S,m),h!==null)return on(h,s,m),Sy(h,o,m),!0}return!1}function rg(s,o,h,m){if(m={lane:2,revertLane:Ne(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Td(s)){if(o)throw Error(n(479))}else o=nd(s,h,m,2),o!==null&&on(o,s,2)}function Td(s){var o=s.alternate;return s===$t||o!==null&&o===$t}function by(s,o){fc=Fs=!0;var h=s.pending;h===null?o.next=o:(o.next=h.next,h.next=o),s.pending=o}function Sy(s,o,h){if((h&4194048)!==0){var m=o.lanes;m&=s.pendingLanes,h|=m,o.lanes=h,Bo(s,h)}}var dc={readContext:Gt,use:il,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useLayoutEffect:li,useInsertionEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useSyncExternalStore:li,useId:li,useHostTransitionStatus:li,useFormState:li,useActionState:li,useOptimistic:li,useMemoCache:li,useCacheRefresh:li};dc.useEffectEvent=li;var My={readContext:Gt,use:il,useCallback:function(s,o){return Gi().memoizedState=[s,o===void 0?null:o],s},useContext:Gt,useEffect:sy,useImperativeHandle:function(s,o,h){h=h!=null?h.concat([s]):null,Md(4194308,4,cy.bind(null,o,s),h)},useLayoutEffect:function(s,o){return Md(4194308,4,s,o)},useInsertionEffect:function(s,o){Md(4,2,s,o)},useMemo:function(s,o){var h=Gi();o=o===void 0?null:o;var m=s();if(ru){pt(!0);try{s()}finally{pt(!1)}}return h.memoizedState=[m,o],m},useReducer:function(s,o,h){var m=Gi();if(h!==void 0){var S=h(o);if(ru){pt(!0);try{h(o)}finally{pt(!1)}}}else S=o;return m.memoizedState=m.baseState=S,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:S},m.queue=s,s=s.dispatch=T1.bind(null,$t,s),[m.memoizedState,s]},useRef:function(s){var o=Gi();return s={current:s},o.memoizedState=s},useState:function(s){s=jm(s);var o=s.queue,h=xy.bind(null,$t,o);return o.dispatch=h,[s.memoizedState,h]},useDebugValue:eg,useDeferredValue:function(s,o){var h=Gi();return tg(h,s,o)},useTransition:function(){var s=jm(!1);return s=my.bind(null,$t,s.queue,!0,!1),Gi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,o,h){var m=$t,S=Gi();if(gn){if(h===void 0)throw Error(n(407));h=h()}else{if(h=o(),qt===null)throw Error(n(349));(tn&127)!==0||Yv(m,o,h)}S.memoizedState=h;var w={value:h,getSnapshot:o};return S.queue=w,sy(Kv.bind(null,m,w,s),[s]),m.flags|=2048,rl(9,{destroy:void 0},Zv.bind(null,m,w,h,o),null),h},useId:function(){var s=Gi(),o=qt.identifierPrefix;if(gn){var h=la,m=oi;h=(m&~(1<<32-te(m)-1)).toString(32)+h,o="_"+o+"R_"+h,h=yd++,0<h&&(o+="H"+h.toString(32)),o+="_"}else h=Fm++,o="_"+o+"r_"+h.toString(32)+"_";return s.memoizedState=o},useHostTransitionStatus:ig,useFormState:Km,useActionState:Km,useOptimistic:function(s){var o=Gi();o.memoizedState=o.baseState=s;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=h,o=rg.bind(null,$t,!0,h),h.dispatch=o,[s,o]},useMemoCache:Gm,useCacheRefresh:function(){return Gi().memoizedState=E1.bind(null,$t)},useEffectEvent:function(s){var o=Gi(),h={impl:s};return o.memoizedState=h,function(){if((Dt&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}},sg={readContext:Gt,use:il,useCallback:hy,useContext:Gt,useEffect:Jm,useImperativeHandle:fy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:bd,useRef:Sd,useState:function(){return bd(So)},useDebugValue:eg,useDeferredValue:function(s,o){var h=xi();return py(h,Bn.memoizedState,s,o)},useTransition:function(){var s=bd(So)[0],o=xi().memoizedState;return[typeof s=="boolean"?s:Of(s),o]},useSyncExternalStore:qv,useId:yy,useHostTransitionStatus:ig,useFormState:iy,useActionState:iy,useOptimistic:function(s,o){var h=xi();return qm(h,Bn,s,o)},useMemoCache:Gm,useCacheRefresh:_y};sg.useEffectEvent=oy;var Bs={readContext:Gt,use:il,useCallback:hy,useContext:Gt,useEffect:Jm,useImperativeHandle:fy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:dy,useReducer:Xm,useRef:Sd,useState:function(){return Xm(So)},useDebugValue:eg,useDeferredValue:function(s,o){var h=xi();return Bn===null?tg(h,s,o):py(h,Bn.memoizedState,s,o)},useTransition:function(){var s=Xm(So)[0],o=xi().memoizedState;return[typeof s=="boolean"?s:Of(s),o]},useSyncExternalStore:qv,useId:yy,useHostTransitionStatus:ig,useFormState:Qm,useActionState:Qm,useOptimistic:function(s,o){var h=xi();return Bn!==null?qm(h,Bn,s,o):(h.baseState=s,[s,h.queue.dispatch])},useMemoCache:Gm,useCacheRefresh:_y};Bs.useEffectEvent=oy;function wd(s,o,h,m){o=s.memoizedState,h=h(m,o),h=h==null?o:y({},o,h),s.memoizedState=h,s.lanes===0&&(s.updateQueue.baseState=h)}var Pf={enqueueSetState:function(s,o,h){s=s._reactInternals;var m=xs(),S=xo(m);S.payload=o,h!=null&&(S.callback=h),o=tl(s,S,m),o!==null&&(on(o,s,m),nl(o,s,m))},enqueueReplaceState:function(s,o,h){s=s._reactInternals;var m=xs(),S=xo(m);S.tag=1,S.payload=o,h!=null&&(S.callback=h),o=tl(s,S,m),o!==null&&(on(o,s,m),nl(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var h=xs(),m=xo(h);m.tag=2,o!=null&&(m.callback=o),o=tl(s,m,h),o!==null&&(on(o,s,h),nl(o,s,h))}};function ag(s,o,h,m,S,w,U){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,w,U):o.prototype&&o.prototype.isPureReactComponent?!Zu(h,m)||!Zu(S,w):!0}function og(s,o,h,m){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(h,m),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(h,m),o.state!==s&&Pf.enqueueReplaceState(o,o.state,null)}function sl(s,o){var h=o;if("ref"in o){h={};for(var m in o)m!=="ref"&&(h[m]=o[m])}if(s=s.defaultProps){h===o&&(h=y({},h));for(var S in s)h[S]===void 0&&(h[S]=s[S])}return h}function Ey(s){Sf(s)}function lg(s){console.error(s)}function ug(s){Sf(s)}function Ad(s,o){try{var h=s.onUncaughtError;h(o.value,{componentStack:o.stack})}catch(m){setTimeout(function(){throw m})}}function Ty(s,o,h){try{var m=s.onCaughtError;m(h.value,{componentStack:h.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function cg(s,o,h){return h=xo(h),h.tag=3,h.payload={element:null},h.callback=function(){Ad(s,o)},h}function fg(s){return s=xo(s),s.tag=3,s}function wy(s,o,h,m){var S=h.type.getDerivedStateFromError;if(typeof S=="function"){var w=m.value;s.payload=function(){return S(w)},s.callback=function(){Ty(o,h,m)}}var U=h.stateNode;U!==null&&typeof U.componentDidCatch=="function"&&(s.callback=function(){Ty(o,h,m),typeof S!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var G=m.stack;this.componentDidCatch(m.value,{componentStack:G!==null?G:""})})}function Wi(s,o,h,m,S){if(h.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(o=h.alternate,o!==null&&ka(o,h,S,!0),h=Gr.current,h!==null){switch(h.tag){case 31:case 13:return Dr===null?xc():h.alternate===null&&ui===0&&(ui=3),h.flags&=-257,h.flags|=65536,h.lanes=S,m===dd?h.flags|=16384:(o=h.updateQueue,o===null?h.updateQueue=new Set([m]):o.add(m),qf(s,m,S)),!1;case 22:return h.flags|=65536,m===dd?h.flags|=16384:(o=h.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([m])},h.updateQueue=o):(h=o.retryQueue,h===null?o.retryQueue=new Set([m]):h.add(m)),qf(s,m,S)),!1}throw Error(n(435,h.tag))}return qf(s,m,S),xc(),!1}if(gn)return o=Gr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=S,m!==ic&&(s=Error(n(422),{cause:m}),za(hs(s,h)))):(m!==ic&&(o=Error(n(423),{cause:m}),za(hs(o,h))),s=s.current.alternate,s.flags|=65536,S&=-S,s.lanes|=S,m=hs(m,h),S=cg(s.stateNode,m,S),Pt(s,S),ui!==4&&(ui=2)),!1;var w=Error(n(520),{cause:m});if(w=hs(w,h),pu===null?pu=[w]:pu.push(w),ui!==4&&(ui=2),o===null)return!0;m=hs(m,h),h=o;do{switch(h.tag){case 3:return h.flags|=65536,s=S&-S,h.lanes|=s,s=cg(h.stateNode,m,s),Pt(h,s),!1;case 1:if(o=h.type,w=h.stateNode,(h.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mi===null||!Mi.has(w))))return h.flags|=65536,S&=-S,h.lanes|=S,S=fg(S),wy(S,s,h,m),Pt(h,S),!1}h=h.return}while(h!==null);return!1}var Cd=Error(n(461)),Ii=!1;function ir(s,o,h,m){o.child=s===null?gd(o,null,h,m):_o(o,s.child,h,m)}function hg(s,o,h,m,S){h=h.render;var w=o.ref;if("ref"in m){var U={};for(var G in m)G!=="ref"&&(U[G]=m[G])}else U=m;return Jo(o),m=_d(s,o,h,U,w,S),G=km(),s!==null&&!Ii?(Vm(s,o,S),bi(s,o,S)):(gn&&G&&Pa(o),o.flags|=1,ir(s,o,m,S),o.child)}function ou(s,o,h,m,S){if(s===null){var w=h.type;return typeof w=="function"&&!id(w)&&w.defaultProps===void 0&&h.compare===null?(o.tag=15,o.type=w,Rd(s,o,w,m,S)):(s=Oa(h.type,null,m,o,o.mode,S),s.ref=o.ref,s.return=o,o.child=s)}if(w=s.child,!Pd(s,S)){var U=w.memoizedProps;if(h=h.compare,h=h!==null?h:Zu,h(U,m)&&s.ref===o.ref)return bi(s,o,S)}return o.flags|=1,s=kr(w,m),s.ref=o.ref,s.return=o,o.child=s}function Rd(s,o,h,m,S){if(s!==null){var w=s.memoizedProps;if(Zu(w,m)&&s.ref===o.ref)if(Ii=!1,o.pendingProps=m=w,Pd(s,S))(s.flags&131072)!==0&&(Ii=!0);else return o.lanes=s.lanes,bi(s,o,S)}return pc(s,o,h,m,S)}function lu(s,o,h,m){var S=m.children,w=s!==null?s.memoizedState:null;if(s===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((o.flags&128)!==0){if(w=w!==null?w.baseLanes|h:h,s!==null){for(m=o.child=s.child,S=0;m!==null;)S=S|m.lanes|m.childLanes,m=m.sibling;m=S&~w}else m=0,o.child=null;return Xr(s,o,w,h,m)}if((h&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},s!==null&&wf(o,w!==null?w.cachePool:null),w!==null?Wv(o,w):Um(),Xv(o);else return m=o.lanes=536870912,Xr(s,o,w!==null?w.baseLanes|h:h,h,m)}else w!==null?(wf(o,w.cachePool),Wv(o,w),Wr(),o.memoizedState=null):(s!==null&&wf(o,null),Um(),Wr());return ir(s,o,S,h),o.child}function Ha(s,o){return s!==null&&s.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Xr(s,o,h,m,S){var w=hd();return w=w===null?null:{parent:Oi._currentValue,pool:w},o.memoizedState={baseLanes:h,cachePool:w},s!==null&&wf(o,null),Um(),Xv(o),s!==null&&ka(s,o,m,!0),o.childLanes=S,null}function Dd(s,o){return o=Id({mode:o.mode,children:o.children},s.mode),o.ref=s.ref,s.child=o,o.return=s,o}function Ay(s,o,h){return _o(o,s.child,null,h),s=Dd(o,o.pendingProps),s.flags|=2,_i(o),o.memoizedState=null,s}function Nd(s,o,h){var m=o.pendingProps,S=(o.flags&128)!==0;if(o.flags&=-129,s===null){if(gn){if(m.mode==="hidden")return s=Dd(o,m),o.lanes=536870912,Ha(null,s);if(zm(o),(s=Wn)?(s=iw(s,ds),s=s!==null&&s.data==="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:mo!==null?{id:oi,overflow:la}:null,retryLane:536870912,hydrationErrors:null},h=ec(s),h.return=o,o.child=h,pi=o,Wn=null)):s=null,s===null)throw Ua(o);return o.lanes=536870912,null}return Dd(o,m)}var w=s.memoizedState;if(w!==null){var U=w.dehydrated;if(zm(o),S)if(o.flags&256)o.flags&=-257,o=Ay(s,o,h);else if(o.memoizedState!==null)o.child=s.child,o.flags|=128,o=null;else throw Error(n(558));else if(Ii||ka(s,o,h,!1),S=(h&s.childLanes)!==0,Ii||S){if(m=qt,m!==null&&(U=kl(m,h),U!==0&&U!==w.retryLane))throw w.retryLane=U,Cr(s,U),on(m,s,U),Cd;xc(),o=Ay(s,o,h)}else s=w.treeContext,Wn=$a(U.nextSibling),pi=o,gn=!0,go=null,ds=!1,s!==null&&od(o,s),o=Dd(o,m),o.flags|=4096;return o}return s=kr(s.child,{mode:m.mode,children:m.children}),s.ref=o.ref,o.child=s,s.return=o,s}function uu(s,o){var h=o.ref;if(h===null)s!==null&&s.ref!==null&&(o.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(n(284));(s===null||s.ref!==h)&&(o.flags|=4194816)}}function pc(s,o,h,m,S){return Jo(o),h=_d(s,o,h,m,void 0,S),m=km(),s!==null&&!Ii?(Vm(s,o,S),bi(s,o,S)):(gn&&m&&Pa(o),o.flags|=1,ir(s,o,h,S),o.child)}function Uf(s,o,h,m,S,w){return Jo(o),o.updateQueue=null,h=su(o,m,h,S),jv(s),m=km(),s!==null&&!Ii?(Vm(s,o,w),bi(s,o,w)):(gn&&m&&Pa(o),o.flags|=1,ir(s,o,h,w),o.child)}function Ld(s,o,h,m,S){if(Jo(o),o.stateNode===null){var w=qo,U=h.contextType;typeof U=="object"&&U!==null&&(w=Gt(U)),w=new h(m,w),o.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Pf,o.stateNode=w,w._reactInternals=o,w=o.stateNode,w.props=m,w.state=o.memoizedState,w.refs={},Rf(o),U=h.contextType,w.context=typeof U=="object"&&U!==null?Gt(U):qo,w.state=o.memoizedState,U=h.getDerivedStateFromProps,typeof U=="function"&&(wd(o,h,U,m),w.state=o.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(U=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),U!==w.state&&Pf.enqueueReplaceState(w,w.state,null),lc(o,m,w,S),Df(),w.state=o.memoizedState),typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!0}else if(s===null){w=o.stateNode;var G=o.memoizedProps,re=sl(h,G);w.props=re;var Se=w.context,Fe=h.contextType;U=qo,typeof Fe=="object"&&Fe!==null&&(U=Gt(Fe));var We=h.getDerivedStateFromProps;Fe=typeof We=="function"||typeof w.getSnapshotBeforeUpdate=="function",G=o.pendingProps!==G,Fe||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G||Se!==U)&&og(o,w,m,U),Rr=!1;var we=o.memoizedState;w.state=we,lc(o,m,w,S),Df(),Se=o.memoizedState,G||we!==Se||Rr?(typeof We=="function"&&(wd(o,h,We,m),Se=o.memoizedState),(re=Rr||ag(o,h,re,m,we,Se,U))?(Fe||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=m,o.memoizedState=Se),w.props=m,w.state=Se,w.context=U,m=re):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),m=!1)}else{w=o.stateNode,Im(s,o),U=o.memoizedProps,Fe=sl(h,U),w.props=Fe,We=o.pendingProps,we=w.context,Se=h.contextType,re=qo,typeof Se=="object"&&Se!==null&&(re=Gt(Se)),G=h.getDerivedStateFromProps,(Se=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(U!==We||we!==re)&&og(o,w,m,re),Rr=!1,we=o.memoizedState,w.state=we,lc(o,m,w,S),Df();var Ie=o.memoizedState;U!==We||we!==Ie||Rr||s!==null&&s.dependencies!==null&&Tf(s.dependencies)?(typeof G=="function"&&(wd(o,h,G,m),Ie=o.memoizedState),(Fe=Rr||ag(o,h,Fe,m,we,Ie,re)||s!==null&&s.dependencies!==null&&Tf(s.dependencies))?(Se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(m,Ie,re),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(m,Ie,re)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||U===s.memoizedProps&&we===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&we===s.memoizedState||(o.flags|=1024),o.memoizedProps=m,o.memoizedState=Ie),w.props=m,w.state=Ie,w.context=re,m=Fe):(typeof w.componentDidUpdate!="function"||U===s.memoizedProps&&we===s.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||U===s.memoizedProps&&we===s.memoizedState||(o.flags|=1024),m=!1)}return w=m,uu(s,o),m=(o.flags&128)!==0,w||m?(w=o.stateNode,h=m&&typeof h.getDerivedStateFromError!="function"?null:w.render(),o.flags|=1,s!==null&&m?(o.child=_o(o,s.child,null,S),o.child=_o(o,null,h,S)):ir(s,o,h,S),o.memoizedState=w.state,s=o.child):s=bi(s,o,S),s}function Cy(s,o,h,m){return $o(),o.flags|=256,ir(s,o,h,m),o.child}var dg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xr(s){return{baseLanes:s,cachePool:Om()}}function Od(s,o,h){return s=s!==null?s.childLanes&~h:0,o&&(s|=Or),s}function Ry(s,o,h){var m=o.pendingProps,S=!1,w=(o.flags&128)!==0,U;if((U=w)||(U=s!==null&&s.memoizedState===null?!1:(vn.current&2)!==0),U&&(S=!0,o.flags&=-129),U=(o.flags&32)!==0,o.flags&=-33,s===null){if(gn){if(S?bo(o):Wr(),(s=Wn)?(s=iw(s,ds),s=s!==null&&s.data!=="&"?s:null,s!==null&&(o.memoizedState={dehydrated:s,treeContext:mo!==null?{id:oi,overflow:la}:null,retryLane:536870912,hydrationErrors:null},h=ec(s),h.return=o,o.child=h,pi=o,Wn=null)):s=null,s===null)throw Ua(o);return B1(s)?o.lanes=32:o.lanes=536870912,null}var G=m.children;return m=m.fallback,S?(Wr(),S=o.mode,G=Id({mode:"hidden",children:G},S),m=Yo(m,S,h,null),G.return=o,m.return=o,G.sibling=m,o.child=G,m=o.child,m.memoizedState=xr(h),m.childLanes=Od(s,U,h),o.memoizedState=dg,Ha(null,m)):(bo(o),zf(o,G))}var re=s.memoizedState;if(re!==null&&(G=re.dehydrated,G!==null)){if(w)o.flags&256?(bo(o),o.flags&=-257,o=pg(s,o,h)):o.memoizedState!==null?(Wr(),o.child=s.child,o.flags|=128,o=null):(Wr(),G=m.fallback,S=o.mode,m=Id({mode:"visible",children:m.children},S),G=Yo(G,S,h,null),G.flags|=2,m.return=o,G.return=o,m.sibling=G,o.child=m,_o(o,s.child,null,h),m=o.child,m.memoizedState=xr(h),m.childLanes=Od(s,U,h),o.memoizedState=dg,o=Ha(null,m));else if(bo(o),B1(G)){if(U=G.nextSibling&&G.nextSibling.dataset,U)var Se=U.dgst;U=Se,m=Error(n(419)),m.stack="",m.digest=U,za({value:m,source:null,stack:null}),o=pg(s,o,h)}else if(Ii||ka(s,o,h,!1),U=(h&s.childLanes)!==0,Ii||U){if(U=qt,U!==null&&(m=kl(U,h),m!==0&&m!==re.retryLane))throw re.retryLane=m,Cr(s,m),on(U,s,m),Cd;F1(G)||xc(),o=pg(s,o,h)}else F1(G)?(o.flags|=192,o.child=s.child,o=null):(s=re.treeContext,Wn=$a(G.nextSibling),pi=o,gn=!0,go=null,ds=!1,s!==null&&od(o,s),o=zf(o,m.children),o.flags|=4096);return o}return S?(Wr(),G=m.fallback,S=o.mode,re=s.child,Se=re.sibling,m=kr(re,{mode:"hidden",children:m.children}),m.subtreeFlags=re.subtreeFlags&65011712,Se!==null?G=kr(Se,G):(G=Yo(G,S,h,null),G.flags|=2),G.return=o,m.return=o,m.sibling=G,o.child=m,Ha(null,m),m=o.child,G=s.child.memoizedState,G===null?G=xr(h):(S=G.cachePool,S!==null?(re=Oi._currentValue,S=S.parent!==re?{parent:re,pool:re}:S):S=Om(),G={baseLanes:G.baseLanes|h,cachePool:S}),m.memoizedState=G,m.childLanes=Od(s,U,h),o.memoizedState=dg,Ha(s.child,m)):(bo(o),h=s.child,s=h.sibling,h=kr(h,{mode:"visible",children:m.children}),h.return=o,h.sibling=null,s!==null&&(U=o.deletions,U===null?(o.deletions=[s],o.flags|=16):U.push(s)),o.child=h,o.memoizedState=null,h)}function zf(s,o){return o=Id({mode:"visible",children:o},s.mode),o.return=s,s.child=o}function Id(s,o){return s=ai(22,s,null,o),s.lanes=0,s}function pg(s,o,h){return _o(o,s.child,null,h),s=zf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Dy(s,o,h){s.lanes|=o;var m=s.alternate;m!==null&&(m.lanes|=o),ud(s.return,o,h)}function cu(s,o,h,m,S,w){var U=s.memoizedState;U===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:m,tail:h,tailMode:S,treeForkCount:w}:(U.isBackwards=o,U.rendering=null,U.renderingStartTime=0,U.last=m,U.tail=h,U.tailMode=S,U.treeForkCount=w)}function jr(s,o,h){var m=o.pendingProps,S=m.revealOrder,w=m.tail;m=m.children;var U=vn.current,G=(U&2)!==0;if(G?(U=U&1|2,o.flags|=128):U&=1,Re(vn,U),ir(s,o,m,h),m=gn?nc:0,!G&&s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dy(s,h,o);else if(s.tag===19)Dy(s,h,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(S){case"forwards":for(h=o.child,S=null;h!==null;)s=h.alternate,s!==null&&ms(s)===null&&(S=h),h=h.sibling;h=S,h===null?(S=o.child,o.child=null):(S=h.sibling,h.sibling=null),cu(o,!1,S,h,w,m);break;case"backwards":case"unstable_legacy-backwards":for(h=null,S=o.child,o.child=null;S!==null;){if(s=S.alternate,s!==null&&ms(s)===null){o.child=S;break}s=S.sibling,S.sibling=h,h=S,S=s}cu(o,!0,h,null,w,m);break;case"together":cu(o,!1,null,null,void 0,m);break;default:o.memoizedState=null}return o.child}function bi(s,o,h){if(s!==null&&(o.dependencies=s.dependencies),Ya|=o.lanes,(h&o.childLanes)===0)if(s!==null){if(ka(s,o,h,!1),(h&o.childLanes)===0)return null}else return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,h=kr(s,s.pendingProps),o.child=h,h.return=o;s.sibling!==null;)s=s.sibling,h=h.sibling=kr(s,s.pendingProps),h.return=o;h.sibling=null}return o.child}function Pd(s,o){return(s.lanes&o)!==0?!0:(s=s.dependencies,!!(s!==null&&Tf(s)))}function w1(s,o,h){switch(o.tag){case 3:it(o,o.stateNode.containerInfo),vo(o,Oi,s.memoizedState.cache),$o();break;case 27:case 5:ft(o);break;case 4:it(o,o.stateNode.containerInfo);break;case 10:vo(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,zm(o),null;break;case 13:var m=o.memoizedState;if(m!==null)return m.dehydrated!==null?(bo(o),o.flags|=128,null):(h&o.child.childLanes)!==0?Ry(s,o,h):(bo(o),s=bi(s,o,h),s!==null?s.sibling:null);bo(o);break;case 19:var S=(s.flags&128)!==0;if(m=(h&o.childLanes)!==0,m||(ka(s,o,h,!1),m=(h&o.childLanes)!==0),S){if(m)return jr(s,o,h);o.flags|=128}if(S=o.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Re(vn,vn.current),m)break;return null;case 22:return o.lanes=0,lu(s,o,h,o.pendingProps);case 24:vo(o,Oi,s.memoizedState.cache)}return bi(s,o,h)}function Ud(s,o,h){if(s!==null)if(s.memoizedProps!==o.pendingProps)Ii=!0;else{if(!Pd(s,h)&&(o.flags&128)===0)return Ii=!1,w1(s,o,h);Ii=(s.flags&131072)!==0}else Ii=!1,gn&&(o.flags&1048576)!==0&&zv(o,nc,o.index);switch(o.lanes=0,o.tag){case 16:e:{var m=o.pendingProps;if(s=Jl(o.elementType),o.type=s,typeof s=="function")id(s)?(m=sl(s,m),o.tag=1,o=Ld(null,o,s,m,h)):(o.tag=0,o=pc(null,o,s,m,h));else{if(s!=null){var S=s.$$typeof;if(S===L){o.tag=11,o=hg(null,o,s,m,h);break e}else if(S===B){o.tag=14,o=ou(null,o,s,m,h);break e}}throw o=fe(s)||s,Error(n(306,o,""))}}return o;case 0:return pc(s,o,o.type,o.pendingProps,h);case 1:return m=o.type,S=sl(m,o.pendingProps),Ld(s,o,m,S,h);case 3:e:{if(it(o,o.stateNode.containerInfo),s===null)throw Error(n(387));m=o.pendingProps;var w=o.memoizedState;S=w.element,Im(s,o),lc(o,m,null,h);var U=o.memoizedState;if(m=U.cache,vo(o,Oi,m),m!==w.cache&&cd(o,[Oi],h,!0),Df(),m=U.element,w.isDehydrated)if(w={element:m,isDehydrated:!1,cache:U.cache},o.updateQueue.baseState=w,o.memoizedState=w,o.flags&256){o=Cy(s,o,m,h);break e}else if(m!==S){S=hs(Error(n(424)),o),za(S),o=Cy(s,o,m,h);break e}else{switch(s=o.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Wn=$a(s.firstChild),pi=o,gn=!0,go=null,ds=!0,h=gd(o,null,m,h),o.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if($o(),m===S){o=bi(s,o,h);break e}ir(s,o,m,h)}o=o.child}return o;case 26:return uu(s,o),s===null?(h=uw(o.type,null,o.pendingProps,null))?o.memoizedState=h:gn||(h=o.type,s=o.pendingProps,m=Iy(ge.current).createElement(h),m[si]=o,m[Vi]=s,Pr(m,h,s),H(m),o.stateNode=m):o.memoizedState=uw(o.type,s.memoizedProps,o.pendingProps,s.memoizedState),null;case 27:return ft(o),s===null&&gn&&(m=o.stateNode=aw(o.type,o.pendingProps,ge.current),pi=o,ds=!0,S=Wn,Ec(o.type)?(k1=S,Wn=$a(m.firstChild)):Wn=S),ir(s,o,o.pendingProps.children,h),uu(s,o),s===null&&(o.flags|=4194304),o.child;case 5:return s===null&&gn&&((S=m=Wn)&&(m=RL(m,o.type,o.pendingProps,ds),m!==null?(o.stateNode=m,pi=o,Wn=$a(m.firstChild),ds=!1,S=!0):S=!1),S||Ua(o)),ft(o),S=o.type,w=o.pendingProps,U=s!==null?s.memoizedProps:null,m=w.children,P1(S,w)?m=null:U!==null&&P1(S,U)&&(o.flags|=32),o.memoizedState!==null&&(S=_d(s,o,au,null,null,h),Tg._currentValue=S),uu(s,o),ir(s,o,m,h),o.child;case 6:return s===null&&gn&&((s=h=Wn)&&(h=DL(h,o.pendingProps,ds),h!==null?(o.stateNode=h,pi=o,Wn=null,s=!0):s=!1),s||Ua(o)),null;case 13:return Ry(s,o,h);case 4:return it(o,o.stateNode.containerInfo),m=o.pendingProps,s===null?o.child=_o(o,null,m,h):ir(s,o,m,h),o.child;case 11:return hg(s,o,o.type,o.pendingProps,h);case 7:return ir(s,o,o.pendingProps,h),o.child;case 8:return ir(s,o,o.pendingProps.children,h),o.child;case 12:return ir(s,o,o.pendingProps.children,h),o.child;case 10:return m=o.pendingProps,vo(o,o.type,m.value),ir(s,o,m.children,h),o.child;case 9:return S=o.type._context,m=o.pendingProps.children,Jo(o),S=Gt(S),m=m(S),o.flags|=1,ir(s,o,m,h),o.child;case 14:return ou(s,o,o.type,o.pendingProps,h);case 15:return Rd(s,o,o.type,o.pendingProps,h);case 19:return jr(s,o,h);case 31:return Nd(s,o,h);case 22:return lu(s,o,h,o.pendingProps);case 24:return Jo(o),m=Gt(Oi),s===null?(S=hd(),S===null&&(S=qt,w=Rm(),S.pooledCache=w,w.refCount++,w!==null&&(S.pooledCacheLanes|=h),S=w),o.memoizedState={parent:m,cache:S},Rf(o),vo(o,Oi,S)):((s.lanes&h)!==0&&(Im(s,o),lc(o,null,null,h),Df()),S=s.memoizedState,w=o.memoizedState,S.parent!==m?(S={parent:m,cache:m},o.memoizedState=S,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=S),vo(o,Oi,m)):(m=w.cache,vo(o,Oi,m),m!==S.cache&&cd(o,[Oi],h,!0))),ir(s,o,o.pendingProps.children,h),o.child;case 29:throw o.pendingProps}throw Error(n(156,o.tag))}function Ga(s){s.flags|=4}function Ff(s,o,h,m,S){if((o=(s.mode&32)!==0)&&(o=!1),o){if(s.flags|=16777216,(S&335544128)===S)if(s.stateNode.complete)s.flags|=8192;else if(fi())s.flags|=8192;else throw Va=dd,Af}else s.flags&=-16777217}function mg(s,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!pw(o))if(fi())s.flags|=8192;else throw Va=dd,Af}function Mo(s,o){o!==null&&(s.flags|=4),s.flags&16384&&(o=s.tag!==22?en():536870912,s.lanes|=o,Zn|=o)}function Wa(s,o){if(!gn)switch(s.tailMode){case"hidden":o=s.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s.tail=null:h.sibling=null;break;case"collapsed":h=s.tail;for(var m=null;h!==null;)h.alternate!==null&&(m=h),h=h.sibling;m===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function kn(s){var o=s.alternate!==null&&s.alternate.child===s.child,h=0,m=0;if(o)for(var S=s.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags&65011712,m|=S.flags&65011712,S.return=s,S=S.sibling;else for(S=s.child;S!==null;)h|=S.lanes|S.childLanes,m|=S.subtreeFlags,m|=S.flags,S.return=s,S=S.sibling;return s.subtreeFlags|=m,s.childLanes=h,o}function Bf(s,o,h){var m=o.pendingProps;switch(ad(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(o),null;case 1:return kn(o),null;case 3:return h=o.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),o.memoizedState.cache!==m&&(o.flags|=2048),Ba(Oi),ne(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(rc(o)?Ga(o):s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ld())),kn(o),null;case 26:var S=o.type,w=o.memoizedState;return s===null?(Ga(o),w!==null?(kn(o),mg(o,w)):(kn(o),Ff(o,S,null,m,h))):w?w!==s.memoizedState?(Ga(o),kn(o),mg(o,w)):(kn(o),o.flags&=-16777217):(s=s.memoizedProps,s!==m&&Ga(o),kn(o),Ff(o,S,s,m,h)),null;case 27:if(_t(o),h=ge.current,S=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ga(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return kn(o),null}s=ze.current,rc(o)?Fv(o):(s=aw(S,m,h),o.stateNode=s,Ga(o))}return kn(o),null;case 5:if(_t(o),S=o.type,s!==null&&o.stateNode!=null)s.memoizedProps!==m&&Ga(o);else{if(!m){if(o.stateNode===null)throw Error(n(166));return kn(o),null}if(w=ze.current,rc(o))Fv(o);else{var U=Iy(ge.current);switch(w){case 1:w=U.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:w=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":w=U.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":w=U.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":w=U.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof m.is=="string"?U.createElement("select",{is:m.is}):U.createElement("select"),m.multiple?w.multiple=!0:m.size&&(w.size=m.size);break;default:w=typeof m.is=="string"?U.createElement(S,{is:m.is}):U.createElement(S)}}w[si]=o,w[Vi]=m;e:for(U=o.child;U!==null;){if(U.tag===5||U.tag===6)w.appendChild(U.stateNode);else if(U.tag!==4&&U.tag!==27&&U.child!==null){U.child.return=U,U=U.child;continue}if(U===o)break e;for(;U.sibling===null;){if(U.return===null||U.return===o)break e;U=U.return}U.sibling.return=U.return,U=U.sibling}o.stateNode=w;e:switch(Pr(w,S,m),S){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ga(o)}}return kn(o),Ff(o,o.type,s===null?null:s.memoizedProps,o.pendingProps,h),null;case 6:if(s&&o.stateNode!=null)s.memoizedProps!==m&&Ga(o);else{if(typeof m!="string"&&o.stateNode===null)throw Error(n(166));if(s=ge.current,rc(o)){if(s=o.stateNode,h=o.memoizedProps,m=null,S=pi,S!==null)switch(S.tag){case 27:case 5:m=S.memoizedProps}s[si]=o,s=!!(s.nodeValue===h||m!==null&&m.suppressHydrationWarning===!0||ZT(s.nodeValue,h)),s||Ua(o,!0)}else s=Iy(s).createTextNode(m),s[si]=o,o.stateNode=s}return kn(o),null;case 31:if(h=o.memoizedState,s===null||s.memoizedState!==null){if(m=rc(o),h!==null){if(s===null){if(!m)throw Error(n(318));if(s=o.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(557));s[si]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kn(o),s=!1}else h=ld(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=h),s=!0;if(!s)return o.flags&256?(_i(o),o):(_i(o),null);if((o.flags&128)!==0)throw Error(n(558))}return kn(o),null;case 13:if(m=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(S=rc(o),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(n(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(n(317));S[si]=o}else $o(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;kn(o),S=!1}else S=ld(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=S),S=!0;if(!S)return o.flags&256?(_i(o),o):(_i(o),null)}return _i(o),(o.flags&128)!==0?(o.lanes=h,o):(h=m!==null,s=s!==null&&s.memoizedState!==null,h&&(m=o.child,S=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(S=m.alternate.memoizedState.cachePool.pool),w=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(w=m.memoizedState.cachePool.pool),w!==S&&(m.flags|=2048)),h!==s&&h&&(o.child.flags|=8192),Mo(o,o.updateQueue),kn(o),null);case 4:return ne(),s===null&&D1(o.stateNode.containerInfo),kn(o),null;case 10:return Ba(o.type),kn(o),null;case 19:if(le(vn),m=o.memoizedState,m===null)return kn(o),null;if(S=(o.flags&128)!==0,w=m.rendering,w===null)if(S)Wa(m,!1);else{if(ui!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(w=ms(s),w!==null){for(o.flags|=128,Wa(m,!1),s=w.updateQueue,o.updateQueue=s,Mo(o,s),o.subtreeFlags=0,s=h,h=o.child;h!==null;)Ju(h,s),h=h.sibling;return Re(vn,vn.current&1|2),gn&&Ia(o,m.treeForkCount),o.child}s=s.sibling}m.tail!==null&&F()>Si&&(o.flags|=128,S=!0,Wa(m,!1),o.lanes=4194304)}else{if(!S)if(s=ms(w),s!==null){if(o.flags|=128,S=!0,s=s.updateQueue,o.updateQueue=s,Mo(o,s),Wa(m,!0),m.tail===null&&m.tailMode==="hidden"&&!w.alternate&&!gn)return kn(o),null}else 2*F()-m.renderingStartTime>Si&&h!==536870912&&(o.flags|=128,S=!0,Wa(m,!1),o.lanes=4194304);m.isBackwards?(w.sibling=o.child,o.child=w):(s=m.last,s!==null?s.sibling=w:o.child=w,m.last=w)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=F(),s.sibling=null,h=vn.current,Re(vn,S?h&1|2:h&1),gn&&Ia(o,m.treeForkCount),s):(kn(o),null);case 22:case 23:return _i(o),Nf(),m=o.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(o.flags|=8192):m&&(o.flags|=8192),m?(h&536870912)!==0&&(o.flags&128)===0&&(kn(o),o.subtreeFlags&6&&(o.flags|=8192)):kn(o),h=o.updateQueue,h!==null&&Mo(o,h.retryQueue),h=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==h&&(o.flags|=2048),s!==null&&le(el),null;case 24:return h=null,s!==null&&(h=s.memoizedState.cache),o.memoizedState.cache!==h&&(o.flags|=2048),Ba(Oi),kn(o),null;case 25:return null;case 30:return null}throw Error(n(156,o.tag))}function ks(s,o){switch(ad(o),o.tag){case 1:return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ba(Oi),ne(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 26:case 27:case 5:return _t(o),null;case 31:if(o.memoizedState!==null){if(_i(o),o.alternate===null)throw Error(n(340));$o()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 13:if(_i(o),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));$o()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return le(vn),null;case 4:return ne(),null;case 10:return Ba(o.type),null;case 22:case 23:return _i(o),Nf(),s!==null&&le(el),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 24:return Ba(Oi),null;case 25:return null;default:return null}}function gs(s,o){switch(ad(o),o.tag){case 3:Ba(Oi),ne();break;case 26:case 27:case 5:_t(o);break;case 4:ne();break;case 31:o.memoizedState!==null&&_i(o);break;case 13:_i(o);break;case 19:le(vn);break;case 10:Ba(o.type);break;case 22:case 23:_i(o),Nf(),s!==null&&le(el);break;case 24:Ba(Oi)}}function Vs(s,o){try{var h=o.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var S=m.next;h=S;do{if((h.tag&s)===s){m=void 0;var w=h.create,U=h.inst;m=w(),U.destroy=m}h=h.next}while(h!==S)}}catch(G){Tn(o,o.return,G)}}function cr(s,o,h){try{var m=o.updateQueue,S=m!==null?m.lastEffect:null;if(S!==null){var w=S.next;m=w;do{if((m.tag&s)===s){var U=m.inst,G=U.destroy;if(G!==void 0){U.destroy=void 0,S=o;var re=h,Se=G;try{Se()}catch(Fe){Tn(S,re,Fe)}}}m=m.next}while(m!==w)}}catch(Fe){Tn(o,o.return,Fe)}}function ua(s){var o=s.updateQueue;if(o!==null){var h=s.stateNode;try{Gv(o,h)}catch(m){Tn(s,s.return,m)}}}function rr(s,o,h){h.props=sl(s.type,s.memoizedProps),h.state=s.memoizedState;try{h.componentWillUnmount()}catch(m){Tn(s,o,m)}}function Eo(s,o){try{var h=s.ref;if(h!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof h=="function"?s.refCleanup=h(m):h.current=m}}catch(S){Tn(s,o,S)}}function fr(s,o){var h=s.ref,m=s.refCleanup;if(h!==null)if(typeof m=="function")try{m()}catch(S){Tn(s,o,S)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(S){Tn(s,o,S)}else h.current=null}function kf(s){var o=s.type,h=s.memoizedProps,m=s.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":h.autoFocus&&m.focus();break e;case"img":h.src?m.src=h.src:h.srcSet&&(m.srcset=h.srcSet)}}catch(S){Tn(s,s.return,S)}}function Xi(s,o,h){try{var m=s.stateNode;ML(m,s.type,h,o),m[Vi]=o}catch(S){Tn(s,s.return,S)}}function ei(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ec(s.type)||s.tag===4}function pn(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||ei(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ec(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Xa(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(s,o):(o=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,o.appendChild(s),h=h._reactRootContainer,h!=null||o.onclick!==null||(o.onclick=fo));else if(m!==4&&(m===27&&Ec(s.type)&&(h=s.stateNode,o=null),s=s.child,s!==null))for(Xa(s,o,h),s=s.sibling;s!==null;)Xa(s,o,h),s=s.sibling}function Nr(s,o,h){var m=s.tag;if(m===5||m===6)s=s.stateNode,o?h.insertBefore(s,o):h.appendChild(s);else if(m!==4&&(m===27&&Ec(s.type)&&(h=s.stateNode),s=s.child,s!==null))for(Nr(s,o,h),s=s.sibling;s!==null;)Nr(s,o,h),s=s.sibling}function zd(s){var o=s.stateNode,h=s.memoizedProps;try{for(var m=s.type,S=o.attributes;S.length;)o.removeAttributeNode(S[0]);Pr(o,m,h),o[si]=s,o[Vi]=h}catch(w){Tn(s,s.return,w)}}var Hs=!1,Xn=!1,ca=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,sr=null;function A1(s,o){if(s=s.containerInfo,O1=Vy,s=Ov(s),Em(s)){if("selectionStart"in s)var h={start:s.selectionStart,end:s.selectionEnd};else e:{h=(h=s.ownerDocument)&&h.defaultView||window;var m=h.getSelection&&h.getSelection();if(m&&m.rangeCount!==0){h=m.anchorNode;var S=m.anchorOffset,w=m.focusNode;m=m.focusOffset;try{h.nodeType,w.nodeType}catch{h=null;break e}var U=0,G=-1,re=-1,Se=0,Fe=0,We=s,we=null;t:for(;;){for(var Ie;We!==h||S!==0&&We.nodeType!==3||(G=U+S),We!==w||m!==0&&We.nodeType!==3||(re=U+m),We.nodeType===3&&(U+=We.nodeValue.length),(Ie=We.firstChild)!==null;)we=We,We=Ie;for(;;){if(We===s)break t;if(we===h&&++Se===S&&(G=U),we===w&&++Fe===m&&(re=U),(Ie=We.nextSibling)!==null)break;We=we,we=We.parentNode}We=Ie}h=G===-1||re===-1?null:{start:G,end:re}}else h=null}h=h||{start:0,end:0}}else h=null;for(I1={focusedElem:s,selectionRange:h},Vy=!1,sr=o;sr!==null;)if(o=sr,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,sr=s;else for(;sr!==null;){switch(o=sr,w=o.alternate,s=o.flags,o.tag){case 0:if((s&4)!==0&&(s=o.updateQueue,s=s!==null?s.events:null,s!==null))for(h=0;h<s.length;h++)S=s[h],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&w!==null){s=void 0,h=o,S=w.memoizedProps,w=w.memoizedState,m=h.stateNode;try{var At=sl(h.type,S);s=m.getSnapshotBeforeUpdate(At,w),m.__reactInternalSnapshotBeforeUpdate=s}catch(Ht){Tn(h,h.return,Ht)}}break;case 3:if((s&1024)!==0){if(s=o.stateNode.containerInfo,h=s.nodeType,h===9)z1(s);else if(h===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":z1(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(n(163))}if(s=o.sibling,s!==null){s.return=o.return,sr=s;break}sr=o.return}}function ti(s,o,h){var m=h.flags;switch(h.tag){case 0:case 11:case 15:Xs(s,h),m&4&&Vs(5,h);break;case 1:if(Xs(s,h),m&4)if(s=h.stateNode,o===null)try{s.componentDidMount()}catch(U){Tn(h,h.return,U)}else{var S=sl(h.type,o.memoizedProps);o=o.memoizedState;try{s.componentDidUpdate(S,o,s.__reactInternalSnapshotBeforeUpdate)}catch(U){Tn(h,h.return,U)}}m&64&&ua(h),m&512&&Eo(h,h.return);break;case 3:if(Xs(s,h),m&64&&(s=h.updateQueue,s!==null)){if(o=null,h.child!==null)switch(h.child.tag){case 27:case 5:o=h.child.stateNode;break;case 1:o=h.child.stateNode}try{Gv(s,o)}catch(U){Tn(h,h.return,U)}}break;case 27:o===null&&m&4&&zd(h);case 26:case 5:Xs(s,h),o===null&&m&4&&kf(h),m&512&&Eo(h,h.return);break;case 12:Xs(s,h);break;case 31:Xs(s,h),m&4&&al(s,h);break;case 13:Xs(s,h),m&4&&mc(s,h),m&64&&(s=h.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(h=v.bind(null,h),NL(s,h))));break;case 22:if(m=h.memoizedState!==null||Hs,!m){o=o!==null&&o.memoizedState!==null||Xn,S=Hs;var w=Xn;Hs=m,(Xn=o)&&!w?Lr(s,h,(h.subtreeFlags&8772)!==0):Xs(s,h),Hs=S,Xn=w}break;case 30:break;default:Xs(s,h)}}function Vf(s){var o=s.alternate;o!==null&&(s.alternate=null,Vf(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&lo(o)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var In=null,br=!1;function Gs(s,o,h){for(h=h.child;h!==null;)Fd(s,o,h),h=h.sibling}function Fd(s,o,h){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(qe,h)}catch{}switch(h.tag){case 26:Xn||fr(h,o),Gs(s,o,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Xn||fr(h,o);var m=In,S=br;Ec(h.type)&&(In=h.stateNode,br=!1),Gs(s,o,h),Sg(h.stateNode),In=m,br=S;break;case 5:Xn||fr(h,o);case 6:if(m=In,S=br,In=null,Gs(s,o,h),In=m,br=S,In!==null)if(br)try{(In.nodeType===9?In.body:In.nodeName==="HTML"?In.ownerDocument.body:In).removeChild(h.stateNode)}catch(w){Tn(h,o,w)}else try{In.removeChild(h.stateNode)}catch(w){Tn(h,o,w)}break;case 18:In!==null&&(br?(s=In,tw(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,h.stateNode),jd(s)):tw(In,h.stateNode));break;case 4:m=In,S=br,In=h.stateNode.containerInfo,br=!0,Gs(s,o,h),In=m,br=S;break;case 0:case 11:case 14:case 15:cr(2,h,o),Xn||cr(4,h,o),Gs(s,o,h);break;case 1:Xn||(fr(h,o),m=h.stateNode,typeof m.componentWillUnmount=="function"&&rr(h,o,m)),Gs(s,o,h);break;case 21:Gs(s,o,h);break;case 22:Xn=(m=Xn)||h.memoizedState!==null,Gs(s,o,h),Xn=m;break;default:Gs(s,o,h)}}function al(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{jd(s)}catch(h){Tn(o,o.return,h)}}}function mc(s,o){if(o.memoizedState===null&&(s=o.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{jd(s)}catch(h){Tn(o,o.return,h)}}function gg(s){switch(s.tag){case 31:case 13:case 19:var o=s.stateNode;return o===null&&(o=s.stateNode=new Ny),o;case 22:return s=s.stateNode,o=s._retryCache,o===null&&(o=s._retryCache=new Ny),o;default:throw Error(n(435,s.tag))}}function To(s,o){var h=gg(s);o.forEach(function(m){if(!h.has(m)){h.add(m);var S=b.bind(null,s,m);m.then(S,S)}})}function ji(s,o){var h=o.deletions;if(h!==null)for(var m=0;m<h.length;m++){var S=h[m],w=s,U=o,G=U;e:for(;G!==null;){switch(G.tag){case 27:if(Ec(G.type)){In=G.stateNode,br=!1;break e}break;case 5:In=G.stateNode,br=!1;break e;case 3:case 4:In=G.stateNode.containerInfo,br=!0;break e}G=G.return}if(In===null)throw Error(n(160));Fd(w,U,S),In=null,br=!1,w=S.alternate,w!==null&&(w.return=null),S.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)ol(o,s),o=o.sibling}var Ws=null;function ol(s,o){var h=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:ji(o,s),qi(s),m&4&&(cr(3,s,s.return),Vs(3,s),cr(5,s,s.return));break;case 1:ji(o,s),qi(s),m&512&&(Xn||h===null||fr(h,h.return)),m&64&&Hs&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(h=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=h===null?m:h.concat(m))));break;case 26:var S=Ws;if(ji(o,s),qi(s),m&512&&(Xn||h===null||fr(h,h.return)),m&4){var w=h!==null?h.memoizedState:null;if(m=s.memoizedState,h===null)if(m===null)if(s.stateNode===null){e:{m=s.type,h=s.memoizedProps,S=S.ownerDocument||S;t:switch(m){case"title":w=S.getElementsByTagName("title")[0],(!w||w[aa]||w[si]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=S.createElement(m),S.head.insertBefore(w,S.querySelector("head > title"))),Pr(w,m,h),w[si]=s,H(w),m=w;break e;case"link":var U=hw("link","href",S).get(m+(h.href||""));if(U){for(var G=0;G<U.length;G++)if(w=U[G],w.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&w.getAttribute("rel")===(h.rel==null?null:h.rel)&&w.getAttribute("title")===(h.title==null?null:h.title)&&w.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){U.splice(G,1);break t}}w=S.createElement(m),Pr(w,m,h),S.head.appendChild(w);break;case"meta":if(U=hw("meta","content",S).get(m+(h.content||""))){for(G=0;G<U.length;G++)if(w=U[G],w.getAttribute("content")===(h.content==null?null:""+h.content)&&w.getAttribute("name")===(h.name==null?null:h.name)&&w.getAttribute("property")===(h.property==null?null:h.property)&&w.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&w.getAttribute("charset")===(h.charSet==null?null:h.charSet)){U.splice(G,1);break t}}w=S.createElement(m),Pr(w,m,h),S.head.appendChild(w);break;default:throw Error(n(468,m))}w[si]=s,H(w),m=w}s.stateNode=m}else dw(S,s.type,s.stateNode);else s.stateNode=fw(S,m,s.memoizedProps);else w!==m?(w===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):w.count--,m===null?dw(S,s.type,s.stateNode):fw(S,m,s.memoizedProps)):m===null&&s.stateNode!==null&&Xi(s,s.memoizedProps,h.memoizedProps)}break;case 27:ji(o,s),qi(s),m&512&&(Xn||h===null||fr(h,h.return)),h!==null&&m&4&&Xi(s,s.memoizedProps,h.memoizedProps);break;case 5:if(ji(o,s),qi(s),m&512&&(Xn||h===null||fr(h,h.return)),s.flags&32){S=s.stateNode;try{Li(S,"")}catch(At){Tn(s,s.return,At)}}m&4&&s.stateNode!=null&&(S=s.memoizedProps,Xi(s,S,h!==null?h.memoizedProps:S)),m&1024&&(ca=!0);break;case 6:if(ji(o,s),qi(s),m&4){if(s.stateNode===null)throw Error(n(162));m=s.memoizedProps,h=s.stateNode;try{h.nodeValue=m}catch(At){Tn(s,s.return,At)}}break;case 3:if(zy=null,S=Ws,Ws=Py(o.containerInfo),ji(o,s),Ws=S,qi(s),m&4&&h!==null&&h.memoizedState.isDehydrated)try{jd(o.containerInfo)}catch(At){Tn(s,s.return,At)}ca&&(ca=!1,Bd(s));break;case 4:m=Ws,Ws=Py(s.stateNode.containerInfo),ji(o,s),qi(s),Ws=m;break;case 12:ji(o,s),qi(s);break;case 31:ji(o,s),qi(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,To(s,m)));break;case 13:ji(o,s),qi(s),s.child.flags&8192&&s.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(gc=F()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,To(s,m)));break;case 22:S=s.memoizedState!==null;var re=h!==null&&h.memoizedState!==null,Se=Hs,Fe=Xn;if(Hs=Se||S,Xn=Fe||re,ji(o,s),Xn=Fe,Hs=Se,qi(s),m&8192)e:for(o=s.stateNode,o._visibility=S?o._visibility&-2:o._visibility|1,S&&(h===null||re||Hs||Xn||ja(s)),h=null,o=s;;){if(o.tag===5||o.tag===26){if(h===null){re=h=o;try{if(w=re.stateNode,S)U=w.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{G=re.stateNode;var We=re.memoizedProps.style,we=We!=null&&We.hasOwnProperty("display")?We.display:null;G.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(At){Tn(re,re.return,At)}}}else if(o.tag===6){if(h===null){re=o;try{re.stateNode.nodeValue=S?"":re.memoizedProps}catch(At){Tn(re,re.return,At)}}}else if(o.tag===18){if(h===null){re=o;try{var Ie=re.stateNode;S?nw(Ie,!0):nw(re.stateNode,!1)}catch(At){Tn(re,re.return,At)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===s)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;h===o&&(h=null),o=o.return}h===o&&(h=null),o.sibling.return=o.return,o=o.sibling}m&4&&(m=s.updateQueue,m!==null&&(h=m.retryQueue,h!==null&&(m.retryQueue=null,To(s,h))));break;case 19:ji(o,s),qi(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,To(s,m)));break;case 30:break;case 21:break;default:ji(o,s),qi(s)}}function qi(s){var o=s.flags;if(o&2){try{for(var h,m=s.return;m!==null;){if(ei(m)){h=m;break}m=m.return}if(h==null)throw Error(n(160));switch(h.tag){case 27:var S=h.stateNode,w=pn(s);Nr(s,w,S);break;case 5:var U=h.stateNode;h.flags&32&&(Li(U,""),h.flags&=-33);var G=pn(s);Nr(s,G,U);break;case 3:case 4:var re=h.stateNode.containerInfo,Se=pn(s);Xa(s,Se,re);break;default:throw Error(n(161))}}catch(Fe){Tn(s,s.return,Fe)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Bd(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var o=s;Bd(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),s=s.sibling}}function Xs(s,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)ti(s,o.alternate,o),o=o.sibling}function ja(s){for(s=s.child;s!==null;){var o=s;switch(o.tag){case 0:case 11:case 14:case 15:cr(4,o,o.return),ja(o);break;case 1:fr(o,o.return);var h=o.stateNode;typeof h.componentWillUnmount=="function"&&rr(o,o.return,h),ja(o);break;case 27:Sg(o.stateNode);case 26:case 5:fr(o,o.return),ja(o);break;case 22:o.memoizedState===null&&ja(o);break;case 30:ja(o);break;default:ja(o)}s=s.sibling}}function Lr(s,o,h){for(h=h&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var m=o.alternate,S=s,w=o,U=w.flags;switch(w.tag){case 0:case 11:case 15:Lr(S,w,h),Vs(4,w);break;case 1:if(Lr(S,w,h),m=w,S=m.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(Se){Tn(m,m.return,Se)}if(m=w,S=m.updateQueue,S!==null){var G=m.stateNode;try{var re=S.shared.hiddenCallbacks;if(re!==null)for(S.shared.hiddenCallbacks=null,S=0;S<re.length;S++)uc(re[S],G)}catch(Se){Tn(m,m.return,Se)}}h&&U&64&&ua(w),Eo(w,w.return);break;case 27:zd(w);case 26:case 5:Lr(S,w,h),h&&m===null&&U&4&&kf(w),Eo(w,w.return);break;case 12:Lr(S,w,h);break;case 31:Lr(S,w,h),h&&U&4&&al(S,w);break;case 13:Lr(S,w,h),h&&U&4&&mc(S,w);break;case 22:w.memoizedState===null&&Lr(S,w,h),Eo(w,w.return);break;case 30:break;default:Lr(S,w,h)}o=o.sibling}}function ll(s,o){var h=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),s=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(s=o.memoizedState.cachePool.pool),s!==h&&(s!=null&&s.refCount++,h!=null&&$l(h))}function fu(s,o){s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&$l(s))}function hr(s,o,h,m){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)vg(s,o,h,m),o=o.sibling}function vg(s,o,h,m){var S=o.flags;switch(o.tag){case 0:case 11:case 15:hr(s,o,h,m),S&2048&&Vs(9,o);break;case 1:hr(s,o,h,m);break;case 3:hr(s,o,h,m),S&2048&&(s=null,o.alternate!==null&&(s=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==s&&(o.refCount++,s!=null&&$l(s)));break;case 12:if(S&2048){hr(s,o,h,m),s=o.stateNode;try{var w=o.memoizedProps,U=w.id,G=w.onPostCommit;typeof G=="function"&&G(U,o.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(re){Tn(o,o.return,re)}}else hr(s,o,h,m);break;case 31:hr(s,o,h,m);break;case 13:hr(s,o,h,m);break;case 23:break;case 22:w=o.stateNode,U=o.alternate,o.memoizedState!==null?w._visibility&2?hr(s,o,h,m):qa(s,o):w._visibility&2?hr(s,o,h,m):(w._visibility|=2,dr(s,o,h,m,(o.subtreeFlags&10256)!==0||!1)),S&2048&&ll(U,o);break;case 24:hr(s,o,h,m),S&2048&&fu(o.alternate,o);break;default:hr(s,o,h,m)}}function dr(s,o,h,m,S){for(S=S&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var w=s,U=o,G=h,re=m,Se=U.flags;switch(U.tag){case 0:case 11:case 15:dr(w,U,G,re,S),Vs(8,U);break;case 23:break;case 22:var Fe=U.stateNode;U.memoizedState!==null?Fe._visibility&2?dr(w,U,G,re,S):qa(w,U):(Fe._visibility|=2,dr(w,U,G,re,S)),S&&Se&2048&&ll(U.alternate,U);break;case 24:dr(w,U,G,re,S),S&&Se&2048&&fu(U.alternate,U);break;default:dr(w,U,G,re,S)}o=o.sibling}}function qa(s,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var h=s,m=o,S=m.flags;switch(m.tag){case 22:qa(h,m),S&2048&&ll(m.alternate,m);break;case 24:qa(h,m),S&2048&&fu(m.alternate,m);break;default:qa(h,m)}o=o.sibling}}var hu=8192;function vs(s,o,h){if(s.subtreeFlags&hu)for(s=s.child;s!==null;)kd(s,o,h),s=s.sibling}function kd(s,o,h){switch(s.tag){case 26:vs(s,o,h),s.flags&hu&&s.memoizedState!==null&&GL(h,Ws,s.memoizedState,s.memoizedProps);break;case 5:vs(s,o,h);break;case 3:case 4:var m=Ws;Ws=Py(s.stateNode.containerInfo),vs(s,o,h),Ws=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=hu,hu=16777216,vs(s,o,h),hu=m):vs(s,o,h));break;default:vs(s,o,h)}}function du(s){var o=s.alternate;if(o!==null&&(s=o.child,s!==null)){o.child=null;do o=s.sibling,s.sibling=null,s=o;while(s!==null)}}function ul(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];sr=m,mi(m,s)}du(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qr(s),s=s.sibling}function qr(s){switch(s.tag){case 0:case 11:case 15:ul(s),s.flags&2048&&cr(9,s,s.return);break;case 3:ul(s);break;case 12:ul(s);break;case 22:var o=s.stateNode;s.memoizedState!==null&&o._visibility&2&&(s.return===null||s.return.tag!==13)?(o._visibility&=-3,Yr(s)):ul(s);break;default:ul(s)}}function Yr(s){var o=s.deletions;if((s.flags&16)!==0){if(o!==null)for(var h=0;h<o.length;h++){var m=o[h];sr=m,mi(m,s)}du(s)}for(s=s.child;s!==null;){switch(o=s,o.tag){case 0:case 11:case 15:cr(8,o,o.return),Yr(o);break;case 22:h=o.stateNode,h._visibility&2&&(h._visibility&=-3,Yr(o));break;default:Yr(o)}s=s.sibling}}function mi(s,o){for(;sr!==null;){var h=sr;switch(h.tag){case 0:case 11:case 15:cr(8,h,o);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var m=h.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:$l(h.memoizedState.cache)}if(m=h.child,m!==null)m.return=h,sr=m;else e:for(h=s;sr!==null;){m=sr;var S=m.sibling,w=m.return;if(Vf(m),m===h){sr=null;break e}if(S!==null){S.return=w,sr=S;break e}sr=w}}}var wo={getCacheForType:function(s){var o=Gt(Oi),h=o.data.get(s);return h===void 0&&(h=s(),o.data.set(s,h)),h},cacheSignal:function(){return Gt(Oi).controller.signal}},Qt=typeof WeakMap=="function"?WeakMap:Map,Dt=0,qt=null,an=null,tn=0,yn=0,Sr=null,js=!1,fa=!1,yg=!1,ys=0,ui=0,Ya=0,cl=0,Hf=0,Or=0,Zn=0,pu=null,gi=null,vi=!1,gc=0,_g=0,Si=1/0,ci=null,Mi=null,Pn=0,_s=null,vc=null,qs=0,yc=0,_c=null,Gf=null,fl=0,mu=null;function xs(){return(Dt&2)!==0&&tn!==0?tn&-tn:Z.T!==null?Ne():Vl()}function fn(){if(Or===0)if((tn&536870912)===0||gn){var s=Ye;Ye<<=1,(Ye&3932160)===0&&(Ye=262144),Or=s}else Or=536870912;return s=Gr.current,s!==null&&(s.flags|=32),Or}function on(s,o,h){(s===qt&&(yn===2||yn===9)||s.cancelPendingCommit!==null)&&(dl(s,0),Pi(s,tn,Or,!1)),ri(s,h),((Dt&2)===0||s!==qt)&&(s===qt&&((Dt&2)===0&&(cl|=h),ui===4&&Pi(s,tn,Or,!1)),$e(s))}function hn(s,o,h){if((Dt&6)!==0)throw Error(n(327));var m=!h&&(o&127)===0&&(o&s.expiredLanes)===0||tt(s,o),S=m?Wf(s,o):Ir(s,o,!0),w=m;do{if(S===0){fa&&!m&&Pi(s,o,0,!1);break}else{if(h=s.current.alternate,w&&!Un(h)){S=Ir(s,o,!1),w=!1;continue}if(S===2){if(w=o,s.errorRecoveryDisabledLanes&w)var U=0;else U=s.pendingLanes&-536870913,U=U!==0?U:U&536870912?536870912:0;if(U!==0){o=U;e:{var G=s;S=pu;var re=G.current.memoizedState.isDehydrated;if(re&&(dl(G,U).flags|=256),U=Ir(G,U,!1),U!==2){if(yg&&!re){G.errorRecoveryDisabledLanes|=w,cl|=w,S=4;break e}w=gi,gi=S,w!==null&&(gi===null?gi=w:gi.push.apply(gi,w))}S=U}if(w=!1,S!==2)continue}}if(S===1){dl(s,0),Pi(s,o,0,!0);break}e:{switch(m=s,w=S,w){case 0:case 1:throw Error(n(345));case 4:if((o&4194048)!==o)break;case 6:Pi(m,o,Or,!js);break e;case 2:gi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((o&62914560)===o&&(S=gc+300-F(),10<S)){if(Pi(m,o,Or,!js),ke(m,0,!0)!==0)break e;qs=o,m.timeoutHandle=JT(mn.bind(null,m,h,gi,ci,vi,o,Or,cl,Zn,js,w,"Throttled",-0,0),S);break e}mn(m,h,gi,ci,vi,o,Or,cl,Zn,js,w,null,-0,0)}}break}while(!0);$e(s)}function mn(s,o,h,m,S,w,U,G,re,Se,Fe,We,we,Ie){if(s.timeoutHandle=-1,We=o.subtreeFlags,We&8192||(We&16785408)===16785408){We={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fo},kd(o,w,We);var At=(w&62914560)===w?gc-F():(w&4194048)===w?_g-F():0;if(At=WL(We,At),At!==null){qs=w,s.cancelPendingCommit=At(Co.bind(null,s,o,w,h,m,S,U,G,re,Fe,We,null,we,Ie)),Pi(s,w,U,!Se);return}}Co(s,o,w,h,m,S,U,G,re)}function Un(s){for(var o=s;;){var h=o.tag;if((h===0||h===11||h===15)&&o.flags&16384&&(h=o.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var m=0;m<h.length;m++){var S=h[m],w=S.getSnapshot;S=S.value;try{if(!Ar(w(),S))return!1}catch{return!1}}if(h=o.child,o.subtreeFlags&16384&&h!==null)h.return=o,o=h;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Pi(s,o,h,m){o&=~Hf,o&=~cl,s.suspendedLanes|=o,s.pingedLanes&=~o,m&&(s.warmLanes|=o),m=s.expirationTimes;for(var S=o;0<S;){var w=31-te(S),U=1<<w;m[w]=-1,S&=~U}h!==0&&Fo(s,h,o)}function ha(){return(Dt&6)===0?(yt(0),!1):!0}function hl(){if(an!==null){if(yn===0)var s=an.return;else s=an,Fa=Qo=null,Hm(s),nu=null,iu=0,s=an;for(;s!==null;)gs(s.alternate,s),s=s.return;an=null}}function dl(s,o){var h=s.timeoutHandle;h!==-1&&(s.timeoutHandle=-1,wL(h)),h=s.cancelPendingCommit,h!==null&&(s.cancelPendingCommit=null,h()),qs=0,hl(),qt=s,an=h=kr(s.current,null),tn=o,yn=0,Sr=null,js=!1,fa=tt(s,o),yg=!1,Zn=Or=Hf=cl=Ya=ui=0,gi=pu=null,vi=!1,(o&8)!==0&&(o|=o&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=o;0<m;){var S=31-te(m),w=1<<S;o|=s[S],m&=~w}return ys=o,Mf(),h}function Za(s,o){$t=null,Z.H=dc,o===Ql||o===sn?(o=eu(),yn=3):o===Af?(o=eu(),yn=4):yn=o===Cd?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Sr=o,an===null&&(ui=1,Ad(s,hs(o,s.current)))}function fi(){var s=Gr.current;return s===null?!0:(tn&4194048)===tn?Dr===null:(tn&62914560)===tn||(tn&536870912)!==0?s===Dr:!1}function Ao(){var s=Z.H;return Z.H=dc,s===null?dc:s}function pl(){var s=Z.A;return Z.A=wo,s}function xc(){ui=4,js||(tn&4194048)!==tn&&Gr.current!==null||(fa=!0),(Ya&134217727)===0&&(cl&134217727)===0||qt===null||Pi(qt,tn,Or,!1)}function Ir(s,o,h){var m=Dt;Dt|=2;var S=Ao(),w=pl();(qt!==s||tn!==o)&&(ci=null,dl(s,o)),o=!1;var U=ui;e:do try{if(yn!==0&&an!==null){var G=an,re=Sr;switch(yn){case 8:hl(),U=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(o=!0);var Se=yn;if(yn=0,Sr=null,gu(s,G,re,Se),h&&fa){U=0;break e}break;default:Se=yn,yn=0,Sr=null,gu(s,G,re,Se)}}bc(),U=ui;break}catch(Fe){Za(s,Fe)}while(!0);return o&&s.shellSuspendCounter++,Fa=Qo=null,Dt=m,Z.H=S,Z.A=w,an===null&&(qt=null,tn=0,Mf()),U}function bc(){for(;an!==null;)Vd(an)}function Wf(s,o){var h=Dt;Dt|=2;var m=Ao(),S=pl();qt!==s||tn!==o?(ci=null,Si=F()+500,dl(s,o)):fa=tt(s,o);e:do try{if(yn!==0&&an!==null){o=an;var w=Sr;t:switch(yn){case 1:yn=0,Sr=null,gu(s,o,w,1);break;case 2:case 9:if(Hr(w)){yn=0,Sr=null,Xf(o);break}o=function(){yn!==2&&yn!==9||qt!==s||(yn=7),$e(s)},w.then(o,o);break e;case 3:yn=7;break e;case 4:yn=5;break e;case 7:Hr(w)?(yn=0,Sr=null,Xf(o)):(yn=0,Sr=null,gu(s,o,w,7));break;case 5:var U=null;switch(an.tag){case 26:U=an.memoizedState;case 5:case 27:var G=an;if(U?pw(U):G.stateNode.complete){yn=0,Sr=null;var re=G.sibling;if(re!==null)an=re;else{var Se=G.return;Se!==null?(an=Se,ml(Se)):an=null}break t}}yn=0,Sr=null,gu(s,o,w,5);break;case 6:yn=0,Sr=null,gu(s,o,w,6);break;case 8:hl(),ui=6;break e;default:throw Error(n(462))}}Zr();break}catch(Fe){Za(s,Fe)}while(!0);return Fa=Qo=null,Z.H=m,Z.A=S,Dt=h,an!==null?0:(qt=null,tn=0,Mf(),ui)}function Zr(){for(;an!==null&&!Je();)Vd(an)}function Vd(s){var o=Ud(s.alternate,s,ys);s.memoizedProps=s.pendingProps,o===null?ml(s):an=o}function Xf(s){var o=s,h=o.alternate;switch(o.tag){case 15:case 0:o=Uf(h,o,o.pendingProps,o.type,void 0,tn);break;case 11:o=Uf(h,o,o.pendingProps,o.type.render,o.ref,tn);break;case 5:Hm(o);default:gs(h,o),o=an=Ju(o,ys),o=Ud(h,o,ys)}s.memoizedProps=s.pendingProps,o===null?ml(s):an=o}function gu(s,o,h,m){Fa=Qo=null,Hm(o),nu=null,iu=0;var S=o.return;try{if(Wi(s,S,o,h,tn)){ui=1,Ad(s,hs(h,s.current)),an=null;return}}catch(w){if(S!==null)throw an=S,w;ui=1,Ad(s,hs(h,s.current)),an=null;return}o.flags&32768?(gn||m===1?s=!0:fa||(tn&536870912)!==0?s=!1:(js=s=!0,(m===2||m===9||m===3||m===6)&&(m=Gr.current,m!==null&&m.tag===13&&(m.flags|=16384))),jf(o,s)):ml(o)}function ml(s){var o=s;do{if((o.flags&32768)!==0){jf(o,js);return}s=o.return;var h=Bf(o.alternate,o,ys);if(h!==null){an=h;return}if(o=o.sibling,o!==null){an=o;return}an=o=s}while(o!==null);ui===0&&(ui=5)}function jf(s,o){do{var h=ks(s.alternate,s);if(h!==null){h.flags&=32767,an=h;return}if(h=s.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!o&&(s=s.sibling,s!==null)){an=s;return}an=s=h}while(s!==null);ui=6,an=null}function Co(s,o,h,m,S,w,U,G,re){s.cancelPendingCommit=null;do Sc();while(Pn!==0);if((Dt&6)!==0)throw Error(n(327));if(o!==null){if(o===s.current)throw Error(n(177));if(w=o.lanes|o.childLanes,w|=tr,ki(s,h,w,U,G,re),s===qt&&(an=qt=null,tn=0),vc=o,_s=s,qs=h,yc=w,_c=S,Gf=m,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,C(_e,function(){return Hd(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||m){m=Z.T,Z.T=null,S=J.p,J.p=2,U=Dt,Dt|=4;try{A1(s,o,h)}finally{Dt=U,J.p=S,Z.T=m}}Pn=1,Ui(),Ro(),vu()}}function Ui(){if(Pn===1){Pn=0;var s=_s,o=vc,h=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||h){h=Z.T,Z.T=null;var m=J.p;J.p=2;var S=Dt;Dt|=4;try{ol(o,s);var w=I1,U=Ov(s.containerInfo),G=w.focusedElem,re=w.selectionRange;if(U!==G&&G&&G.ownerDocument&&Gn(G.ownerDocument.documentElement,G)){if(re!==null&&Em(G)){var Se=re.start,Fe=re.end;if(Fe===void 0&&(Fe=Se),"selectionStart"in G)G.selectionStart=Se,G.selectionEnd=Math.min(Fe,G.value.length);else{var We=G.ownerDocument||document,we=We&&We.defaultView||window;if(we.getSelection){var Ie=we.getSelection(),At=G.textContent.length,Ht=Math.min(re.start,At),qn=re.end===void 0?Ht:Math.min(re.end,At);!Ie.extend&&Ht>qn&&(U=qn,qn=Ht,Ht=U);var de=Ku(G,Ht),ae=Ku(G,qn);if(de&&ae&&(Ie.rangeCount!==1||Ie.anchorNode!==de.node||Ie.anchorOffset!==de.offset||Ie.focusNode!==ae.node||Ie.focusOffset!==ae.offset)){var xe=We.createRange();xe.setStart(de.node,de.offset),Ie.removeAllRanges(),Ht>qn?(Ie.addRange(xe),Ie.extend(ae.node,ae.offset)):(xe.setEnd(ae.node,ae.offset),Ie.addRange(xe))}}}}for(We=[],Ie=G;Ie=Ie.parentNode;)Ie.nodeType===1&&We.push({element:Ie,left:Ie.scrollLeft,top:Ie.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<We.length;G++){var He=We[G];He.element.scrollLeft=He.left,He.element.scrollTop=He.top}}Vy=!!O1,I1=O1=null}finally{Dt=S,J.p=m,Z.T=h}}s.current=o,Pn=2}}function Ro(){if(Pn===2){Pn=0;var s=_s,o=vc,h=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||h){h=Z.T,Z.T=null;var m=J.p;J.p=2;var S=Dt;Dt|=4;try{ti(s,o.alternate,o)}finally{Dt=S,J.p=m,Z.T=h}}Pn=3}}function vu(){if(Pn===4||Pn===3){Pn=0,q();var s=_s,o=vc,h=qs,m=Gf;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Pn=5:(Pn=0,vc=_s=null,Ka(s,s.pendingLanes));var S=s.pendingLanes;if(S===0&&(Mi=null),oo(h),o=o.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(qe,o,void 0,(o.current.flags&128)===128)}catch{}if(m!==null){o=Z.T,S=J.p,J.p=2,Z.T=null;try{for(var w=s.onRecoverableError,U=0;U<m.length;U++){var G=m[U];w(G.value,{componentStack:G.stack})}}finally{Z.T=o,J.p=S}}(qs&3)!==0&&Sc(),$e(s),S=s.pendingLanes,(h&261930)!==0&&(S&42)!==0?s===mu?fl++:(fl=0,mu=s):fl=0,yt(0)}}function Ka(s,o){(s.pooledCacheLanes&=o)===0&&(o=s.pooledCache,o!=null&&(s.pooledCache=null,$l(o)))}function Sc(){return Ui(),Ro(),vu(),Hd()}function Hd(){if(Pn!==5)return!1;var s=_s,o=yc;yc=0;var h=oo(qs),m=Z.T,S=J.p;try{J.p=32>h?32:h,Z.T=null,h=_c,_c=null;var w=_s,U=qs;if(Pn=0,vc=_s=null,qs=0,(Dt&6)!==0)throw Error(n(331));var G=Dt;if(Dt|=4,qr(w.current),vg(w,w.current,U,h),Dt=G,yt(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(qe,w)}catch{}return!0}finally{J.p=S,Z.T=m,Ka(s,o)}}function xg(s,o,h){o=hs(h,o),o=cg(s.stateNode,o,2),s=tl(s,o,2),s!==null&&(ri(s,2),$e(s))}function Tn(s,o,h){if(s.tag===3)xg(s,s,h);else for(;o!==null;){if(o.tag===3){xg(o,s,h);break}else if(o.tag===1){var m=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Mi===null||!Mi.has(m))){s=hs(h,s),h=fg(2),m=tl(o,h,2),m!==null&&(wy(h,m,o,s),ri(m,2),$e(m));break}}o=o.return}}function qf(s,o,h){var m=s.pingCache;if(m===null){m=s.pingCache=new Qt;var S=new Set;m.set(o,S)}else S=m.get(o),S===void 0&&(S=new Set,m.set(o,S));S.has(h)||(yg=!0,S.add(h),s=l.bind(null,s,o,h),o.then(s,s))}function l(s,o,h){var m=s.pingCache;m!==null&&m.delete(o),s.pingedLanes|=s.suspendedLanes&h,s.warmLanes&=~h,qt===s&&(tn&h)===h&&(ui===4||ui===3&&(tn&62914560)===tn&&300>F()-gc?(Dt&2)===0&&dl(s,0):Hf|=h,Zn===tn&&(Zn=0)),$e(s)}function f(s,o){o===0&&(o=en()),s=Cr(s,o),s!==null&&(ri(s,o),$e(s))}function v(s){var o=s.memoizedState,h=0;o!==null&&(h=o.retryLane),f(s,h)}function b(s,o){var h=0;switch(s.tag){case 31:case 13:var m=s.stateNode,S=s.memoizedState;S!==null&&(h=S.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(n(314))}m!==null&&m.delete(o),f(s,h)}function C(s,o){return Te(s,o)}var N=null,V=null,se=!1,Oe=!1,je=!1,ut=0;function $e(s){s!==V&&s.next===null&&(V===null?N=V=s:V=V.next=s),Oe=!0,se||(se=!0,me())}function yt(s,o){if(!je&&Oe){je=!0;do for(var h=!1,m=N;m!==null;){if(s!==0){var S=m.pendingLanes;if(S===0)var w=0;else{var U=m.suspendedLanes,G=m.pingedLanes;w=(1<<31-te(42|s)+1)-1,w&=S&~(U&~G),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(h=!0,Ee(m,w))}else w=tn,w=ke(m,m===qt?w:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(w&3)===0||tt(m,w)||(h=!0,Ee(m,w));m=m.next}while(h);je=!1}}function Kt(){Ei()}function Ei(){Oe=se=!1;var s=0;ut!==0&&TL()&&(s=ut);for(var o=F(),h=null,m=N;m!==null;){var S=m.next,w=Mc(m,o);w===0?(m.next=null,h===null?N=S:h.next=S,S===null&&(V=h)):(h=m,(s!==0||(w&3)!==0)&&(Oe=!0)),m=S}Pn!==0&&Pn!==5||yt(s),ut!==0&&(ut=0)}function Mc(s,o){for(var h=s.suspendedLanes,m=s.pingedLanes,S=s.expirationTimes,w=s.pendingLanes&-62914561;0<w;){var U=31-te(w),G=1<<U,re=S[U];re===-1?((G&h)===0||(G&m)!==0)&&(S[U]=Nt(G,o)):re<=o&&(s.expiredLanes|=G),w&=~G}if(o=qt,h=tn,h=ke(s,s===o?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,h===0||s===o&&(yn===2||yn===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&Ct(m),s.callbackNode=null,s.callbackPriority=0;if((h&3)===0||tt(s,h)){if(o=h&-h,o===s.callbackPriority)return o;switch(m!==null&&Ct(m),oo(h)){case 2:case 8:h=Be;break;case 32:h=_e;break;case 268435456:h=Ge;break;default:h=_e}return m=gl.bind(null,s),h=Te(h,m),s.callbackPriority=o,s.callbackNode=h,o}return m!==null&&m!==null&&Ct(m),s.callbackPriority=2,s.callbackNode=null,2}function gl(s,o){if(Pn!==0&&Pn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var h=s.callbackNode;if(Sc()&&s.callbackNode!==h)return null;var m=tn;return m=ke(s,s===qt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(hn(s,m,o),Mc(s,F()),s.callbackNode!=null&&s.callbackNode===h?gl.bind(null,s):null)}function Ee(s,o){if(Sc())return null;hn(s,o,!0)}function me(){AL(function(){(Dt&6)!==0?Te(Le,Kt):Ei()})}function Ne(){if(ut===0){var s=yo;s===0&&(s=et,et<<=1,(et&261888)===0&&(et=256)),ut=s}return ut}function ot(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:uf(""+s)}function zt(s,o){var h=o.ownerDocument.createElement("input");return h.name=o.name,h.value=o.value,s.id&&h.setAttribute("form",s.id),o.parentNode.insertBefore(h,o),s=new FormData(s),h.parentNode.removeChild(h),s}function hi(s,o,h,m,S){if(o==="submit"&&h&&h.stateNode===S){var w=ot((S[Vi]||null).action),U=m.submitter;U&&(o=(o=U[Vi]||null)?ot(o.formAction):U.getAttribute("formAction"),o!==null&&(w=o,U=null));var G=new hf("action","action",null,m,S);s.push({event:G,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ut!==0){var re=U?zt(S,U):new FormData(S);ng(h,{pending:!0,data:re,method:S.method,action:w},null,re)}}else typeof w=="function"&&(G.preventDefault(),re=U?zt(S,U):new FormData(S),ng(h,{pending:!0,data:re,method:S.method,action:w},w,re))},currentTarget:S}]})}}for(var Bt=0;Bt<bf.length;Bt++){var bn=bf[Bt],ar=bn.toLowerCase(),An=bn[0].toUpperCase()+bn.slice(1);Os(ar,"on"+An)}Os(td,"onAnimationEnd"),Os(xf,"onAnimationIteration"),Os(wm,"onAnimationStart"),Os("dblclick","onDoubleClick"),Os("focusin","onFocus"),Os("focusout","onBlur"),Os(Pv,"onTransitionRun"),Os(_1,"onTransitionStart"),Os(Uv,"onTransitionCancel"),Os(Am,"onTransitionEnd"),pe("onMouseEnter",["mouseout","mouseover"]),pe("onMouseLeave",["mouseout","mouseover"]),pe("onPointerEnter",["pointerout","pointerover"]),pe("onPointerLeave",["pointerout","pointerover"]),Me("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Me("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Me("onBeforeInput",["compositionend","keypress","textInput","paste"]),Me("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Me("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Me("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ys));function XT(s,o){o=(o&4)!==0;for(var h=0;h<s.length;h++){var m=s[h],S=m.event;m=m.listeners;e:{var w=void 0;if(o)for(var U=m.length-1;0<=U;U--){var G=m[U],re=G.instance,Se=G.currentTarget;if(G=G.listener,re!==w&&S.isPropagationStopped())break e;w=G,S.currentTarget=Se;try{w(S)}catch(Fe){Sf(Fe)}S.currentTarget=null,w=re}else for(U=0;U<m.length;U++){if(G=m[U],re=G.instance,Se=G.currentTarget,G=G.listener,re!==w&&S.isPropagationStopped())break e;w=G,S.currentTarget=Se;try{w(S)}catch(Fe){Sf(Fe)}S.currentTarget=null,w=re}}}}function _n(s,o){var h=o[us];h===void 0&&(h=o[us]=new Set);var m=s+"__bubble";h.has(m)||(jT(o,s,2,!1),h.add(m))}function R1(s,o,h){var m=0;o&&(m|=4),jT(h,s,m,o)}var Ly="_reactListening"+Math.random().toString(36).slice(2);function D1(s){if(!s[Ly]){s[Ly]=!0,ce.forEach(function(h){h!=="selectionchange"&&(C1.has(h)||R1(h,!1,s),R1(h,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ly]||(o[Ly]=!0,R1("selectionchange",!1,o))}}function jT(s,o,h,m){switch(bw(o)){case 2:var S=qL;break;case 8:S=YL;break;default:S=X1}h=S.bind(null,o,h,s),S=void 0,!lm||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(S=!0),m?S!==void 0?s.addEventListener(o,h,{capture:!0,passive:S}):s.addEventListener(o,h,!0):S!==void 0?s.addEventListener(o,h,{passive:S}):s.addEventListener(o,h,!1)}function N1(s,o,h,m,S){var w=m;if((o&1)===0&&(o&2)===0&&m!==null)e:for(;;){if(m===null)return;var U=m.tag;if(U===3||U===4){var G=m.stateNode.containerInfo;if(G===S)break;if(U===4)for(U=m.return;U!==null;){var re=U.tag;if((re===3||re===4)&&U.stateNode.containerInfo===S)return;U=U.return}for(;G!==null;){if(U=uo(G),U===null)return;if(re=U.tag,re===5||re===6||re===26||re===27){m=w=U;continue e}G=G.parentNode}}m=m.return}om(function(){var Se=w,Fe=Hh(h),We=[];e:{var we=Ls.get(s);if(we!==void 0){var Ie=hf,At=s;switch(s){case"keypress":if(ff(h)===0)break e;case"keydown":case"keyup":Ie=jl;break;case"focusin":At="focus",Ie=jh;break;case"focusout":At="blur",Ie=jh;break;case"beforeblur":case"afterblur":Ie=jh;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=mv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=bv;break;case td:case xf:case wm:Ie=g1;break;case Am:Ie=y1;break;case"scroll":case"scrollend":Ie=dv;break;case"wheel":Ie=Mv;break;case"copy":case"cut":case"paste":Ie=vv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=hm;break;case"toggle":case"beforetoggle":Ie=Tv}var Ht=(o&4)!==0,qn=!Ht&&(s==="scroll"||s==="scrollend"),de=Ht?we!==null?we+"Capture":null:we;Ht=[];for(var ae=Se,xe;ae!==null;){var He=ae;if(xe=He.stateNode,He=He.tag,He!==5&&He!==26&&He!==27||xe===null||de===null||(He=Vu(ae,de),He!=null&&Ht.push(bg(ae,He,xe))),qn)break;ae=ae.return}0<Ht.length&&(we=new Ie(we,At,null,h,Fe),We.push({event:we,listeners:Ht}))}}if((o&7)===0){e:{if(we=s==="mouseover"||s==="pointerover",Ie=s==="mouseout"||s==="pointerout",we&&h!==Vh&&(At=h.relatedTarget||h.fromElement)&&(uo(At)||At[ls]))break e;if((Ie||we)&&(we=Fe.window===Fe?Fe:(we=Fe.ownerDocument)?we.defaultView||we.parentWindow:window,Ie?(At=h.relatedTarget||h.toElement,Ie=Se,At=At?uo(At):null,At!==null&&(qn=a(At),Ht=At.tag,At!==qn||Ht!==5&&Ht!==27&&Ht!==6)&&(At=null)):(Ie=null,At=Se),Ie!==At)){if(Ht=um,He="onMouseLeave",de="onMouseEnter",ae="mouse",(s==="pointerout"||s==="pointerover")&&(Ht=hm,He="onPointerLeave",de="onPointerEnter",ae="pointer"),qn=Ie==null?we:Ho(Ie),xe=At==null?we:Ho(At),we=new Ht(He,ae+"leave",Ie,h,Fe),we.target=qn,we.relatedTarget=xe,He=null,uo(Fe)===Se&&(Ht=new Ht(de,ae+"enter",At,h,Fe),Ht.target=xe,Ht.relatedTarget=qn,He=Ht),qn=He,Ie&&At)t:{for(Ht=xL,de=Ie,ae=At,xe=0,He=de;He;He=Ht(He))xe++;He=0;for(var Ut=ae;Ut;Ut=Ht(Ut))He++;for(;0<xe-He;)de=Ht(de),xe--;for(;0<He-xe;)ae=Ht(ae),He--;for(;xe--;){if(de===ae||ae!==null&&de===ae.alternate){Ht=de;break t}de=Ht(de),ae=Ht(ae)}Ht=null}else Ht=null;Ie!==null&&qT(We,we,Ie,Ht,!1),At!==null&&qn!==null&&qT(We,qn,At,Ht,!0)}}e:{if(we=Se?Ho(Se):window,Ie=we.nodeName&&we.nodeName.toLowerCase(),Ie==="select"||Ie==="input"&&we.type==="file")var Ln=_m;else if(ym(we))if(Da)Ln=Lv;else{Ln=Sm;var Rt=Dv}else Ie=we.nodeName,!Ie||Ie.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?Se&&Ds(Se.elementType)&&(Ln=_m):Ln=Nv;if(Ln&&(Ln=Ln(s,Se))){Jh(We,Ln,h,Fe);break e}Rt&&Rt(s,we,Se),s==="focusout"&&Se&&we.type==="number"&&Se.memoizedProps.value!=null&&Yn(we,"number",we.value)}switch(Rt=Se?Ho(Se):window,s){case"focusin":(ym(Rt)||Rt.contentEditable==="true")&&(Na=Rt,La=Se,$u=null);break;case"focusout":$u=La=Na=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,Qu(We,h,Fe);break;case"selectionchange":if(Iv)break;case"keydown":case"keyup":Qu(We,h,Fe)}var un;if(ql)e:{switch(s){case"compositionstart":var Sn="onCompositionStart";break e;case"compositionend":Sn="onCompositionEnd";break e;case"compositionupdate":Sn="onCompositionUpdate";break e}Sn=void 0}else Yl?Qh(s,h)&&(Sn="onCompositionEnd"):s==="keydown"&&h.keyCode===229&&(Sn="onCompositionStart");Sn&&(pm&&h.locale!=="ko"&&(Yl||Sn!=="onCompositionStart"?Sn==="onCompositionEnd"&&Yl&&(un=cf()):(fs=Fe,Wh="value"in fs?fs.value:fs.textContent,Yl=!0)),Rt=Oy(Se,Sn),0<Rt.length&&(Sn=new qh(Sn,s,null,h,Fe),We.push({event:Sn,listeners:Rt}),un?Sn.data=un:(un=mm(h),un!==null&&(Sn.data=un)))),(un=$h?Cv(s,h):gm(s,h))&&(Sn=Oy(Se,"onBeforeInput"),0<Sn.length&&(Rt=new qh("onBeforeInput","beforeinput",null,h,Fe),We.push({event:Rt,listeners:Sn}),Rt.data=un)),hi(We,s,Se,h,Fe)}XT(We,o)})}function bg(s,o,h){return{instance:s,listener:o,currentTarget:h}}function Oy(s,o){for(var h=o+"Capture",m=[];s!==null;){var S=s,w=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||w===null||(S=Vu(s,h),S!=null&&m.unshift(bg(s,S,w)),S=Vu(s,o),S!=null&&m.push(bg(s,S,w))),s.tag===3)return m;s=s.return}return[]}function xL(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function qT(s,o,h,m,S){for(var w=o._reactName,U=[];h!==null&&h!==m;){var G=h,re=G.alternate,Se=G.stateNode;if(G=G.tag,re!==null&&re===m)break;G!==5&&G!==26&&G!==27||Se===null||(re=Se,S?(Se=Vu(h,w),Se!=null&&U.unshift(bg(h,Se,re))):S||(Se=Vu(h,w),Se!=null&&U.push(bg(h,Se,re)))),h=h.return}U.length!==0&&s.push({event:o,listeners:U})}var bL=/\r\n?/g,SL=/\u0000|\uFFFD/g;function YT(s){return(typeof s=="string"?s:""+s).replace(bL,`
`).replace(SL,"")}function ZT(s,o){return o=YT(o),YT(s)===o}function jn(s,o,h,m,S,w){switch(h){case"children":typeof m=="string"?o==="body"||o==="textarea"&&m===""||Li(s,m):(typeof m=="number"||typeof m=="bigint")&&o!=="body"&&Li(s,""+m);break;case"className":It(s,"class",m);break;case"tabIndex":It(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":It(s,h,m);break;case"style":Gl(s,m,w);break;case"data":if(o!=="object"){It(s,"data",m);break}case"src":case"href":if(m===""&&(o!=="a"||h!=="href")){s.removeAttribute(h);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=uf(""+m),s.setAttribute(h,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(h==="formAction"?(o!=="input"&&jn(s,o,"name",S.name,S,null),jn(s,o,"formEncType",S.formEncType,S,null),jn(s,o,"formMethod",S.formMethod,S,null),jn(s,o,"formTarget",S.formTarget,S,null)):(jn(s,o,"encType",S.encType,S,null),jn(s,o,"method",S.method,S,null),jn(s,o,"target",S.target,S,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(h);break}m=uf(""+m),s.setAttribute(h,m);break;case"onClick":m!=null&&(s.onclick=fo);break;case"onScroll":m!=null&&_n("scroll",s);break;case"onScrollEnd":m!=null&&_n("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(S.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}h=uf(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""+m):s.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,""):s.removeAttribute(h);break;case"capture":case"download":m===!0?s.setAttribute(h,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(h,m):s.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(h,m):s.removeAttribute(h);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(h):s.setAttribute(h,m);break;case"popover":_n("beforetoggle",s),_n("toggle",s),Tt(s,"popover",m);break;case"xlinkActuate":wt(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":wt(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":wt(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":wt(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":wt(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":wt(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":wt(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":wt(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":wt(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tt(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=fv.get(h)||h,Tt(s,h,m))}}function L1(s,o,h,m,S,w){switch(h){case"style":Gl(s,m,w);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(n(61));if(h=m.__html,h!=null){if(S.children!=null)throw Error(n(60));s.innerHTML=h}}break;case"children":typeof m=="string"?Li(s,m):(typeof m=="number"||typeof m=="bigint")&&Li(s,""+m);break;case"onScroll":m!=null&&_n("scroll",s);break;case"onScrollEnd":m!=null&&_n("scrollend",s);break;case"onClick":m!=null&&(s.onclick=fo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ce.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(S=h.endsWith("Capture"),o=h.slice(2,S?h.length-7:void 0),w=s[Vi]||null,w=w!=null?w[h]:null,typeof w=="function"&&s.removeEventListener(o,w,S),typeof m=="function")){typeof w!="function"&&w!==null&&(h in s?s[h]=null:s.hasAttribute(h)&&s.removeAttribute(h)),s.addEventListener(o,m,S);break e}h in s?s[h]=m:m===!0?s.setAttribute(h,""):Tt(s,h,m)}}}function Pr(s,o,h){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",s),_n("load",s);var m=!1,S=!1,w;for(w in h)if(h.hasOwnProperty(w)){var U=h[w];if(U!=null)switch(w){case"src":m=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:jn(s,o,w,U,h,null)}}S&&jn(s,o,"srcSet",h.srcSet,h,null),m&&jn(s,o,"src",h.src,h,null);return;case"input":_n("invalid",s);var G=w=U=S=null,re=null,Se=null;for(m in h)if(h.hasOwnProperty(m)){var Fe=h[m];if(Fe!=null)switch(m){case"name":S=Fe;break;case"type":U=Fe;break;case"checked":re=Fe;break;case"defaultChecked":Se=Fe;break;case"value":w=Fe;break;case"defaultValue":G=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,o));break;default:jn(s,o,m,Fe,h,null)}}oa(s,w,G,re,Se,U,S,!1);return;case"select":_n("invalid",s),m=U=w=null;for(S in h)if(h.hasOwnProperty(S)&&(G=h[S],G!=null))switch(S){case"value":w=G;break;case"defaultValue":U=G;break;case"multiple":m=G;default:jn(s,o,S,G,h,null)}o=w,h=U,s.multiple=!!m,o!=null?Tr(s,!!m,o,!1):h!=null&&Tr(s,!!m,h,!0);return;case"textarea":_n("invalid",s),w=S=m=null;for(U in h)if(h.hasOwnProperty(U)&&(G=h[U],G!=null))switch(U){case"value":m=G;break;case"defaultValue":S=G;break;case"children":w=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(n(91));break;default:jn(s,o,U,G,h,null)}Hi(s,m,S,w);return;case"option":for(re in h)if(h.hasOwnProperty(re)&&(m=h[re],m!=null))switch(re){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:jn(s,o,re,m,h,null)}return;case"dialog":_n("beforetoggle",s),_n("toggle",s),_n("cancel",s),_n("close",s);break;case"iframe":case"object":_n("load",s);break;case"video":case"audio":for(m=0;m<Ys.length;m++)_n(Ys[m],s);break;case"image":_n("error",s),_n("load",s);break;case"details":_n("toggle",s);break;case"embed":case"source":case"link":_n("error",s),_n("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Se in h)if(h.hasOwnProperty(Se)&&(m=h[Se],m!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,o));default:jn(s,o,Se,m,h,null)}return;default:if(Ds(o)){for(Fe in h)h.hasOwnProperty(Fe)&&(m=h[Fe],m!==void 0&&L1(s,o,Fe,m,h,void 0));return}}for(G in h)h.hasOwnProperty(G)&&(m=h[G],m!=null&&jn(s,o,G,m,h,null))}function ML(s,o,h,m){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,w=null,U=null,G=null,re=null,Se=null,Fe=null;for(Ie in h){var We=h[Ie];if(h.hasOwnProperty(Ie)&&We!=null)switch(Ie){case"checked":break;case"value":break;case"defaultValue":re=We;default:m.hasOwnProperty(Ie)||jn(s,o,Ie,null,m,We)}}for(var we in m){var Ie=m[we];if(We=h[we],m.hasOwnProperty(we)&&(Ie!=null||We!=null))switch(we){case"type":w=Ie;break;case"name":S=Ie;break;case"checked":Se=Ie;break;case"defaultChecked":Fe=Ie;break;case"value":U=Ie;break;case"defaultValue":G=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,o));break;default:Ie!==We&&jn(s,o,we,Ie,m,We)}}Ni(s,U,G,re,Se,Fe,w,S);return;case"select":Ie=U=G=we=null;for(w in h)if(re=h[w],h.hasOwnProperty(w)&&re!=null)switch(w){case"value":break;case"multiple":Ie=re;default:m.hasOwnProperty(w)||jn(s,o,w,null,m,re)}for(S in m)if(w=m[S],re=h[S],m.hasOwnProperty(S)&&(w!=null||re!=null))switch(S){case"value":we=w;break;case"defaultValue":G=w;break;case"multiple":U=w;default:w!==re&&jn(s,o,S,w,m,re)}o=G,h=U,m=Ie,we!=null?Tr(s,!!h,we,!1):!!m!=!!h&&(o!=null?Tr(s,!!h,o,!0):Tr(s,!!h,h?[]:"",!1));return;case"textarea":Ie=we=null;for(G in h)if(S=h[G],h.hasOwnProperty(G)&&S!=null&&!m.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:jn(s,o,G,null,m,S)}for(U in m)if(S=m[U],w=h[U],m.hasOwnProperty(U)&&(S!=null||w!=null))switch(U){case"value":we=S;break;case"defaultValue":Ie=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(n(91));break;default:S!==w&&jn(s,o,U,S,m,w)}Cn(s,we,Ie);return;case"option":for(var At in h)if(we=h[At],h.hasOwnProperty(At)&&we!=null&&!m.hasOwnProperty(At))switch(At){case"selected":s.selected=!1;break;default:jn(s,o,At,null,m,we)}for(re in m)if(we=m[re],Ie=h[re],m.hasOwnProperty(re)&&we!==Ie&&(we!=null||Ie!=null))switch(re){case"selected":s.selected=we&&typeof we!="function"&&typeof we!="symbol";break;default:jn(s,o,re,we,m,Ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ht in h)we=h[Ht],h.hasOwnProperty(Ht)&&we!=null&&!m.hasOwnProperty(Ht)&&jn(s,o,Ht,null,m,we);for(Se in m)if(we=m[Se],Ie=h[Se],m.hasOwnProperty(Se)&&we!==Ie&&(we!=null||Ie!=null))switch(Se){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(137,o));break;default:jn(s,o,Se,we,m,Ie)}return;default:if(Ds(o)){for(var qn in h)we=h[qn],h.hasOwnProperty(qn)&&we!==void 0&&!m.hasOwnProperty(qn)&&L1(s,o,qn,void 0,m,we);for(Fe in m)we=m[Fe],Ie=h[Fe],!m.hasOwnProperty(Fe)||we===Ie||we===void 0&&Ie===void 0||L1(s,o,Fe,we,m,Ie);return}}for(var de in h)we=h[de],h.hasOwnProperty(de)&&we!=null&&!m.hasOwnProperty(de)&&jn(s,o,de,null,m,we);for(We in m)we=m[We],Ie=h[We],!m.hasOwnProperty(We)||we===Ie||we==null&&Ie==null||jn(s,o,We,we,m,Ie)}function KT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function EL(){if(typeof performance.getEntriesByType=="function"){for(var s=0,o=0,h=performance.getEntriesByType("resource"),m=0;m<h.length;m++){var S=h[m],w=S.transferSize,U=S.initiatorType,G=S.duration;if(w&&G&&KT(U)){for(U=0,G=S.responseEnd,m+=1;m<h.length;m++){var re=h[m],Se=re.startTime;if(Se>G)break;var Fe=re.transferSize,We=re.initiatorType;Fe&&KT(We)&&(re=re.responseEnd,U+=Fe*(re<G?1:(G-Se)/(re-Se)))}if(--m,o+=8*(w+U)/(S.duration/1e3),s++,10<s)break}}if(0<s)return o/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var O1=null,I1=null;function Iy(s){return s.nodeType===9?s:s.ownerDocument}function $T(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function QT(s,o){if(s===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&o==="foreignObject"?0:s}function P1(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var U1=null;function TL(){var s=window.event;return s&&s.type==="popstate"?s===U1?!1:(U1=s,!0):(U1=null,!1)}var JT=typeof setTimeout=="function"?setTimeout:void 0,wL=typeof clearTimeout=="function"?clearTimeout:void 0,ew=typeof Promise=="function"?Promise:void 0,AL=typeof queueMicrotask=="function"?queueMicrotask:typeof ew<"u"?function(s){return ew.resolve(null).then(s).catch(CL)}:JT;function CL(s){setTimeout(function(){throw s})}function Ec(s){return s==="head"}function tw(s,o){var h=o,m=0;do{var S=h.nextSibling;if(s.removeChild(h),S&&S.nodeType===8)if(h=S.data,h==="/$"||h==="/&"){if(m===0){s.removeChild(S),jd(o);return}m--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")m++;else if(h==="html")Sg(s.ownerDocument.documentElement);else if(h==="head"){h=s.ownerDocument.head,Sg(h);for(var w=h.firstChild;w;){var U=w.nextSibling,G=w.nodeName;w[aa]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=U}}else h==="body"&&Sg(s.ownerDocument.body);h=S}while(h);jd(o)}function nw(s,o){var h=s;s=0;do{var m=h.nextSibling;if(h.nodeType===1?o?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(o?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),m&&m.nodeType===8)if(h=m.data,h==="/$"){if(s===0)break;s--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||s++;h=m}while(h)}function z1(s){var o=s.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var h=o;switch(o=o.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":z1(h),lo(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}s.removeChild(h)}}function RL(s,o,h,m){for(;s.nodeType===1;){var S=h;if(s.nodeName.toLowerCase()!==o.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[aa])switch(o){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(w=s.getAttribute("rel"),w==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(w!==S.rel||s.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||s.getAttribute("title")!==(S.title==null?null:S.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(w=s.getAttribute("src"),(w!==(S.src==null?null:S.src)||s.getAttribute("type")!==(S.type==null?null:S.type)||s.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&w&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(o==="input"&&s.type==="hidden"){var w=S.name==null?null:""+S.name;if(S.type==="hidden"&&s.getAttribute("name")===w)return s}else return s;if(s=$a(s.nextSibling),s===null)break}return null}function DL(s,o,h){if(o==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!h||(s=$a(s.nextSibling),s===null))return null;return s}function iw(s,o){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!o||(s=$a(s.nextSibling),s===null))return null;return s}function F1(s){return s.data==="$?"||s.data==="$~"}function B1(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function NL(s,o){var h=s.ownerDocument;if(s.data==="$~")s._reactRetry=o;else if(s.data!=="$?"||h.readyState!=="loading")o();else{var m=function(){o(),h.removeEventListener("DOMContentLoaded",m)};h.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function $a(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return s}var k1=null;function rw(s){s=s.nextSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="/$"||h==="/&"){if(o===0)return $a(s.nextSibling);o--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||o++}s=s.nextSibling}return null}function sw(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var h=s.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(o===0)return s;o--}else h!=="/$"&&h!=="/&"||o++}s=s.previousSibling}return null}function aw(s,o,h){switch(o=Iy(h),s){case"html":if(s=o.documentElement,!s)throw Error(n(452));return s;case"head":if(s=o.head,!s)throw Error(n(453));return s;case"body":if(s=o.body,!s)throw Error(n(454));return s;default:throw Error(n(451))}}function Sg(s){for(var o=s.attributes;o.length;)s.removeAttributeNode(o[0]);lo(s)}var Qa=new Map,ow=new Set;function Py(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var yu=J.d;J.d={f:LL,r:OL,D:IL,C:PL,L:UL,m:zL,X:BL,S:FL,M:kL};function LL(){var s=yu.f(),o=ha();return s||o}function OL(s){var o=co(s);o!==null&&o.tag===5&&o.type==="form"?vy(o):yu.r(s)}var Gd=typeof document>"u"?null:document;function lw(s,o,h){var m=Gd;if(m&&typeof o=="string"&&o){var S=Vt(o);S='link[rel="'+s+'"][href="'+S+'"]',typeof h=="string"&&(S+='[crossorigin="'+h+'"]'),ow.has(S)||(ow.add(S),s={rel:s,crossOrigin:h,href:o},m.querySelector(S)===null&&(o=m.createElement("link"),Pr(o,"link",s),H(o),m.head.appendChild(o)))}}function IL(s){yu.D(s),lw("dns-prefetch",s,null)}function PL(s,o){yu.C(s,o),lw("preconnect",s,o)}function UL(s,o,h){yu.L(s,o,h);var m=Gd;if(m&&s&&o){var S='link[rel="preload"][as="'+Vt(o)+'"]';o==="image"&&h&&h.imageSrcSet?(S+='[imagesrcset="'+Vt(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(S+='[imagesizes="'+Vt(h.imageSizes)+'"]')):S+='[href="'+Vt(s)+'"]';var w=S;switch(o){case"style":w=Wd(s);break;case"script":w=Xd(s)}Qa.has(w)||(s=y({rel:"preload",href:o==="image"&&h&&h.imageSrcSet?void 0:s,as:o},h),Qa.set(w,s),m.querySelector(S)!==null||o==="style"&&m.querySelector(Mg(w))||o==="script"&&m.querySelector(Eg(w))||(o=m.createElement("link"),Pr(o,"link",s),H(o),m.head.appendChild(o)))}}function zL(s,o){yu.m(s,o);var h=Gd;if(h&&s){var m=o&&typeof o.as=="string"?o.as:"script",S='link[rel="modulepreload"][as="'+Vt(m)+'"][href="'+Vt(s)+'"]',w=S;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Xd(s)}if(!Qa.has(w)&&(s=y({rel:"modulepreload",href:s},o),Qa.set(w,s),h.querySelector(S)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Eg(w)))return}m=h.createElement("link"),Pr(m,"link",s),H(m),h.head.appendChild(m)}}}function FL(s,o,h){yu.S(s,o,h);var m=Gd;if(m&&s){var S=Ca(m).hoistableStyles,w=Wd(s);o=o||"default";var U=S.get(w);if(!U){var G={loading:0,preload:null};if(U=m.querySelector(Mg(w)))G.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":o},h),(h=Qa.get(w))&&V1(s,h);var re=U=m.createElement("link");H(re),Pr(re,"link",s),re._p=new Promise(function(Se,Fe){re.onload=Se,re.onerror=Fe}),re.addEventListener("load",function(){G.loading|=1}),re.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Uy(U,o,m)}U={type:"stylesheet",instance:U,count:1,state:G},S.set(w,U)}}}function BL(s,o){yu.X(s,o);var h=Gd;if(h&&s){var m=Ca(h).hoistableScripts,S=Xd(s),w=m.get(S);w||(w=h.querySelector(Eg(S)),w||(s=y({src:s,async:!0},o),(o=Qa.get(S))&&H1(s,o),w=h.createElement("script"),H(w),Pr(w,"link",s),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(S,w))}}function kL(s,o){yu.M(s,o);var h=Gd;if(h&&s){var m=Ca(h).hoistableScripts,S=Xd(s),w=m.get(S);w||(w=h.querySelector(Eg(S)),w||(s=y({src:s,async:!0,type:"module"},o),(o=Qa.get(S))&&H1(s,o),w=h.createElement("script"),H(w),Pr(w,"link",s),h.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},m.set(S,w))}}function uw(s,o,h,m){var S=(S=ge.current)?Py(S):null;if(!S)throw Error(n(446));switch(s){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(o=Wd(h.href),h=Ca(S).hoistableStyles,m=h.get(o),m||(m={type:"style",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){s=Wd(h.href);var w=Ca(S).hoistableStyles,U=w.get(s);if(U||(S=S.ownerDocument||S,U={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(s,U),(w=S.querySelector(Mg(s)))&&!w._p&&(U.instance=w,U.state.loading=5),Qa.has(s)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Qa.set(s,h),w||VL(S,s,h,U.state))),o&&m===null)throw Error(n(528,""));return U}if(o&&m!==null)throw Error(n(529,""));return null;case"script":return o=h.async,h=h.src,typeof h=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Xd(h),h=Ca(S).hoistableScripts,m=h.get(o),m||(m={type:"script",instance:null,count:0,state:null},h.set(o,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,s))}}function Wd(s){return'href="'+Vt(s)+'"'}function Mg(s){return'link[rel="stylesheet"]['+s+"]"}function cw(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function VL(s,o,h,m){s.querySelector('link[rel="preload"][as="style"]['+o+"]")?m.loading=1:(o=s.createElement("link"),m.preload=o,o.addEventListener("load",function(){return m.loading|=1}),o.addEventListener("error",function(){return m.loading|=2}),Pr(o,"link",h),H(o),s.head.appendChild(o))}function Xd(s){return'[src="'+Vt(s)+'"]'}function Eg(s){return"script[async]"+s}function fw(s,o,h){if(o.count++,o.instance===null)switch(o.type){case"style":var m=s.querySelector('style[data-href~="'+Vt(h.href)+'"]');if(m)return o.instance=m,H(m),m;var S=y({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),H(m),Pr(m,"style",S),Uy(m,h.precedence,s),o.instance=m;case"stylesheet":S=Wd(h.href);var w=s.querySelector(Mg(S));if(w)return o.state.loading|=4,o.instance=w,H(w),w;m=cw(h),(S=Qa.get(S))&&V1(m,S),w=(s.ownerDocument||s).createElement("link"),H(w);var U=w;return U._p=new Promise(function(G,re){U.onload=G,U.onerror=re}),Pr(w,"link",m),o.state.loading|=4,Uy(w,h.precedence,s),o.instance=w;case"script":return w=Xd(h.src),(S=s.querySelector(Eg(w)))?(o.instance=S,H(S),S):(m=h,(S=Qa.get(w))&&(m=y({},h),H1(m,S)),s=s.ownerDocument||s,S=s.createElement("script"),H(S),Pr(S,"link",m),s.head.appendChild(S),o.instance=S);case"void":return null;default:throw Error(n(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(m=o.instance,o.state.loading|=4,Uy(m,h.precedence,s));return o.instance}function Uy(s,o,h){for(var m=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=m.length?m[m.length-1]:null,w=S,U=0;U<m.length;U++){var G=m[U];if(G.dataset.precedence===o)w=G;else if(w!==S)break}w?w.parentNode.insertBefore(s,w.nextSibling):(o=h.nodeType===9?h.head:h,o.insertBefore(s,o.firstChild))}function V1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.title==null&&(s.title=o.title)}function H1(s,o){s.crossOrigin==null&&(s.crossOrigin=o.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=o.referrerPolicy),s.integrity==null&&(s.integrity=o.integrity)}var zy=null;function hw(s,o,h){if(zy===null){var m=new Map,S=zy=new Map;S.set(h,m)}else S=zy,m=S.get(h),m||(m=new Map,S.set(h,m));if(m.has(s))return m;for(m.set(s,null),h=h.getElementsByTagName(s),S=0;S<h.length;S++){var w=h[S];if(!(w[aa]||w[si]||s==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var U=w.getAttribute(o)||"";U=s+U;var G=m.get(U);G?G.push(w):m.set(U,[w])}}return m}function dw(s,o,h){s=s.ownerDocument||s,s.head.insertBefore(h,o==="title"?s.querySelector("head > title"):null)}function HL(s,o,h){if(h===1||o.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return s=o.disabled,typeof o.precedence=="string"&&s==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function pw(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function GL(s,o,h,m){if(h.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var S=Wd(m.href),w=o.querySelector(Mg(S));if(w){o=w._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(s.count++,s=Fy.bind(s),o.then(s,s)),h.state.loading|=4,h.instance=w,H(w);return}w=o.ownerDocument||o,m=cw(m),(S=Qa.get(S))&&V1(m,S),w=w.createElement("link"),H(w);var U=w;U._p=new Promise(function(G,re){U.onload=G,U.onerror=re}),Pr(w,"link",m),h.instance=w}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(h,o),(o=h.state.preload)&&(h.state.loading&3)===0&&(s.count++,h=Fy.bind(s),o.addEventListener("load",h),o.addEventListener("error",h))}}var G1=0;function WL(s,o){return s.stylesheets&&s.count===0&&ky(s,s.stylesheets),0<s.count||0<s.imgCount?function(h){var m=setTimeout(function(){if(s.stylesheets&&ky(s,s.stylesheets),s.unsuspend){var w=s.unsuspend;s.unsuspend=null,w()}},6e4+o);0<s.imgBytes&&G1===0&&(G1=62500*EL());var S=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&ky(s,s.stylesheets),s.unsuspend)){var w=s.unsuspend;s.unsuspend=null,w()}},(s.imgBytes>G1?50:800)+o);return s.unsuspend=h,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(S)}}:null}function Fy(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ky(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var By=null;function ky(s,o){s.stylesheets=null,s.unsuspend!==null&&(s.count++,By=new Map,o.forEach(XL,s),By=null,Fy.call(s))}function XL(s,o){if(!(o.state.loading&4)){var h=By.get(s);if(h)var m=h.get(null);else{h=new Map,By.set(s,h);for(var S=s.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<S.length;w++){var U=S[w];(U.nodeName==="LINK"||U.getAttribute("media")!=="not all")&&(h.set(U.dataset.precedence,U),m=U)}m&&h.set(null,m)}S=o.instance,U=S.getAttribute("data-precedence"),w=h.get(U)||m,w===m&&h.set(null,S),h.set(U,S),this.count++,m=Fy.bind(this),S.addEventListener("load",m),S.addEventListener("error",m),w?w.parentNode.insertBefore(S,w.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(S,s.firstChild)),o.state.loading|=4}}var Tg={$$typeof:D,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function jL(s,o,h,m,S,w,U,G,re){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rn(0),this.hiddenUpdates=rn(null),this.identifierPrefix=m,this.onUncaughtError=S,this.onCaughtError=w,this.onRecoverableError=U,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function mw(s,o,h,m,S,w,U,G,re,Se,Fe,We){return s=new jL(s,o,h,U,re,Se,Fe,We,G),o=1,w===!0&&(o|=24),w=ai(3,null,null,o),s.current=w,w.stateNode=s,o=Rm(),o.refCount++,s.pooledCache=o,o.refCount++,w.memoizedState={element:m,isDehydrated:h,cache:o},Rf(w),s}function gw(s){return s?(s=qo,s):qo}function vw(s,o,h,m,S,w){S=gw(S),m.context===null?m.context=S:m.pendingContext=S,m=xo(o),m.payload={element:h},w=w===void 0?null:w,w!==null&&(m.callback=w),h=tl(s,m,o),h!==null&&(on(h,s,o),nl(h,s,o))}function yw(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var h=s.retryLane;s.retryLane=h!==0&&h<o?h:o}}function W1(s,o){yw(s,o),(s=s.alternate)&&yw(s,o)}function _w(s){if(s.tag===13||s.tag===31){var o=Cr(s,67108864);o!==null&&on(o,s,67108864),W1(s,67108864)}}function xw(s){if(s.tag===13||s.tag===31){var o=xs();o=ko(o);var h=Cr(s,o);h!==null&&on(h,s,o),W1(s,o)}}var Vy=!0;function qL(s,o,h,m){var S=Z.T;Z.T=null;var w=J.p;try{J.p=2,X1(s,o,h,m)}finally{J.p=w,Z.T=S}}function YL(s,o,h,m){var S=Z.T;Z.T=null;var w=J.p;try{J.p=8,X1(s,o,h,m)}finally{J.p=w,Z.T=S}}function X1(s,o,h,m){if(Vy){var S=j1(m);if(S===null)N1(s,o,m,Hy,h),Sw(s,m);else if(KL(S,s,o,h,m))m.stopPropagation();else if(Sw(s,m),o&4&&-1<ZL.indexOf(s)){for(;S!==null;){var w=co(S);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var U=Ze(w.pendingLanes);if(U!==0){var G=w;for(G.pendingLanes|=2,G.entangledLanes|=2;U;){var re=1<<31-te(U);G.entanglements[1]|=re,U&=~re}$e(w),(Dt&6)===0&&(Si=F()+500,yt(0))}}break;case 31:case 13:G=Cr(w,2),G!==null&&on(G,w,2),ha(),W1(w,2)}if(w=j1(m),w===null&&N1(s,o,m,Hy,h),w===S)break;S=w}S!==null&&m.stopPropagation()}else N1(s,o,m,null,h)}}function j1(s){return s=Hh(s),q1(s)}var Hy=null;function q1(s){if(Hy=null,s=uo(s),s!==null){var o=a(s);if(o===null)s=null;else{var h=o.tag;if(h===13){if(s=u(o),s!==null)return s;s=null}else if(h===31){if(s=c(o),s!==null)return s;s=null}else if(h===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null)}}return Hy=s,null}function bw(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oe()){case Le:return 2;case Be:return 8;case _e:case st:return 32;case Ge:return 268435456;default:return 32}default:return 32}}var Y1=!1,Tc=null,wc=null,Ac=null,wg=new Map,Ag=new Map,Cc=[],ZL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sw(s,o){switch(s){case"focusin":case"focusout":Tc=null;break;case"dragenter":case"dragleave":wc=null;break;case"mouseover":case"mouseout":Ac=null;break;case"pointerover":case"pointerout":wg.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ag.delete(o.pointerId)}}function Cg(s,o,h,m,S,w){return s===null||s.nativeEvent!==w?(s={blockedOn:o,domEventName:h,eventSystemFlags:m,nativeEvent:w,targetContainers:[S]},o!==null&&(o=co(o),o!==null&&_w(o)),s):(s.eventSystemFlags|=m,o=s.targetContainers,S!==null&&o.indexOf(S)===-1&&o.push(S),s)}function KL(s,o,h,m,S){switch(o){case"focusin":return Tc=Cg(Tc,s,o,h,m,S),!0;case"dragenter":return wc=Cg(wc,s,o,h,m,S),!0;case"mouseover":return Ac=Cg(Ac,s,o,h,m,S),!0;case"pointerover":var w=S.pointerId;return wg.set(w,Cg(wg.get(w)||null,s,o,h,m,S)),!0;case"gotpointercapture":return w=S.pointerId,Ag.set(w,Cg(Ag.get(w)||null,s,o,h,m,S)),!0}return!1}function Mw(s){var o=uo(s.target);if(o!==null){var h=a(o);if(h!==null){if(o=h.tag,o===13){if(o=u(h),o!==null){s.blockedOn=o,yr(s.priority,function(){xw(h)});return}}else if(o===31){if(o=c(h),o!==null){s.blockedOn=o,yr(s.priority,function(){xw(h)});return}}else if(o===3&&h.stateNode.current.memoizedState.isDehydrated){s.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gy(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var h=j1(s.nativeEvent);if(h===null){h=s.nativeEvent;var m=new h.constructor(h.type,h);Vh=m,h.target.dispatchEvent(m),Vh=null}else return o=co(h),o!==null&&_w(o),s.blockedOn=h,!1;o.shift()}return!0}function Ew(s,o,h){Gy(s)&&h.delete(o)}function $L(){Y1=!1,Tc!==null&&Gy(Tc)&&(Tc=null),wc!==null&&Gy(wc)&&(wc=null),Ac!==null&&Gy(Ac)&&(Ac=null),wg.forEach(Ew),Ag.forEach(Ew)}function Wy(s,o){s.blockedOn===o&&(s.blockedOn=null,Y1||(Y1=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$L)))}var Xy=null;function Tw(s){Xy!==s&&(Xy=s,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xy===s&&(Xy=null);for(var o=0;o<s.length;o+=3){var h=s[o],m=s[o+1],S=s[o+2];if(typeof m!="function"){if(q1(m||h)===null)continue;break}var w=co(h);w!==null&&(s.splice(o,3),o-=3,ng(w,{pending:!0,data:S,method:h.method,action:m},m,S))}}))}function jd(s){function o(re){return Wy(re,s)}Tc!==null&&Wy(Tc,s),wc!==null&&Wy(wc,s),Ac!==null&&Wy(Ac,s),wg.forEach(o),Ag.forEach(o);for(var h=0;h<Cc.length;h++){var m=Cc[h];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Cc.length&&(h=Cc[0],h.blockedOn===null);)Mw(h),h.blockedOn===null&&Cc.shift();if(h=(s.ownerDocument||s).$$reactFormReplay,h!=null)for(m=0;m<h.length;m+=3){var S=h[m],w=h[m+1],U=S[Vi]||null;if(typeof w=="function")U||Tw(h);else if(U){var G=null;if(w&&w.hasAttribute("formAction")){if(S=w,U=w[Vi]||null)G=U.formAction;else if(q1(S)!==null)continue}else G=U.action;typeof G=="function"?h[m+1]=G:(h.splice(m,3),m-=3),Tw(h)}}}function ww(){function s(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(U){return S=U})},focusReset:"manual",scroll:"manual"})}function o(){S!==null&&(S(),S=null),m||setTimeout(h,20)}function h(){if(!m&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,S=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(h,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),S!==null&&(S(),S=null)}}}function Z1(s){this._internalRoot=s}jy.prototype.render=Z1.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));var h=o.current,m=xs();vw(h,m,s,o,null,null)},jy.prototype.unmount=Z1.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;vw(s.current,2,null,s,null,null),ha(),o[ls]=null}};function jy(s){this._internalRoot=s}jy.prototype.unstable_scheduleHydration=function(s){if(s){var o=Vl();s={blockedOn:null,target:s,priority:o};for(var h=0;h<Cc.length&&o!==0&&o<Cc[h].priority;h++);Cc.splice(h,0,s),h===0&&Mw(s)}};var Aw=e.version;if(Aw!=="19.2.4")throw Error(n(527,Aw,"19.2.4"));J.findDOMNode=function(s){var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=p(o),s=s!==null?g(s):null,s=s===null?null:s.stateNode,s};var QL={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qy.isDisabled&&qy.supportsFiber)try{qe=qy.inject(QL),nt=qy}catch{}}return Dg.createRoot=function(s,o){if(!i(s))throw Error(n(299));var h=!1,m="",S=Ey,w=lg,U=ug;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(S=o.onUncaughtError),o.onCaughtError!==void 0&&(w=o.onCaughtError),o.onRecoverableError!==void 0&&(U=o.onRecoverableError)),o=mw(s,1,!1,null,null,h,m,null,S,w,U,ww),s[ls]=o.current,D1(s),new Z1(o)},Dg.hydrateRoot=function(s,o,h){if(!i(s))throw Error(n(299));var m=!1,S="",w=Ey,U=lg,G=ug,re=null;return h!=null&&(h.unstable_strictMode===!0&&(m=!0),h.identifierPrefix!==void 0&&(S=h.identifierPrefix),h.onUncaughtError!==void 0&&(w=h.onUncaughtError),h.onCaughtError!==void 0&&(U=h.onCaughtError),h.onRecoverableError!==void 0&&(G=h.onRecoverableError),h.formState!==void 0&&(re=h.formState)),o=mw(s,1,!0,o,h??null,m,S,re,w,U,G,ww),o.context=gw(null),h=o.current,m=xs(),m=ko(m),S=xo(m),S.callback=null,tl(h,S,m),h=m,o.current.lanes=h,ri(o,h),$e(o),s[ls]=o.current,D1(s),new jy(o)},Dg.version="19.2.4",Dg}var zw;function uO(){if(zw)return Q1.exports;zw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Q1.exports=lO(),Q1.exports}var cO=uO();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fw="popstate";function fO(r={}){function e(n,i){let{pathname:a,search:u,hash:c}=n.location;return bM("",{pathname:a,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:y0(i)}return dO(e,t,null,r)}function Di(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Nl(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hO(){return Math.random().toString(36).substring(2,10)}function Bw(r,e){return{usr:r.state,key:r.key,idx:e}}function bM(r,e,t=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Yp(e):e,state:t,key:e&&e.key||n||hO()}}function y0({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Yp(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substring(n),r=r.substring(0,n)),r&&(e.pathname=r)}return e}function dO(r,e,t,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,u=i.history,c="POP",d=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){c="POP";let A=g(),M=A==null?null:A-p;p=A,d&&d({action:c,location:T.location,delta:M})}function _(A,M){c="PUSH";let R=bM(T.location,A,M);p=g()+1;let D=Bw(R,p),L=T.createHref(R);try{u.pushState(D,"",L)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(L)}a&&d&&d({action:c,location:T.location,delta:1})}function x(A,M){c="REPLACE";let R=bM(T.location,A,M);p=g();let D=Bw(R,p),L=T.createHref(R);u.replaceState(D,"",L),a&&d&&d({action:c,location:T.location,delta:0})}function E(A){return pO(A)}let T={get action(){return c},get location(){return r(i,u)},listen(A){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(Fw,y),d=A,()=>{i.removeEventListener(Fw,y),d=null}},createHref(A){return e(i,A)},createURL:E,encodeLocation(A){let M=E(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(A){return u.go(A)}};return T}function pO(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Di(t,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:y0(r);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=t+n),new URL(n,t)}function SC(r,e,t="/"){return mO(r,e,t,!1)}function mO(r,e,t,n){let i=typeof e=="string"?Yp(e):e,a=Uu(i.pathname||"/",t);if(a==null)return null;let u=MC(r);gO(u);let c=null;for(let d=0;c==null&&d<u.length;++d){let p=AO(a);c=TO(u[d],p,n)}return c}function MC(r,e=[],t=[],n="",i=!1){let a=(u,c,d=i,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&d)return;Di(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let y=Ou([n,g.relativePath]),_=t.concat(g);u.children&&u.children.length>0&&(Di(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),MC(u.children,e,_,y,d)),!(u.path==null&&!u.index)&&e.push({path:y,score:MO(y,u.index),routesMeta:_})};return r.forEach((u,c)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))a(u,c);else for(let p of EC(u.path))a(u,c,!0,p)}),e}function EC(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let u=EC(n.join("/")),c=[];return c.push(...u.map(d=>d===""?a:[a,d].join("/"))),i&&c.push(...u),c.map(d=>r.startsWith("/")&&d===""?"/":d)}function gO(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:EO(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}var vO=/^:[\w-]+$/,yO=3,_O=2,xO=1,bO=10,SO=-2,kw=r=>r==="*";function MO(r,e){let t=r.split("/"),n=t.length;return t.some(kw)&&(n+=SO),e&&(n+=_O),t.filter(i=>!kw(i)).reduce((i,a)=>i+(vO.test(a)?yO:a===""?xO:bO),n)}function EO(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function TO(r,e,t=!1){let{routesMeta:n}=r,i={},a="/",u=[];for(let c=0;c<n.length;++c){let d=n[c],p=c===n.length-1,g=a==="/"?e:e.slice(a.length)||"/",y=fx({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},g),_=d.route;if(!y&&p&&t&&!n[n.length-1].route.index&&(y=fx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!y)return null;Object.assign(i,y.params),u.push({params:i,pathname:Ou([a,y.pathname]),pathnameBase:NO(Ou([a,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(a=Ou([a,y.pathnameBase]))}return u}function fx(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=wO(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((p,{paramName:g,isOptional:y},_)=>{if(g==="*"){let E=c[_]||"";u=a.slice(0,a.length-E.length).replace(/(.)\/+$/,"$1")}const x=c[_];return y&&!x?p[g]=void 0:p[g]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:r}}function wO(r,e=!1,t=!0){Nl(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function AO(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nl(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Uu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}var CO=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function RO(r,e="/"){let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?Yp(r):r,a;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?a=Vw(t.substring(1),"/"):a=Vw(t,e)):a=e,{pathname:a,search:LO(n),hash:OO(i)}}function Vw(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function nS(r,e,t,n){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DO(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function TC(r){let e=DO(r);return e.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)}function wC(r,e,t,n=!1){let i;typeof r=="string"?i=Yp(r):(i={...r},Di(!i.pathname||!i.pathname.includes("?"),nS("?","pathname","search",i)),Di(!i.pathname||!i.pathname.includes("#"),nS("#","pathname","hash",i)),Di(!i.search||!i.search.includes("#"),nS("#","search","hash",i)));let a=r===""||i.pathname==="",u=a?"/":i.pathname,c;if(u==null)c=t;else{let y=e.length-1;if(!n&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),y-=1;i.pathname=_.join("/")}c=y>=0?e[y]:"/"}let d=RO(i,c),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||g)&&(d.pathname+="/"),d}var Ou=r=>r.join("/").replace(/\/\/+/g,"/"),NO=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),LO=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,OO=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,IO=class{constructor(r,e,t,n=!1){this.status=r,this.statusText=e||"",this.internal=n,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function PO(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function UO(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var AC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CC(r,e){let t=r;if(typeof t!="string"||!CO.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let n=t,i=!1;if(AC)try{let a=new URL(window.location.href),u=t.startsWith("//")?new URL(a.protocol+t):new URL(t),c=Uu(u.pathname,e);u.origin===a.origin&&c!=null?t=c+u.search+u.hash:i=!0}catch{Nl(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RC=["POST","PUT","PATCH","DELETE"];new Set(RC);var zO=["GET",...RC];new Set(zO);var Zp=K.createContext(null);Zp.displayName="DataRouter";var bb=K.createContext(null);bb.displayName="DataRouterState";var FO=K.createContext(!1),DC=K.createContext({isTransitioning:!1});DC.displayName="ViewTransition";var BO=K.createContext(new Map);BO.displayName="Fetchers";var kO=K.createContext(null);kO.displayName="Await";var so=K.createContext(null);so.displayName="Navigation";var q0=K.createContext(null);q0.displayName="Location";var Ul=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ul.displayName="Route";var bE=K.createContext(null);bE.displayName="RouteError";var NC="REACT_ROUTER_ERROR",VO="REDIRECT",HO="ROUTE_ERROR_RESPONSE";function GO(r){if(r.startsWith(`${NC}:${VO}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function WO(r){if(r.startsWith(`${NC}:${HO}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new IO(e.status,e.statusText,e.data)}catch{}}function XO(r,{relative:e}={}){Di(Y0(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:n}=K.useContext(so),{hash:i,pathname:a,search:u}=Z0(r,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:Ou([t,a])),n.createHref({pathname:c,search:u,hash:i})}function Y0(){return K.useContext(q0)!=null}function ef(){return Di(Y0(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(q0).location}var LC="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OC(r){K.useContext(so).static||K.useLayoutEffect(r)}function IC(){let{isDataRoute:r}=K.useContext(Ul);return r?sI():jO()}function jO(){Di(Y0(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Zp),{basename:e,navigator:t}=K.useContext(so),{matches:n}=K.useContext(Ul),{pathname:i}=ef(),a=JSON.stringify(TC(n)),u=K.useRef(!1);return OC(()=>{u.current=!0}),K.useCallback((d,p={})=>{if(Nl(u.current,LC),!u.current)return;if(typeof d=="number"){t.go(d);return}let g=wC(d,JSON.parse(a),i,p.relative==="path");r==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Ou([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,i,r])}K.createContext(null);function qO(){let{matches:r}=K.useContext(Ul),e=r[r.length-1];return e?e.params:{}}function Z0(r,{relative:e}={}){let{matches:t}=K.useContext(Ul),{pathname:n}=ef(),i=JSON.stringify(TC(t));return K.useMemo(()=>wC(r,JSON.parse(i),n,e==="path"),[r,i,n,e])}function YO(r,e){return PC(r,e)}function PC(r,e,t,n,i){var R;Di(Y0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=K.useContext(so),{matches:u}=K.useContext(Ul),c=u[u.length-1],d=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let D=y&&y.path||"";zC(p,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let _=ef(),x;if(e){let D=typeof e=="string"?Yp(e):e;Di(g==="/"||((R=D.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),x=D}else x=_;let E=x.pathname||"/",T=E;if(g!=="/"){let D=g.replace(/^\//,"").split("/");T="/"+E.replace(/^\//,"").split("/").slice(D.length).join("/")}let A=SC(r,{pathname:T});Nl(y||A!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Nl(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=JO(A&&A.map(D=>Object.assign({},D,{params:Object.assign({},d,D.params),pathname:Ou([g,a.encodeLocation?a.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:Ou([g,a.encodeLocation?a.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,t,n,i);return e&&M?K.createElement(q0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function ZO(){let r=rI(),e=PO(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",r),u=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:a},"ErrorBoundary")," or"," ",K.createElement("code",{style:a},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:i},t):null,u)}var KO=K.createElement(ZO,null),UC=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const t=WO(r.digest);t&&(r=t)}let e=r!==void 0?K.createElement(Ul.Provider,{value:this.props.routeContext},K.createElement(bE.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?K.createElement($O,{error:r},e):e}};UC.contextType=FO;var iS=new WeakMap;function $O({children:r,error:e}){let{basename:t}=K.useContext(so);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=GO(e.digest);if(n){let i=iS.get(e);if(i)throw i;let a=CC(n.location,t);if(AC&&!iS.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw iS.set(e,u),u}return K.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return r}function QO({routeContext:r,match:e,children:t}){let n=K.useContext(Zp);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Ul.Provider,{value:r},t)}function JO(r,e=[],t=null,n=null,i=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);Di(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let c=!1,d=-1;if(t)for(let g=0;g<a.length;g++){let y=a[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=g),y.route.id){let{loaderData:_,errors:x}=t,E=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||E){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}let p=t&&n?(g,y)=>{var _,x;n(g,{location:t.location,params:((x=(_=t.matches)==null?void 0:_[0])==null?void 0:x.params)??{},unstable_pattern:UO(t.matches),errorInfo:y})}:void 0;return a.reduceRight((g,y,_)=>{let x,E=!1,T=null,A=null;t&&(x=u&&y.route.id?u[y.route.id]:void 0,T=y.route.errorElement||KO,c&&(d<0&&_===0?(zC("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):d===_&&(E=!0,A=y.route.hydrateFallbackElement||null)));let M=e.concat(a.slice(0,_+1)),R=()=>{let D;return x?D=T:E?D=A:y.route.Component?D=K.createElement(y.route.Component,null):y.route.element?D=y.route.element:D=g,K.createElement(QO,{match:y,routeContext:{outlet:g,matches:M,isDataRoute:t!=null},children:D})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?K.createElement(UC,{location:t.location,revalidation:t.revalidation,component:T,error:x,children:R(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:p}):R()},null)}function SE(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eI(r){let e=K.useContext(Zp);return Di(e,SE(r)),e}function tI(r){let e=K.useContext(bb);return Di(e,SE(r)),e}function nI(r){let e=K.useContext(Ul);return Di(e,SE(r)),e}function ME(r){let e=nI(r),t=e.matches[e.matches.length-1];return Di(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function iI(){return ME("useRouteId")}function rI(){var n;let r=K.useContext(bE),e=tI("useRouteError"),t=ME("useRouteError");return r!==void 0?r:(n=e.errors)==null?void 0:n[t]}function sI(){let{router:r}=eI("useNavigate"),e=ME("useNavigate"),t=K.useRef(!1);return OC(()=>{t.current=!0}),K.useCallback(async(i,a={})=>{Nl(t.current,LC),t.current&&(typeof i=="number"?await r.navigate(i):await r.navigate(i,{fromRouteId:e,...a}))},[r,e])}var Hw={};function zC(r,e,t){!e&&!Hw[r]&&(Hw[r]=!0,Nl(!1,t))}K.memo(aI);function aI({routes:r,future:e,state:t,onError:n}){return PC(r,void 0,t,n,e)}function EE(r){Di(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oI({basename:r="/",children:e=null,location:t,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:u}){Di(!Y0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:c,navigator:i,static:a,unstable_useTransitions:u,future:{}}),[c,i,a,u]);typeof t=="string"&&(t=Yp(t));let{pathname:p="/",search:g="",hash:y="",state:_=null,key:x="default"}=t,E=K.useMemo(()=>{let T=Uu(p,c);return T==null?null:{location:{pathname:T,search:g,hash:y,state:_,key:x},navigationType:n}},[c,p,g,y,_,x,n]);return Nl(E!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:K.createElement(so.Provider,{value:d},K.createElement(q0.Provider,{children:e,value:E}))}function FC({children:r,location:e}){return YO(SM(r),e)}function SM(r,e=[]){let t=[];return K.Children.forEach(r,(n,i)=>{if(!K.isValidElement(n))return;let a=[...e,i];if(n.type===K.Fragment){t.push.apply(t,SM(n.props.children,a));return}Di(n.type===EE,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Di(!n.props.index||!n.props.children,"An index route cannot have child routes.");let u={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=SM(n.props.children,a)),t.push(u)}),t}var Y_="get",Z_="application/x-www-form-urlencoded";function Sb(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function lI(r){return Sb(r)&&r.tagName.toLowerCase()==="button"}function uI(r){return Sb(r)&&r.tagName.toLowerCase()==="form"}function cI(r){return Sb(r)&&r.tagName.toLowerCase()==="input"}function fI(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function hI(r,e){return r.button===0&&(!e||e==="_self")&&!fI(r)}var Yy=null;function dI(){if(Yy===null)try{new FormData(document.createElement("form"),0),Yy=!1}catch{Yy=!0}return Yy}var pI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rS(r){return r!=null&&!pI.has(r)?(Nl(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Z_}"`),null):r}function mI(r,e){let t,n,i,a,u;if(uI(r)){let c=r.getAttribute("action");n=c?Uu(c,e):null,t=r.getAttribute("method")||Y_,i=rS(r.getAttribute("enctype"))||Z_,a=new FormData(r)}else if(lI(r)||cI(r)&&(r.type==="submit"||r.type==="image")){let c=r.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=r.getAttribute("formaction")||c.getAttribute("action");if(n=d?Uu(d,e):null,t=r.getAttribute("formmethod")||c.getAttribute("method")||Y_,i=rS(r.getAttribute("formenctype"))||rS(c.getAttribute("enctype"))||Z_,a=new FormData(c,r),!dI()){let{name:p,type:g,value:y}=r;if(g==="image"){let _=p?`${p}.`:"";a.append(`${_}x`,"0"),a.append(`${_}y`,"0")}else p&&a.append(p,y)}}else{if(Sb(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Y_,n=null,i=Z_,u=r}return a&&i==="text/plain"&&(u=a,a=void 0),{action:n,method:t.toLowerCase(),encType:i,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function TE(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gI(r,e,t,n){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&Uu(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function vI(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function yI(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function _I(r,e,t){let n=await Promise.all(r.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await vI(a,t);return u.links?u.links():[]}return[]}));return MI(n.flat(1).filter(yI).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Gw(r,e,t,n,i,a){let u=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,c=(d,p)=>{var g;return t[p].pathname!==d.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return a==="assets"?e.filter((d,p)=>u(d,p)||c(d,p)):a==="data"?e.filter((d,p)=>{var y;let g=n.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,p)||c(d,p))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(r,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function xI(r,e,{includeHydrateFallback:t}={}){return bI(r.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function bI(r){return[...new Set(r)]}function SI(r){let e={},t=Object.keys(r).sort();for(let n of t)e[n]=r[n];return e}function MI(r,e){let t=new Set;return new Set(e),r.reduce((n,i)=>{let a=JSON.stringify(SI(i));return t.has(a)||(t.add(a),n.push({key:a,link:i})),n},[])}function BC(){let r=K.useContext(Zp);return TE(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function EI(){let r=K.useContext(bb);return TE(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var wE=K.createContext(void 0);wE.displayName="FrameworkContext";function kC(){let r=K.useContext(wE);return TE(r,"You must render this element inside a <HydratedRouter> element"),r}function TI(r,e){let t=K.useContext(wE),[n,i]=K.useState(!1),[a,u]=K.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,_=K.useRef(null);K.useEffect(()=>{if(r==="render"&&u(!0),r==="viewport"){let T=M=>{M.forEach(R=>{u(R.isIntersecting)})},A=new IntersectionObserver(T,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[r]),K.useEffect(()=>{if(n){let T=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(T)}}},[n]);let x=()=>{i(!0)},E=()=>{i(!1),u(!1)};return t?r!=="intent"?[a,_,{}]:[a,_,{onFocus:Ng(c,x),onBlur:Ng(d,E),onMouseEnter:Ng(p,x),onMouseLeave:Ng(g,E),onTouchStart:Ng(y,x)}]:[!1,_,{}]}function Ng(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function wI({page:r,...e}){let{router:t}=BC(),n=K.useMemo(()=>SC(t.routes,r,t.basename),[t.routes,r,t.basename]);return n?K.createElement(CI,{page:r,matches:n,...e}):null}function AI(r){let{manifest:e,routeModules:t}=kC(),[n,i]=K.useState([]);return K.useEffect(()=>{let a=!1;return _I(r,e,t).then(u=>{a||i(u)}),()=>{a=!0}},[r,e,t]),n}function CI({page:r,matches:e,...t}){let n=ef(),{future:i,manifest:a,routeModules:u}=kC(),{basename:c}=BC(),{loaderData:d,matches:p}=EI(),g=K.useMemo(()=>Gw(r,e,p,a,n,"data"),[r,e,p,a,n]),y=K.useMemo(()=>Gw(r,e,p,a,n,"assets"),[r,e,p,a,n]),_=K.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let T=new Set,A=!1;if(e.forEach(R=>{var L;let D=a.routes[R.route.id];!D||!D.hasLoader||(!g.some(P=>P.route.id===R.route.id)&&R.route.id in d&&((L=u[R.route.id])!=null&&L.shouldRevalidate)||D.hasClientLoader?A=!0:T.add(R.route.id))}),T.size===0)return[];let M=gI(r,c,i.unstable_trailingSlashAwareDataRequests,"data");return A&&T.size>0&&M.searchParams.set("_routes",e.filter(R=>T.has(R.route.id)).map(R=>R.route.id).join(",")),[M.pathname+M.search]},[c,i.unstable_trailingSlashAwareDataRequests,d,n,a,g,e,r,u]),x=K.useMemo(()=>xI(y,a),[y,a]),E=AI(y);return K.createElement(K.Fragment,null,_.map(T=>K.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),x.map(T=>K.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),E.map(({key:T,link:A})=>K.createElement("link",{key:T,nonce:t.nonce,...A,crossOrigin:A.crossOrigin??t.crossOrigin})))}function RI(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var DI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{DI&&(window.__reactRouterVersion="7.13.0")}catch{}function NI({basename:r,children:e,unstable_useTransitions:t,window:n}){let i=K.useRef();i.current==null&&(i.current=fO({window:n,v5Compat:!0}));let a=i.current,[u,c]=K.useState({action:a.action,location:a.location}),d=K.useCallback(p=>{t===!1?c(p):K.startTransition(()=>c(p))},[t]);return K.useLayoutEffect(()=>a.listen(d),[a,d]),K.createElement(oI,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:t})}var VC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HC=K.forwardRef(function({onClick:e,discover:t="render",prefetch:n="none",relative:i,reloadDocument:a,replace:u,state:c,target:d,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...x},E){let{basename:T,unstable_useTransitions:A}=K.useContext(so),M=typeof p=="string"&&VC.test(p),R=CC(p,T);p=R.to;let D=XO(p,{relative:i}),[L,P,z]=TI(n,x),B=PI(p,{replace:u,state:c,target:d,preventScrollReset:g,relative:i,viewTransition:y,unstable_defaultShouldRevalidate:_,unstable_useTransitions:A});function k(O){e&&e(O),O.defaultPrevented||B(O)}let I=K.createElement("a",{...x,...z,href:R.absoluteURL||D,onClick:R.isExternal||a?e:k,ref:RI(E,P),target:d,"data-discover":!M&&t==="render"?"true":void 0});return L&&!M?K.createElement(K.Fragment,null,I,K.createElement(wI,{page:D})):I});HC.displayName="Link";var LI=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:n="",end:i=!1,style:a,to:u,viewTransition:c,children:d,...p},g){let y=Z0(u,{relative:p.relative}),_=ef(),x=K.useContext(bb),{navigator:E,basename:T}=K.useContext(so),A=x!=null&&kI(y)&&c===!0,M=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,R=_.pathname,D=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(R=R.toLowerCase(),D=D?D.toLowerCase():null,M=M.toLowerCase()),D&&T&&(D=Uu(D,T)||D);const L=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let P=R===M||!i&&R.startsWith(M)&&R.charAt(L)==="/",z=D!=null&&(D===M||!i&&D.startsWith(M)&&D.charAt(M.length)==="/"),B={isActive:P,isPending:z,isTransitioning:A},k=P?e:void 0,I;typeof n=="function"?I=n(B):I=[n,P?"active":null,z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(B):a;return K.createElement(HC,{...p,"aria-current":k,className:I,ref:g,style:O,to:u,viewTransition:c},typeof d=="function"?d(B):d)});LI.displayName="NavLink";var OI=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:n,replace:i,state:a,method:u=Y_,action:c,onSubmit:d,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_,...x},E)=>{let{unstable_useTransitions:T}=K.useContext(so),A=FI(),M=BI(c,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",D=typeof c=="string"&&VC.test(c),L=P=>{if(d&&d(P),P.defaultPrevented)return;P.preventDefault();let z=P.nativeEvent.submitter,B=(z==null?void 0:z.getAttribute("formmethod"))||u,k=()=>A(z||P.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:_});T&&t!==!1?K.startTransition(()=>k()):k()};return K.createElement("form",{ref:E,method:R,action:M,onSubmit:n?d:L,...x,"data-discover":!D&&r==="render"?"true":void 0})});OI.displayName="Form";function II(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GC(r){let e=K.useContext(Zp);return Di(e,II(r)),e}function PI(r,{target:e,replace:t,state:n,preventScrollReset:i,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let p=IC(),g=ef(),y=Z0(r,{relative:a});return K.useCallback(_=>{if(hI(_,e)){_.preventDefault();let x=t!==void 0?t:y0(g)===y0(y),E=()=>p(r,{replace:x,state:n,preventScrollReset:i,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:c});d?K.startTransition(()=>E()):E()}},[g,p,y,t,n,e,r,i,a,u,c,d])}var UI=0,zI=()=>`__${String(++UI)}__`;function FI(){let{router:r}=GC("useSubmit"),{basename:e}=K.useContext(so),t=iI(),n=r.fetch,i=r.navigate;return K.useCallback(async(a,u={})=>{let{action:c,method:d,encType:p,formData:g,body:y}=mI(a,e);if(u.navigate===!1){let _=u.fetcherKey||zI();await n(_,t,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||d,formEncType:u.encType||p,flushSync:u.flushSync})}else await i(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||d,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[n,i,e,t])}function BI(r,{relative:e}={}){let{basename:t}=K.useContext(so),n=K.useContext(Ul);Di(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Z0(r||".",{relative:e})},u=ef();if(r==null){a.search=u.search;let c=new URLSearchParams(a.search),d=c.getAll("index");if(d.some(g=>g==="")){c.delete("index"),d.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();a.search=g?`?${g}`:""}}return(!r||r===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ou([t,a.pathname])),y0(a)}function kI(r,{relative:e}={}){let t=K.useContext(DC);Di(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=GC("useViewTransitionState"),i=Z0(r,{relative:e});if(!t.isTransitioning)return!1;let a=Uu(t.currentLocation.pathname,n)||t.currentLocation.pathname,u=Uu(t.nextLocation.pathname,n)||t.nextLocation.pathname;return fx(i.pathname,u)!=null||fx(i.pathname,a)!=null}const VI="/assets/Jordan_L_Wright-D96LxDAo.pdf";class K_ extends K.Component{render(){return $.jsxs("span",{className:"icon-container",title:this.props.title,children:[$.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"17",height:"17",viewBox:"0 0 17 17",children:$.jsx("path",{fill:"currentColor",d:this.props.icon})}),$.jsx("span",{className:"assistive-text",children:this.props.assistiveText})]})}}const Zg={close:"M10.3639206,8.94970703 L13.863892,12.4496784 C14.2544163,12.8402027 14.2544163,13.4733677 13.863892,13.863892 C13.4733677,14.2544163 12.8402027,14.2544163 12.4496784,13.863892 L8.94970703,10.3639206 L5.44973562,13.863892 C5.05921133,14.2544163 4.42604635,14.2544163 4.03552206,13.863892 C3.64499777,13.4733677 3.64499777,12.8402027 4.03552206,12.4496784 L7.53549347,8.94970703 L4.03552206,5.44973562 C3.64499777,5.05921133 3.64499777,4.42604635 4.03552206,4.03552206 C4.42604635,3.64499777 5.05921133,3.64499777 5.44973562,4.03552206 L8.94970703,7.53549347 L12.4496784,4.03552206 C12.8402027,3.64499777 13.4733677,3.64499777 13.863892,4.03552206 C14.2544163,4.42604635 14.2544163,5.05921133 13.863892,5.44973562 L10.3639206,8.94970703 Z",resume:"M9.21191 0C9.69508 9.04811e-05 10.1589 0.192069 10.5 0.533203L14.0381 4.07129C14.3792 4.4136 14.5712 4.87626 14.5713 5.35938V7.28613H15.1787C16.1829 7.28621 17 8.10325 17 9.10742V15.1787C16.9999 16.1828 16.1828 16.9999 15.1787 17H1.82129C0.817185 16.9999 7.55636e-05 16.1828 0 15.1787V9.10742C0 8.10325 0.817139 7.28621 1.82129 7.28613H2.42871V2.42871C2.42871 1.08693 3.51564 0 4.85742 0H9.21191ZM1.82129 8.5C1.48621 8.50008 1.21387 8.77354 1.21387 9.10742V15.1787C1.21394 15.5125 1.48626 15.7861 1.82129 15.7861H15.1787C15.5125 15.7861 15.7861 15.5125 15.7861 15.1787V9.10742C15.7861 8.77354 15.5126 8.50008 15.1787 8.5H1.82129ZM4.25 9.71387C5.25421 9.71387 6.07129 10.5319 6.07129 11.5361C6.07106 12.5402 5.25407 13.3574 4.25 13.3574H3.64258V13.9639C3.64258 14.2989 3.37108 14.5711 3.03613 14.5713C2.70099 14.5713 2.42871 14.299 2.42871 13.9639V10.3213C2.42879 9.98621 2.70104 9.71387 3.03613 9.71387H4.25ZM8.5 9.71387C9.83926 9.71387 10.9286 10.8033 10.9287 12.1426C10.9287 13.4819 9.83936 14.5713 8.5 14.5713H7.89258C7.55756 14.5711 7.28613 14.2989 7.28613 13.9639V10.3213C7.28621 9.9863 7.55761 9.71402 7.89258 9.71387H8.5ZM14.5713 9.71387C14.9064 9.71387 15.1786 9.98621 15.1787 10.3213C15.1787 10.6564 14.9064 10.9287 14.5713 10.9287H13.3574V12.1426H13.9639C14.299 12.1426 14.5713 12.4149 14.5713 12.75C14.5713 13.0851 14.299 13.3574 13.9639 13.3574H13.3574V13.9639C13.3574 14.299 13.0851 14.5713 12.75 14.5713C12.4149 14.5713 12.1426 14.299 12.1426 13.9639V10.3213C12.1427 9.98621 12.4149 9.71387 12.75 9.71387H14.5713ZM8.5 13.3574C9.17029 13.3574 9.71387 12.8129 9.71387 12.1426C9.71372 11.4724 9.17019 10.9287 8.5 10.9287V13.3574ZM3.64258 12.1426H4.25C4.585 12.1426 4.85719 11.8699 4.85742 11.5361C4.85742 11.2022 4.58514 10.9287 4.25 10.9287H3.64258V12.1426ZM4.85742 1.21387C4.18714 1.21387 3.64258 1.75843 3.64258 2.42871V7.28613H13.3574V6.07129H10.3213C9.31592 6.07121 8.5 5.25538 8.5 4.25V1.21387H4.85742ZM9.71387 4.25C9.71387 4.5851 9.98621 4.85735 10.3213 4.85742H13.1055L9.71387 1.46582V4.25Z",linkedin:"M15.7422 0H1.25437C1.24983 0 1.24473 0 1.23906 0C0.559449 0 0.00793545 0.546412 0 1.22376V15.7751C0.00793545 16.453 0.559449 17 1.23906 17C1.24473 17 1.24983 17 1.2555 17H15.7405C15.7451 17 15.7507 17 15.7564 17C16.4366 17 16.9892 16.4542 17 15.7762V15.7751V1.22489C16.9892 0.546412 16.4366 0 15.7558 0C15.7502 0 15.7451 0 15.7394 0H15.7422ZM5.04184 14.4867H2.51724V6.375H5.04184V14.4867ZM3.78011 5.26517C2.97239 5.26517 2.31828 4.6105 2.31828 3.80335C2.31828 2.9962 2.97296 2.34152 3.78011 2.34152C4.58726 2.34152 5.24193 2.99563 5.24193 3.80278C5.24193 3.80335 5.24193 3.80391 5.24193 3.80505C5.24193 4.61163 4.58782 5.26574 3.78124 5.26574C3.78067 5.26574 3.78011 5.26574 3.77954 5.26574L3.78011 5.26517ZM14.4828 14.4867H11.9655V10.5422C11.9655 9.60133 11.9463 8.39117 10.6539 8.39117C9.34116 8.39117 9.14107 9.41484 9.14107 10.4731V14.4873H6.62383V6.37557H9.04188V7.48143H9.07475C9.54408 6.69072 10.3932 6.16925 11.3641 6.16925C11.3987 6.16925 11.4327 6.16981 11.4667 6.17095H11.4616C14.0123 6.17095 14.4839 7.84986 14.4839 10.0349V14.4873L14.4828 14.4867Z",github:"M8.474 0C3.7951 0 0 3.7951 0 8.474C0 12.2172 2.44342 15.3884 5.77064 16.5321C6.18654 16.5841 6.34251 16.3241 6.34251 16.1162C6.34251 15.9083 6.34251 15.3884 6.34251 14.6606C4.00305 15.1805 3.48318 13.5168 3.48318 13.5168C3.11927 12.529 2.5474 12.2691 2.5474 12.2691C1.76759 11.7492 2.59939 11.7492 2.59939 11.7492C3.4312 11.8012 3.89908 12.633 3.89908 12.633C4.6789 13.9327 5.87462 13.5688 6.34251 13.3608C6.3945 12.789 6.65444 12.4251 6.86239 12.2172C4.99083 12.0092 3.01529 11.2813 3.01529 8.00612C3.01529 7.07033 3.32722 6.34251 3.89908 5.71865C3.8471 5.56269 3.53517 4.6789 4.00305 3.53517C4.00305 3.53517 4.73089 3.32722 6.34251 4.41896C7.01834 4.21101 7.74618 4.15902 8.474 4.15902C9.20183 4.15902 9.92966 4.26299 10.6055 4.41896C12.2172 3.32722 12.945 3.53517 12.945 3.53517C13.4129 4.6789 13.1009 5.56269 13.0489 5.77064C13.5688 6.34251 13.9327 7.12232 13.9327 8.05811C13.9327 11.3334 11.9572 12.0092 10.0856 12.2172C10.3976 12.477 10.6575 12.9969 10.6575 13.7768C10.6575 14.9205 10.6575 15.8043 10.6575 16.1162C10.6575 16.3241 10.8135 16.5841 11.2294 16.5321C14.6085 15.3884 17 12.2172 17 8.474C16.948 3.7951 13.1529 0 8.474 0Z",workItem:"M9.25 0C10.2165 0 11 0.7835 11 1.75V12.25C11 13.2165 10.2165 14 9.25 14H1.75C0.7835 14 0 13.2165 0 12.25V1.75C0 0.7835 0.7835 0 1.75 0H9.25ZM1.75 1C1.33579 1 1 1.33579 1 1.75V12.25C1 12.6642 1.33579 13 1.75 13H9.25C9.6642 13 10 12.6642 10 12.25V1.75C10 1.33579 9.6642 1 9.25 1H1.75ZM12.625 9C12.8321 9 13 9.1679 13 9.375V10.625C13 10.8321 12.8321 11 12.625 11H12V9H12.625ZM12.625 6C12.8321 6 13 6.16789 13 6.375V7.625C13 7.83211 12.8321 8 12.625 8H12V6H12.625ZM8.25 2C8.6642 2 9 2.33579 9 2.75V4.25C9 4.66421 8.6642 5 8.25 5H2.75C2.33579 5 2 4.66421 2 4.25V2.75C2 2.33579 2.33579 2 2.75 2H8.25ZM12.625 3C12.8321 3 13 3.16789 13 3.375V4.625C13 4.83211 12.8321 5 12.625 5H12V3H12.625ZM3 3V4H8V3H3Z"},Mb=[{id:"trenches",label:" In the trenches",tagline:"How I think, work, and ship day to day.",items:[{id:"t1",title:"Placeholder Project Alpha",description:"Design & development  day to day.",date:"January 15, 2024",tags:["React","TypeScript","Figma"],content:{context:"A greenfield product build from zero to launch. The team needed a designer who could also ship production code, bridging the gap between design intent and implementation detail.",goals:["Deliver a fully responsive web app in 12 weeks","Establish a component library that scales across features","Reduce design-to-dev handoff friction through shared tooling"],artifacts:[{src:"/images/placeholder.png",alt:"Component library overview",label:"Component Library",description:"The component library grew to 40+ primitives, each with documented props and usage examples. Every component was tested in isolation and composed into page-level layouts."},{src:"/images/placeholder.png",alt:"Design token system",label:"Token System",description:"A shared token system ensured visual consistency between Figma and code. Colors, spacing, and typography all derived from a single source of truth."},{src:"/images/placeholder.png",alt:"Storybook documentation",label:"Living Documentation",description:"Storybook served as the single reference for all component states, edge cases, and accessibility annotations."},{src:"/images/placeholder.png",alt:"CI/CD pipeline diagram",label:"Automated Pipeline",description:"Visual regression tests ran on every PR, catching unintended style changes before they reached production."}],outcome:[{src:"/images/placeholder.png",alt:"Final product screenshot",caption:"Launched product  landing page"},{src:"/images/placeholder.png",alt:"Mobile responsive view",caption:"Responsive mobile layout"}],whatsNext:"The component library is now being adopted by two other teams. Next step is extracting it into a standalone package with versioned releases."}},{id:"t2",title:"Placeholder Project Beta",description:"UX research and process in practice.",date:"March 8, 2023",tags:["UX Research","Figma","User Testing"],content:{context:"An existing product was losing users at a key conversion step. The team needed to understand why and redesign the flow based on real user behavior.",goals:["Identify the top 3 usability issues through moderated testing","Redesign the checkout flow to reduce drop-off by 20%","Validate the new design with a second round of testing"],artifacts:[{src:"/images/placeholder.png",alt:"Affinity map from research sessions",label:"Affinity Mapping",description:"Affinity mapping surfaced three recurring themes across 12 user interviews. Each cluster represented a distinct pain point in the existing flow."},{src:"/images/placeholder.png",alt:"User journey map",label:"Journey Map",description:"A detailed journey map traced the emotional arc of users through the checkout process, highlighting moments of confusion and abandonment."},{src:"/images/placeholder.png",alt:"Prototype iteration",label:"Prototype Iterations",description:"Three rounds of lo-fi prototyping narrowed the solution space before committing to high-fidelity designs."}],outcome:[{src:"/images/placeholder.png",alt:"Before and after flow comparison",caption:"Checkout flow  before vs. after"}],whatsNext:"Monitoring conversion metrics post-launch. Planning a follow-up study to evaluate the impact of the redesigned onboarding sequence."}},{id:"t3",title:"Placeholder Project Gamma",description:"Front-end architecture and component systems.",date:"September 20, 2023",tags:["React","Architecture","Design Systems"]},{id:"t4",title:"Placeholder Project Delta",description:"Cross-functional collaboration and delivery.",date:"November 5, 2022",tags:["Collaboration","Agile","Product"]},{id:"t5",title:"Placeholder Project Epsilon",description:"Performance optimization and tooling.",date:"July 12, 2024",tags:["Performance","Vite","Lighthouse"]}]},{id:"direction",label:" Direction",tagline:"Where I'm aiming and what I'm building toward.",items:[{id:"d1",title:"Placeholder Project Zeta",description:"Vision and strategy  case study.",date:"June 22, 2024",tags:["Strategy","Product Vision","Roadmap"],content:{context:"Tasked with defining the product direction for the next 18 months. This meant synthesizing business goals, user needs, and technical constraints into a coherent strategy.",goals:["Create a product vision document aligned with company OKRs","Define a phased roadmap with clear milestones","Secure stakeholder buy-in across engineering, design, and business"],artifacts:[{src:"/images/placeholder.png",alt:"Roadmap timeline",label:"Phased Roadmap",description:"The roadmap broke 18 months into three phases, each with defined outcomes and success metrics."},{src:"/images/placeholder.png",alt:"Stakeholder alignment matrix",label:"Alignment Matrix",description:"A stakeholder map tracked buy-in across 8 teams, surfacing blockers early and keeping momentum through monthly check-ins."}],outcome:[{src:"/images/placeholder.png",alt:"Strategy presentation",caption:"Strategy deck  executive summary"}],whatsNext:"Phase 1 is complete. Preparing the retrospective and adjusting Phase 2 scope based on learnings."}},{id:"d2",title:"Placeholder Project Eta",description:"North star work and roadmap.",date:"October 3, 2023",tags:["North Star","Metrics","Vision"]},{id:"d3",title:"Placeholder Project Theta",description:"Design system evolution and scale.",date:"April 18, 2024",tags:["Design Systems","Tokens","Scale"]},{id:"d4",title:"Placeholder Project Iota",description:"Product thinking and user advocacy.",date:"December 1, 2022",tags:["Product Thinking","User Advocacy"]},{id:"d5",title:"Placeholder Project Kappa",description:"Leadership and mentorship in practice.",date:"February 28, 2025",tags:["Leadership","Mentorship","Culture"]}]},{id:"sidequests",label:" Side quests",tagline:"Tinkering, learning, and following curiosity.",items:[{id:"s1",title:"Placeholder Project Lambda",description:"Experiments and prototypes.",date:"February 12, 2025",tags:["Prototyping","R&D","React"]},{id:"s2",title:"Placeholder Project Mu",description:"Play and exploration.",date:"August 19, 2024",tags:["Creative Coding","Canvas","WebGL"]},{id:"s3",title:"Placeholder Project Nu",description:"Creative coding and generative art.",date:"May 7, 2023",tags:["Generative Art","p5.js","GLSL"]},{id:"s4",title:"Placeholder Project Xi",description:"Open source contributions and tooling.",date:"January 30, 2024",tags:["Open Source","CLI","Node.js"]},{id:"s5",title:"Placeholder Project Omicron",description:"Hardware tinkering and IoT builds.",date:"October 14, 2022",tags:["IoT","Arduino","Raspberry Pi"]}]}];function HI(r){for(const e of Mb)if(e.items.some(t=>t.id===r))return e.label;return null}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const K0="182",hh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},dh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},WC=0,MM=1,XC=2,GI=3,jC=0,wp=1,n0=2,vh=3,zu=0,Cs=1,Ms=2,Cl=0,Sh=1,EM=2,TM=3,wM=4,qC=5,zc=100,YC=101,ZC=102,KC=103,$C=104,QC=200,JC=201,eR=202,tR=203,hx=204,dx=205,nR=206,iR=207,rR=208,sR=209,aR=210,oR=211,lR=212,uR=213,cR=214,px=0,mx=1,gx=2,Nh=3,vx=4,yx=5,_x=6,xx=7,$0=0,fR=1,hR=2,io=0,AE=1,CE=2,RE=3,Eb=4,DE=5,NE=6,LE=7,AM="attached",dR="detached",Tb=300,Ll=301,qc=302,_0=303,x0=304,Kp=306,b0=1e3,Js=1001,S0=1002,$i=1003,OE=1004,WI=1004,bp=1005,XI=1005,di=1006,i0=1007,jI=1007,Tl=1008,qI=1008,Es=1009,IE=1010,PE=1011,Np=1012,wb=1013,ro=1014,As=1015,Ol=1016,Ab=1017,Cb=1018,Lp=1020,UE=35902,zE=35899,FE=1021,BE=1022,ns=1023,Il=1026,Bc=1027,Rb=1028,Q0=1029,Lh=1030,Db=1031,YI=1032,Nb=1033,r0=33776,s0=33777,a0=33778,o0=33779,bx=35840,Sx=35841,Mx=35842,Ex=35843,Tx=36196,wx=37492,Ax=37496,Cx=37488,Rx=37489,Dx=37490,Nx=37491,Lx=37808,Ox=37809,Ix=37810,Px=37811,Ux=37812,zx=37813,Fx=37814,Bx=37815,kx=37816,Vx=37817,Hx=37818,Gx=37819,Wx=37820,Xx=37821,jx=36492,qx=36494,Yx=36495,Zx=36283,Kx=36284,$x=36285,Qx=36286,pR=2200,mR=2201,gR=2202,M0=2300,Jx=2301,$_=2302,yh=2400,_h=2401,E0=2402,Lb=2500,kE=2501,ZI=0,KI=1,$I=2,vR=3200,QI=3201,JI=3202,eP=3203,tf=0,yR=1,Du="",es="srgb",Yc="srgb-linear",T0="linear",Vn="srgb",tP="",nP="rg",iP="ga",rP=0,ph=7680,sP=7681,aP=7682,oP=7683,lP=34055,uP=34056,cP=5386,fP=512,hP=513,dP=514,pP=515,mP=516,gP=517,vP=518,CM=519,_R=512,xR=513,bR=514,Ob=515,SR=516,MR=517,Ib=518,ER=519,w0=35044,yP=35048,_P=35040,xP=35045,bP=35049,SP=35041,MP=35046,EP=35050,TP=35042,wP="100",RM="300 es",va=2e3,Op=2001,AP={COMPUTE:"compute",RENDER:"render"},CP={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},RP={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function TR(r){for(let e=r.length-1;e>=0;--e)if(r[e]>=65535)return!0;return!1}const DP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sp(r,e){return new DP[r](e)}function wR(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}function A0(r){return document.createElementNS("http://www.w3.org/1999/xhtml",r)}function AR(){const r=A0("canvas");return r.style.display="block",r}const Ww={};let Zc=null;function NP(r){Zc=r}function LP(){return Zc}function C0(...r){const e="THREE."+r.shift();Zc?Zc("log",e,...r):console.log(e,...r)}function gt(...r){const e="THREE."+r.shift();Zc?Zc("warn",e,...r):console.warn(e,...r)}function Ot(...r){const e="THREE."+r.shift();Zc?Zc("error",e,...r):console.error(e,...r)}function Ip(...r){const e=r.join(" ");e in Ww||(Ww[e]=!0,gt(...r))}function OP(r,e,t){return new Promise(function(n,i){function a(){switch(r.clientWaitSync(e,r.SYNC_FLUSH_COMMANDS_BIT,0)){case r.WAIT_FAILED:i();break;case r.TIMEOUT_EXPIRED:setTimeout(a,t);break;default:n()}}setTimeout(a,t)})}let zl=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){const n=this._listeners;return n===void 0?!1:n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){const n=this._listeners;if(n===void 0)return;const i=n[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const n=t[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,u=i.length;a<u;a++)i[a].call(this,e);e.target=null}}};const $r=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let Xw=1234567;const Mh=Math.PI/180,Pp=180/Math.PI;function ba(){const r=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return($r[r&255]+$r[r>>8&255]+$r[r>>16&255]+$r[r>>24&255]+"-"+$r[e&255]+$r[e>>8&255]+"-"+$r[e>>16&15|64]+$r[e>>24&255]+"-"+$r[t&63|128]+$r[t>>8&255]+"-"+$r[t>>16&255]+$r[t>>24&255]+$r[n&255]+$r[n>>8&255]+$r[n>>16&255]+$r[n>>24&255]).toLowerCase()}function Wt(r,e,t){return Math.max(e,Math.min(t,r))}function VE(r,e){return(r%e+e)%e}function IP(r,e,t,n,i){return n+(r-e)*(i-n)/(t-e)}function PP(r,e,t){return r!==e?(t-r)/(e-r):0}function l0(r,e,t){return(1-t)*r+t*e}function UP(r,e,t,n){return l0(r,e,1-Math.exp(-t*n))}function zP(r,e=1){return e-Math.abs(VE(r,e*2)-e)}function FP(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*(3-2*r))}function BP(r,e,t){return r<=e?0:r>=t?1:(r=(r-e)/(t-e),r*r*r*(r*(r*6-15)+10))}function kP(r,e){return r+Math.floor(Math.random()*(e-r+1))}function VP(r,e){return r+Math.random()*(e-r)}function HP(r){return r*(.5-Math.random())}function GP(r){r!==void 0&&(Xw=r);let e=Xw+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function WP(r){return r*Mh}function XP(r){return r*Pp}function jP(r){return(r&r-1)===0&&r!==0}function qP(r){return Math.pow(2,Math.ceil(Math.log(r)/Math.LN2))}function YP(r){return Math.pow(2,Math.floor(Math.log(r)/Math.LN2))}function ZP(r,e,t,n,i){const a=Math.cos,u=Math.sin,c=a(t/2),d=u(t/2),p=a((e+n)/2),g=u((e+n)/2),y=a((e-n)/2),_=u((e-n)/2),x=a((n-e)/2),E=u((n-e)/2);switch(i){case"XYX":r.set(c*g,d*y,d*_,c*p);break;case"YZY":r.set(d*_,c*g,d*y,c*p);break;case"ZXZ":r.set(d*y,d*_,c*g,c*p);break;case"XZX":r.set(c*g,d*E,d*x,c*p);break;case"YXY":r.set(d*x,c*g,d*E,c*p);break;case"ZYZ":r.set(d*E,d*x,c*g,c*p);break;default:gt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ts(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return r/4294967295;case Uint16Array:return r/65535;case Uint8Array:return r/255;case Int32Array:return Math.max(r/2147483647,-1);case Int16Array:return Math.max(r/32767,-1);case Int8Array:return Math.max(r/127,-1);default:throw new Error("Invalid component type.")}}function ln(r,e){switch(e.constructor){case Float32Array:return r;case Uint32Array:return Math.round(r*4294967295);case Uint16Array:return Math.round(r*65535);case Uint8Array:return Math.round(r*255);case Int32Array:return Math.round(r*2147483647);case Int16Array:return Math.round(r*32767);case Int8Array:return Math.round(r*127);default:throw new Error("Invalid component type.")}}const CR={DEG2RAD:Mh,RAD2DEG:Pp,generateUUID:ba,clamp:Wt,euclideanModulo:VE,mapLinear:IP,inverseLerp:PP,lerp:l0,damp:UP,pingpong:zP,smoothstep:FP,smootherstep:BP,randInt:kP,randFloat:VP,randFloatSpread:HP,seededRandom:GP,degToRad:WP,radToDeg:XP,isPowerOfTwo:jP,ceilPowerOfTwo:qP,floorPowerOfTwo:YP,setQuaternionFromProperEuler:ZP,normalize:ln,denormalize:Ts};class Ve{constructor(e=0,t=0){Ve.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6],this.y=i[1]*t+i[4]*n+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Wt(this.x,e.x,t.x),this.y=Wt(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Wt(this.x,e,t),this.y=Wt(this.y,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Wt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Wt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),i=Math.sin(t),a=this.x-e.x,u=this.y-e.y;return this.x=a*n-u*i+e.x,this.y=a*i+u*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class is{constructor(e=0,t=0,n=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=n,this._w=i}static slerpFlat(e,t,n,i,a,u,c){let d=n[i+0],p=n[i+1],g=n[i+2],y=n[i+3],_=a[u+0],x=a[u+1],E=a[u+2],T=a[u+3];if(c<=0){e[t+0]=d,e[t+1]=p,e[t+2]=g,e[t+3]=y;return}if(c>=1){e[t+0]=_,e[t+1]=x,e[t+2]=E,e[t+3]=T;return}if(y!==T||d!==_||p!==x||g!==E){let A=d*_+p*x+g*E+y*T;A<0&&(_=-_,x=-x,E=-E,T=-T,A=-A);let M=1-c;if(A<.9995){const R=Math.acos(A),D=Math.sin(R);M=Math.sin(M*R)/D,c=Math.sin(c*R)/D,d=d*M+_*c,p=p*M+x*c,g=g*M+E*c,y=y*M+T*c}else{d=d*M+_*c,p=p*M+x*c,g=g*M+E*c,y=y*M+T*c;const R=1/Math.sqrt(d*d+p*p+g*g+y*y);d*=R,p*=R,g*=R,y*=R}}e[t]=d,e[t+1]=p,e[t+2]=g,e[t+3]=y}static multiplyQuaternionsFlat(e,t,n,i,a,u){const c=n[i],d=n[i+1],p=n[i+2],g=n[i+3],y=a[u],_=a[u+1],x=a[u+2],E=a[u+3];return e[t]=c*E+g*y+d*x-p*_,e[t+1]=d*E+g*_+p*y-c*x,e[t+2]=p*E+g*x+c*_-d*y,e[t+3]=g*E-c*y-d*_-p*x,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,i){return this._x=e,this._y=t,this._z=n,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const n=e._x,i=e._y,a=e._z,u=e._order,c=Math.cos,d=Math.sin,p=c(n/2),g=c(i/2),y=c(a/2),_=d(n/2),x=d(i/2),E=d(a/2);switch(u){case"XYZ":this._x=_*g*y+p*x*E,this._y=p*x*y-_*g*E,this._z=p*g*E+_*x*y,this._w=p*g*y-_*x*E;break;case"YXZ":this._x=_*g*y+p*x*E,this._y=p*x*y-_*g*E,this._z=p*g*E-_*x*y,this._w=p*g*y+_*x*E;break;case"ZXY":this._x=_*g*y-p*x*E,this._y=p*x*y+_*g*E,this._z=p*g*E+_*x*y,this._w=p*g*y-_*x*E;break;case"ZYX":this._x=_*g*y-p*x*E,this._y=p*x*y+_*g*E,this._z=p*g*E-_*x*y,this._w=p*g*y+_*x*E;break;case"YZX":this._x=_*g*y+p*x*E,this._y=p*x*y+_*g*E,this._z=p*g*E-_*x*y,this._w=p*g*y-_*x*E;break;case"XZY":this._x=_*g*y-p*x*E,this._y=p*x*y-_*g*E,this._z=p*g*E+_*x*y,this._w=p*g*y+_*x*E;break;default:gt("Quaternion: .setFromEuler() encountered an unknown order: "+u)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,i=Math.sin(n);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],i=t[4],a=t[8],u=t[1],c=t[5],d=t[9],p=t[2],g=t[6],y=t[10],_=n+c+y;if(_>0){const x=.5/Math.sqrt(_+1);this._w=.25/x,this._x=(g-d)*x,this._y=(a-p)*x,this._z=(u-i)*x}else if(n>c&&n>y){const x=2*Math.sqrt(1+n-c-y);this._w=(g-d)/x,this._x=.25*x,this._y=(i+u)/x,this._z=(a+p)/x}else if(c>y){const x=2*Math.sqrt(1+c-n-y);this._w=(a-p)/x,this._x=(i+u)/x,this._y=.25*x,this._z=(d+g)/x}else{const x=2*Math.sqrt(1+y-n-c);this._w=(u-i)/x,this._x=(a+p)/x,this._y=(d+g)/x,this._z=.25*x}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-8?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wt(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(n===0)return this;const i=Math.min(1,t/n);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,i=e._y,a=e._z,u=e._w,c=t._x,d=t._y,p=t._z,g=t._w;return this._x=n*g+u*c+i*p-a*d,this._y=i*g+u*d+a*c-n*p,this._z=a*g+u*p+n*d-i*c,this._w=u*g-n*c-i*d-a*p,this._onChangeCallback(),this}slerp(e,t){if(t<=0)return this;if(t>=1)return this.copy(e);let n=e._x,i=e._y,a=e._z,u=e._w,c=this.dot(e);c<0&&(n=-n,i=-i,a=-a,u=-u,c=-c);let d=1-t;if(c<.9995){const p=Math.acos(c),g=Math.sin(p);d=Math.sin(d*p)/g,t=Math.sin(t*p)/g,this._x=this._x*d+n*t,this._y=this._y*d+i*t,this._z=this._z*d+a*t,this._w=this._w*d+u*t,this._onChangeCallback()}else this._x=this._x*d+n*t,this._y=this._y*d+i*t,this._z=this._z*d+a*t,this._w=this._w*d+u*t,this.normalize();return this}slerpQuaternions(e,t,n){return this.copy(e).slerp(t,n)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),n=Math.random(),i=Math.sqrt(1-n),a=Math.sqrt(n);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(t),a*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class X{constructor(e=0,t=0,n=0){X.prototype.isVector3=!0,this.x=e,this.y=t,this.z=n}set(e,t,n){return n===void 0&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(jw.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(jw.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[3]*n+a[6]*i,this.y=a[1]*t+a[4]*n+a[7]*i,this.z=a[2]*t+a[5]*n+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=e.elements,u=1/(a[3]*t+a[7]*n+a[11]*i+a[15]);return this.x=(a[0]*t+a[4]*n+a[8]*i+a[12])*u,this.y=(a[1]*t+a[5]*n+a[9]*i+a[13])*u,this.z=(a[2]*t+a[6]*n+a[10]*i+a[14])*u,this}applyQuaternion(e){const t=this.x,n=this.y,i=this.z,a=e.x,u=e.y,c=e.z,d=e.w,p=2*(u*i-c*n),g=2*(c*t-a*i),y=2*(a*n-u*t);return this.x=t+d*p+u*y-c*g,this.y=n+d*g+c*p-a*y,this.z=i+d*y+a*g-u*p,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,i=this.z,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*i,this.y=a[1]*t+a[5]*n+a[9]*i,this.z=a[2]*t+a[6]*n+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Wt(this.x,e.x,t.x),this.y=Wt(this.y,e.y,t.y),this.z=Wt(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Wt(this.x,e,t),this.y=Wt(this.y,e,t),this.z=Wt(this.z,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Wt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,i=e.y,a=e.z,u=t.x,c=t.y,d=t.z;return this.x=i*d-a*c,this.y=a*u-n*d,this.z=n*c-i*u,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return sS.copy(this).projectOnVector(e),this.sub(sS)}reflect(e){return this.sub(sS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(Wt(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,i=this.z-e.z;return t*t+n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const i=Math.sin(t)*e;return this.x=i*Math.sin(n),this.y=Math.cos(t)*e,this.z=i*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,n=Math.sqrt(1-t*t);return this.x=n*Math.cos(e),this.y=t,this.z=n*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const sS=new X,jw=new is;class nn{constructor(e,t,n,i,a,u,c,d,p){nn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,u,c,d,p)}set(e,t,n,i,a,u,c,d,p){const g=this.elements;return g[0]=e,g[1]=i,g[2]=c,g[3]=t,g[4]=a,g[5]=d,g[6]=n,g[7]=u,g[8]=p,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,u=n[0],c=n[3],d=n[6],p=n[1],g=n[4],y=n[7],_=n[2],x=n[5],E=n[8],T=i[0],A=i[3],M=i[6],R=i[1],D=i[4],L=i[7],P=i[2],z=i[5],B=i[8];return a[0]=u*T+c*R+d*P,a[3]=u*A+c*D+d*z,a[6]=u*M+c*L+d*B,a[1]=p*T+g*R+y*P,a[4]=p*A+g*D+y*z,a[7]=p*M+g*L+y*B,a[2]=_*T+x*R+E*P,a[5]=_*A+x*D+E*z,a[8]=_*M+x*L+E*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],u=e[4],c=e[5],d=e[6],p=e[7],g=e[8];return t*u*g-t*c*p-n*a*g+n*c*d+i*a*p-i*u*d}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],u=e[4],c=e[5],d=e[6],p=e[7],g=e[8],y=g*u-c*p,_=c*d-g*a,x=p*a-u*d,E=t*y+n*_+i*x;if(E===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=y*T,e[1]=(i*p-g*n)*T,e[2]=(c*n-i*u)*T,e[3]=_*T,e[4]=(g*t-i*d)*T,e[5]=(i*a-c*t)*T,e[6]=x*T,e[7]=(n*d-p*t)*T,e[8]=(u*t-n*a)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,i,a,u,c){const d=Math.cos(a),p=Math.sin(a);return this.set(n*d,n*p,-n*(d*u+p*c)+u+e,-i*p,i*d,-i*(-p*u+d*c)+c+t,0,0,1),this}scale(e,t){return this.premultiply(aS.makeScale(e,t)),this}rotate(e){return this.premultiply(aS.makeRotation(-e)),this}translate(e,t){return this.premultiply(aS.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<9;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const aS=new nn,qw=new nn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),Yw=new nn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function KP(){const r={enabled:!0,workingColorSpace:Yc,spaces:{},convert:function(i,a,u){return this.enabled===!1||a===u||!a||!u||(this.spaces[a].transfer===Vn&&(i.r=Iu(i.r),i.g=Iu(i.g),i.b=Iu(i.b)),this.spaces[a].primaries!==this.spaces[u].primaries&&(i.applyMatrix3(this.spaces[a].toXYZ),i.applyMatrix3(this.spaces[u].fromXYZ)),this.spaces[u].transfer===Vn&&(i.r=Ap(i.r),i.g=Ap(i.g),i.b=Ap(i.b))),i},workingToColorSpace:function(i,a){return this.convert(i,this.workingColorSpace,a)},colorSpaceToWorking:function(i,a){return this.convert(i,a,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===Du?T0:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,a=this.workingColorSpace){return i.fromArray(this.spaces[a].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,a,u){return i.copy(this.spaces[a].toXYZ).multiply(this.spaces[u].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,a){return Ip("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),r.workingToColorSpace(i,a)},toWorkingColorSpace:function(i,a){return Ip("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),r.colorSpaceToWorking(i,a)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return r.define({[Yc]:{primaries:e,whitePoint:n,transfer:T0,toXYZ:qw,fromXYZ:Yw,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:es},outputColorSpaceConfig:{drawingBufferColorSpace:es}},[es]:{primaries:e,whitePoint:n,transfer:Vn,toXYZ:qw,fromXYZ:Yw,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:es}}}),r}const Mn=KP();function Iu(r){return r<.04045?r*.0773993808:Math.pow(r*.9478672986+.0521327014,2.4)}function Ap(r){return r<.0031308?r*12.92:1.055*Math.pow(r,.41666)-.055}let qd;class RR{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{qd===void 0&&(qd=A0("canvas")),qd.width=e.width,qd.height=e.height;const i=qd.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=qd}return n.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=A0("canvas");t.width=e.width,t.height=e.height;const n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);const i=n.getImageData(0,0,e.width,e.height),a=i.data;for(let u=0;u<a.length;u++)a[u]=Iu(a[u]/255)*255;return n.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let n=0;n<t.length;n++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[n]=Math.floor(Iu(t[n]/255)*255):t[n]=Iu(t[n]);return{data:t,width:e.width,height:e.height}}else return gt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let $P=0;class kc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:$P++}),this.uuid=ba(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const n={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let u=0,c=i.length;u<c;u++)i[u].isDataTexture?a.push(oS(i[u].image)):a.push(oS(i[u]))}else a=oS(i);n.url=a}return t||(e.images[this.uuid]=n),n}}function oS(r){return typeof HTMLImageElement<"u"&&r instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&r instanceof ImageBitmap?RR.getDataURL(r):r.data?{data:Array.from(r.data),width:r.width,height:r.height,type:r.data.constructor.name}:(gt("Texture: Unable to serialize Texture."),{})}let QP=0;const lS=new X;class Bi extends zl{constructor(e=Bi.DEFAULT_IMAGE,t=Bi.DEFAULT_MAPPING,n=Js,i=Js,a=di,u=Tl,c=ns,d=Es,p=Bi.DEFAULT_ANISOTROPY,g=Du){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:QP++}),this.uuid=ba(),this.name="",this.source=new kc(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=n,this.wrapT=i,this.magFilter=a,this.minFilter=u,this.anisotropy=p,this.format=c,this.internalFormat=null,this.type=d,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new nn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=g,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(lS).x}get height(){return this.source.getSize(lS).y}get depth(){return this.source.getSize(lS).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const n=e[t];if(n===void 0){gt(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){gt(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&n&&i.isVector2&&n.isVector2||i&&n&&i.isVector3&&n.isVector3||i&&n&&i.isMatrix3&&n.isMatrix3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const n={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Tb)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case b0:e.x=e.x-Math.floor(e.x);break;case Js:e.x=e.x<0?0:1;break;case S0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case b0:e.y=e.y-Math.floor(e.y);break;case Js:e.y=e.y<0?0:1;break;case S0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Bi.DEFAULT_IMAGE=null;Bi.DEFAULT_MAPPING=Tb;Bi.DEFAULT_ANISOTROPY=1;class Dn{constructor(e=0,t=0,n=0,i=1){Dn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=n,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,i){return this.x=e,this.y=t,this.z=n,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,i=this.z,a=this.w,u=e.elements;return this.x=u[0]*t+u[4]*n+u[8]*i+u[12]*a,this.y=u[1]*t+u[5]*n+u[9]*i+u[13]*a,this.z=u[2]*t+u[6]*n+u[10]*i+u[14]*a,this.w=u[3]*t+u[7]*n+u[11]*i+u[15]*a,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,i,a;const d=e.elements,p=d[0],g=d[4],y=d[8],_=d[1],x=d[5],E=d[9],T=d[2],A=d[6],M=d[10];if(Math.abs(g-_)<.01&&Math.abs(y-T)<.01&&Math.abs(E-A)<.01){if(Math.abs(g+_)<.1&&Math.abs(y+T)<.1&&Math.abs(E+A)<.1&&Math.abs(p+x+M-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const D=(p+1)/2,L=(x+1)/2,P=(M+1)/2,z=(g+_)/4,B=(y+T)/4,k=(E+A)/4;return D>L&&D>P?D<.01?(n=0,i=.707106781,a=.707106781):(n=Math.sqrt(D),i=z/n,a=B/n):L>P?L<.01?(n=.707106781,i=0,a=.707106781):(i=Math.sqrt(L),n=z/i,a=k/i):P<.01?(n=.707106781,i=.707106781,a=0):(a=Math.sqrt(P),n=B/a,i=k/a),this.set(n,i,a,t),this}let R=Math.sqrt((A-E)*(A-E)+(y-T)*(y-T)+(_-g)*(_-g));return Math.abs(R)<.001&&(R=1),this.x=(A-E)/R,this.y=(y-T)/R,this.z=(_-g)/R,this.w=Math.acos((p+x+M-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Wt(this.x,e.x,t.x),this.y=Wt(this.y,e.y,t.y),this.z=Wt(this.z,e.z,t.z),this.w=Wt(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Wt(this.x,e,t),this.y=Wt(this.y,e,t),this.z=Wt(this.z,e,t),this.w=Wt(this.w,e,t),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Wt(n,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class HE extends zl{constructor(e=1,t=1,n={}){super(),n=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:di,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},n),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=n.depth,this.scissor=new Dn(0,0,e,t),this.scissorTest=!1,this.viewport=new Dn(0,0,e,t);const i={width:e,height:t,depth:n.depth},a=new Bi(i);this.textures=[];const u=n.count;for(let c=0;c<u;c++)this.textures[c]=a.clone(),this.textures[c].isRenderTargetTexture=!0,this.textures[c].renderTarget=this;this._setTextureOptions(n),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.resolveDepthBuffer=n.resolveDepthBuffer,this.resolveStencilBuffer=n.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=n.depthTexture,this.samples=n.samples,this.multiview=n.multiview}_setTextureOptions(e={}){const t={minFilter:di,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let n=0;n<this.textures.length;n++)this.textures[n].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,n=1){if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=n,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,n=e.textures.length;t<n;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new kc(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Sa extends HE{constructor(e=1,t=1,n={}){super(e,t,n),this.isWebGLRenderTarget=!0}}class Pb extends Bi{constructor(e=null,t=1,n=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=$i,this.minFilter=$i,this.wrapR=Js,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class JP extends Sa{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=n,this.texture=new Pb(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ub extends Bi{constructor(e=null,t=1,n=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:n,depth:i},this.magFilter=$i,this.minFilter=$i,this.wrapR=Js,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class eU extends Sa{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=n,this.texture=new Ub(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class pr{constructor(e=new X(1/0,1/0,1/0),t=new X(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t+=3)this.expandByPoint(Do.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,n=e.count;t<n;t++)this.expandByPoint(Do.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Do.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const n=e.geometry;if(n!==void 0){const a=n.getAttribute("position");if(t===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let u=0,c=a.count;u<c;u++)e.isMesh===!0?e.getVertexPosition(u,Do):Do.fromBufferAttribute(a,u),Do.applyMatrix4(e.matrixWorld),this.expandByPoint(Do);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Zy.copy(e.boundingBox)):(n.boundingBox===null&&n.computeBoundingBox(),Zy.copy(n.boundingBox)),Zy.applyMatrix4(e.matrixWorld),this.union(Zy)}const i=e.children;for(let a=0,u=i.length;a<u;a++)this.expandByObject(i[a],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Do),Do.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Lg),Ky.subVectors(this.max,Lg),Yd.subVectors(e.a,Lg),Zd.subVectors(e.b,Lg),Kd.subVectors(e.c,Lg),Dc.subVectors(Zd,Yd),Nc.subVectors(Kd,Zd),Yf.subVectors(Yd,Kd);let t=[0,-Dc.z,Dc.y,0,-Nc.z,Nc.y,0,-Yf.z,Yf.y,Dc.z,0,-Dc.x,Nc.z,0,-Nc.x,Yf.z,0,-Yf.x,-Dc.y,Dc.x,0,-Nc.y,Nc.x,0,-Yf.y,Yf.x,0];return!uS(t,Yd,Zd,Kd,Ky)||(t=[1,0,0,0,1,0,0,0,1],!uS(t,Yd,Zd,Kd,Ky))?!1:($y.crossVectors(Dc,Nc),t=[$y.x,$y.y,$y.z],uS(t,Yd,Zd,Kd,Ky))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Do).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Do).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_u[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_u[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_u[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_u[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_u[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_u[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_u[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_u[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_u),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const _u=[new X,new X,new X,new X,new X,new X,new X,new X],Do=new X,Zy=new pr,Yd=new X,Zd=new X,Kd=new X,Dc=new X,Nc=new X,Yf=new X,Lg=new X,Ky=new X,$y=new X,Zf=new X;function uS(r,e,t,n,i){for(let a=0,u=r.length-3;a<=u;a+=3){Zf.fromArray(r,a);const c=i.x*Math.abs(Zf.x)+i.y*Math.abs(Zf.y)+i.z*Math.abs(Zf.z),d=e.dot(Zf),p=t.dot(Zf),g=n.dot(Zf);if(Math.max(-Math.max(d,p,g),Math.min(d,p,g))>c)return!1}return!0}const tU=new pr,Og=new X,cS=new X;class mr{constructor(e=new X,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;t!==void 0?n.copy(t):tU.setFromPoints(e).getCenter(n);let i=0;for(let a=0,u=e.length;a<u;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Og.subVectors(e,this.center);const t=Og.lengthSq();if(t>this.radius*this.radius){const n=Math.sqrt(t),i=(n-this.radius)*.5;this.center.addScaledVector(Og,i/n),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(cS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Og.copy(e.center).add(cS)),this.expandByPoint(Og.copy(e.center).sub(cS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const xu=new X,fS=new X,Qy=new X,Lc=new X,hS=new X,Jy=new X,dS=new X;class Ph{constructor(e=new X,t=new X(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xu)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,n)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=xu.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(xu.copy(this.origin).addScaledVector(this.direction,t),xu.distanceToSquared(e))}distanceSqToSegment(e,t,n,i){fS.copy(e).add(t).multiplyScalar(.5),Qy.copy(t).sub(e).normalize(),Lc.copy(this.origin).sub(fS);const a=e.distanceTo(t)*.5,u=-this.direction.dot(Qy),c=Lc.dot(this.direction),d=-Lc.dot(Qy),p=Lc.lengthSq(),g=Math.abs(1-u*u);let y,_,x,E;if(g>0)if(y=u*d-c,_=u*c-d,E=a*g,y>=0)if(_>=-E)if(_<=E){const T=1/g;y*=T,_*=T,x=y*(y+u*_+2*c)+_*(u*y+_+2*d)+p}else _=a,y=Math.max(0,-(u*_+c)),x=-y*y+_*(_+2*d)+p;else _=-a,y=Math.max(0,-(u*_+c)),x=-y*y+_*(_+2*d)+p;else _<=-E?(y=Math.max(0,-(-u*a+c)),_=y>0?-a:Math.min(Math.max(-a,-d),a),x=-y*y+_*(_+2*d)+p):_<=E?(y=0,_=Math.min(Math.max(-a,-d),a),x=_*(_+2*d)+p):(y=Math.max(0,-(u*a+c)),_=y>0?a:Math.min(Math.max(-a,-d),a),x=-y*y+_*(_+2*d)+p);else _=u>0?-a:a,y=Math.max(0,-(u*_+c)),x=-y*y+_*(_+2*d)+p;return n&&n.copy(this.origin).addScaledVector(this.direction,y),i&&i.copy(fS).addScaledVector(Qy,_),x}intersectSphere(e,t){xu.subVectors(e.center,this.origin);const n=xu.dot(this.direction),i=xu.dot(xu)-n*n,a=e.radius*e.radius;if(i>a)return null;const u=Math.sqrt(a-i),c=n-u,d=n+u;return d<0?null:c<0?this.at(d,t):this.at(c,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return n===null?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,i,a,u,c,d;const p=1/this.direction.x,g=1/this.direction.y,y=1/this.direction.z,_=this.origin;return p>=0?(n=(e.min.x-_.x)*p,i=(e.max.x-_.x)*p):(n=(e.max.x-_.x)*p,i=(e.min.x-_.x)*p),g>=0?(a=(e.min.y-_.y)*g,u=(e.max.y-_.y)*g):(a=(e.max.y-_.y)*g,u=(e.min.y-_.y)*g),n>u||a>i||((a>n||isNaN(n))&&(n=a),(u<i||isNaN(i))&&(i=u),y>=0?(c=(e.min.z-_.z)*y,d=(e.max.z-_.z)*y):(c=(e.max.z-_.z)*y,d=(e.min.z-_.z)*y),n>d||c>i)||((c>n||n!==n)&&(n=c),(d<i||i!==i)&&(i=d),i<0)?null:this.at(n>=0?n:i,t)}intersectsBox(e){return this.intersectBox(e,xu)!==null}intersectTriangle(e,t,n,i,a){hS.subVectors(t,e),Jy.subVectors(n,e),dS.crossVectors(hS,Jy);let u=this.direction.dot(dS),c;if(u>0){if(i)return null;c=1}else if(u<0)c=-1,u=-u;else return null;Lc.subVectors(this.origin,e);const d=c*this.direction.dot(Jy.crossVectors(Lc,Jy));if(d<0)return null;const p=c*this.direction.dot(hS.cross(Lc));if(p<0||d+p>u)return null;const g=-c*Lc.dot(dS);return g<0?null:this.at(g/u,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Xt{constructor(e,t,n,i,a,u,c,d,p,g,y,_,x,E,T,A){Xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,n,i,a,u,c,d,p,g,y,_,x,E,T,A)}set(e,t,n,i,a,u,c,d,p,g,y,_,x,E,T,A){const M=this.elements;return M[0]=e,M[4]=t,M[8]=n,M[12]=i,M[1]=a,M[5]=u,M[9]=c,M[13]=d,M[2]=p,M[6]=g,M[10]=y,M[14]=_,M[3]=x,M[7]=E,M[11]=T,M[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Xt().fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,n){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),n.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this)}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,n=e.elements,i=1/$d.setFromMatrixColumn(e,0).length(),a=1/$d.setFromMatrixColumn(e,1).length(),u=1/$d.setFromMatrixColumn(e,2).length();return t[0]=n[0]*i,t[1]=n[1]*i,t[2]=n[2]*i,t[3]=0,t[4]=n[4]*a,t[5]=n[5]*a,t[6]=n[6]*a,t[7]=0,t[8]=n[8]*u,t[9]=n[9]*u,t[10]=n[10]*u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,n=e.x,i=e.y,a=e.z,u=Math.cos(n),c=Math.sin(n),d=Math.cos(i),p=Math.sin(i),g=Math.cos(a),y=Math.sin(a);if(e.order==="XYZ"){const _=u*g,x=u*y,E=c*g,T=c*y;t[0]=d*g,t[4]=-d*y,t[8]=p,t[1]=x+E*p,t[5]=_-T*p,t[9]=-c*d,t[2]=T-_*p,t[6]=E+x*p,t[10]=u*d}else if(e.order==="YXZ"){const _=d*g,x=d*y,E=p*g,T=p*y;t[0]=_+T*c,t[4]=E*c-x,t[8]=u*p,t[1]=u*y,t[5]=u*g,t[9]=-c,t[2]=x*c-E,t[6]=T+_*c,t[10]=u*d}else if(e.order==="ZXY"){const _=d*g,x=d*y,E=p*g,T=p*y;t[0]=_-T*c,t[4]=-u*y,t[8]=E+x*c,t[1]=x+E*c,t[5]=u*g,t[9]=T-_*c,t[2]=-u*p,t[6]=c,t[10]=u*d}else if(e.order==="ZYX"){const _=u*g,x=u*y,E=c*g,T=c*y;t[0]=d*g,t[4]=E*p-x,t[8]=_*p+T,t[1]=d*y,t[5]=T*p+_,t[9]=x*p-E,t[2]=-p,t[6]=c*d,t[10]=u*d}else if(e.order==="YZX"){const _=u*d,x=u*p,E=c*d,T=c*p;t[0]=d*g,t[4]=T-_*y,t[8]=E*y+x,t[1]=y,t[5]=u*g,t[9]=-c*g,t[2]=-p*g,t[6]=x*y+E,t[10]=_-T*y}else if(e.order==="XZY"){const _=u*d,x=u*p,E=c*d,T=c*p;t[0]=d*g,t[4]=-y,t[8]=p*g,t[1]=_*y+T,t[5]=u*g,t[9]=x*y-E,t[2]=E*y-x,t[6]=c*g,t[10]=T*y+_}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(nU,e,iU)}lookAt(e,t,n){const i=this.elements;return da.subVectors(e,t),da.lengthSq()===0&&(da.z=1),da.normalize(),Oc.crossVectors(n,da),Oc.lengthSq()===0&&(Math.abs(n.z)===1?da.x+=1e-4:da.z+=1e-4,da.normalize(),Oc.crossVectors(n,da)),Oc.normalize(),e_.crossVectors(da,Oc),i[0]=Oc.x,i[4]=e_.x,i[8]=da.x,i[1]=Oc.y,i[5]=e_.y,i[9]=da.y,i[2]=Oc.z,i[6]=e_.z,i[10]=da.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,i=t.elements,a=this.elements,u=n[0],c=n[4],d=n[8],p=n[12],g=n[1],y=n[5],_=n[9],x=n[13],E=n[2],T=n[6],A=n[10],M=n[14],R=n[3],D=n[7],L=n[11],P=n[15],z=i[0],B=i[4],k=i[8],I=i[12],O=i[1],W=i[5],ee=i[9],Q=i[13],fe=i[2],ue=i[6],Z=i[10],J=i[14],he=i[3],Pe=i[7],Ue=i[11],j=i[15];return a[0]=u*z+c*O+d*fe+p*he,a[4]=u*B+c*W+d*ue+p*Pe,a[8]=u*k+c*ee+d*Z+p*Ue,a[12]=u*I+c*Q+d*J+p*j,a[1]=g*z+y*O+_*fe+x*he,a[5]=g*B+y*W+_*ue+x*Pe,a[9]=g*k+y*ee+_*Z+x*Ue,a[13]=g*I+y*Q+_*J+x*j,a[2]=E*z+T*O+A*fe+M*he,a[6]=E*B+T*W+A*ue+M*Pe,a[10]=E*k+T*ee+A*Z+M*Ue,a[14]=E*I+T*Q+A*J+M*j,a[3]=R*z+D*O+L*fe+P*he,a[7]=R*B+D*W+L*ue+P*Pe,a[11]=R*k+D*ee+L*Z+P*Ue,a[15]=R*I+D*Q+L*J+P*j,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],i=e[8],a=e[12],u=e[1],c=e[5],d=e[9],p=e[13],g=e[2],y=e[6],_=e[10],x=e[14],E=e[3],T=e[7],A=e[11],M=e[15],R=d*x-p*_,D=c*x-p*y,L=c*_-d*y,P=u*x-p*g,z=u*_-d*g,B=u*y-c*g;return t*(T*R-A*D+M*L)-n*(E*R-A*P+M*z)+i*(E*D-T*P+M*B)-a*(E*L-T*z+A*B)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=n),this}invert(){const e=this.elements,t=e[0],n=e[1],i=e[2],a=e[3],u=e[4],c=e[5],d=e[6],p=e[7],g=e[8],y=e[9],_=e[10],x=e[11],E=e[12],T=e[13],A=e[14],M=e[15],R=y*A*p-T*_*p+T*d*x-c*A*x-y*d*M+c*_*M,D=E*_*p-g*A*p-E*d*x+u*A*x+g*d*M-u*_*M,L=g*T*p-E*y*p+E*c*x-u*T*x-g*c*M+u*y*M,P=E*y*d-g*T*d-E*c*_+u*T*_+g*c*A-u*y*A,z=t*R+n*D+i*L+a*P;if(z===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const B=1/z;return e[0]=R*B,e[1]=(T*_*a-y*A*a-T*i*x+n*A*x+y*i*M-n*_*M)*B,e[2]=(c*A*a-T*d*a+T*i*p-n*A*p-c*i*M+n*d*M)*B,e[3]=(y*d*a-c*_*a-y*i*p+n*_*p+c*i*x-n*d*x)*B,e[4]=D*B,e[5]=(g*A*a-E*_*a+E*i*x-t*A*x-g*i*M+t*_*M)*B,e[6]=(E*d*a-u*A*a-E*i*p+t*A*p+u*i*M-t*d*M)*B,e[7]=(u*_*a-g*d*a+g*i*p-t*_*p-u*i*x+t*d*x)*B,e[8]=L*B,e[9]=(E*y*a-g*T*a-E*n*x+t*T*x+g*n*M-t*y*M)*B,e[10]=(u*T*a-E*c*a+E*n*p-t*T*p-u*n*M+t*c*M)*B,e[11]=(g*c*a-u*y*a-g*n*p+t*y*p+u*n*x-t*c*x)*B,e[12]=P*B,e[13]=(g*T*i-E*y*i+E*n*_-t*T*_-g*n*A+t*y*A)*B,e[14]=(E*c*i-u*T*i-E*n*d+t*T*d+u*n*A-t*c*A)*B,e[15]=(u*y*i-g*c*i+g*n*d-t*y*d-u*n*_+t*c*_)*B,this}scale(e){const t=this.elements,n=e.x,i=e.y,a=e.z;return t[0]*=n,t[4]*=i,t[8]*=a,t[1]*=n,t[5]*=i,t[9]*=a,t[2]*=n,t[6]*=i,t[10]*=a,t[3]*=n,t[7]*=i,t[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,i))}makeTranslation(e,t,n){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),i=Math.sin(t),a=1-n,u=e.x,c=e.y,d=e.z,p=a*u,g=a*c;return this.set(p*u+n,p*c-i*d,p*d+i*c,0,p*c+i*d,g*c+n,g*d-i*u,0,p*d-i*c,g*d+i*u,a*d*d+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n,i,a,u){return this.set(1,n,a,0,e,1,u,0,t,i,1,0,0,0,0,1),this}compose(e,t,n){const i=this.elements,a=t._x,u=t._y,c=t._z,d=t._w,p=a+a,g=u+u,y=c+c,_=a*p,x=a*g,E=a*y,T=u*g,A=u*y,M=c*y,R=d*p,D=d*g,L=d*y,P=n.x,z=n.y,B=n.z;return i[0]=(1-(T+M))*P,i[1]=(x+L)*P,i[2]=(E-D)*P,i[3]=0,i[4]=(x-L)*z,i[5]=(1-(_+M))*z,i[6]=(A+R)*z,i[7]=0,i[8]=(E+D)*B,i[9]=(A-R)*B,i[10]=(1-(_+T))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,n){const i=this.elements;if(e.x=i[12],e.y=i[13],e.z=i[14],this.determinant()===0)return n.set(1,1,1),t.identity(),this;let a=$d.set(i[0],i[1],i[2]).length();const u=$d.set(i[4],i[5],i[6]).length(),c=$d.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),No.copy(this);const p=1/a,g=1/u,y=1/c;return No.elements[0]*=p,No.elements[1]*=p,No.elements[2]*=p,No.elements[4]*=g,No.elements[5]*=g,No.elements[6]*=g,No.elements[8]*=y,No.elements[9]*=y,No.elements[10]*=y,t.setFromRotationMatrix(No),n.x=a,n.y=u,n.z=c,this}makePerspective(e,t,n,i,a,u,c=va,d=!1){const p=this.elements,g=2*a/(t-e),y=2*a/(n-i),_=(t+e)/(t-e),x=(n+i)/(n-i);let E,T;if(d)E=a/(u-a),T=u*a/(u-a);else if(c===va)E=-(u+a)/(u-a),T=-2*u*a/(u-a);else if(c===Op)E=-u/(u-a),T=-u*a/(u-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+c);return p[0]=g,p[4]=0,p[8]=_,p[12]=0,p[1]=0,p[5]=y,p[9]=x,p[13]=0,p[2]=0,p[6]=0,p[10]=E,p[14]=T,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(e,t,n,i,a,u,c=va,d=!1){const p=this.elements,g=2/(t-e),y=2/(n-i),_=-(t+e)/(t-e),x=-(n+i)/(n-i);let E,T;if(d)E=1/(u-a),T=u/(u-a);else if(c===va)E=-2/(u-a),T=-(u+a)/(u-a);else if(c===Op)E=-1/(u-a),T=-a/(u-a);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+c);return p[0]=g,p[4]=0,p[8]=0,p[12]=_,p[1]=0,p[5]=y,p[9]=0,p[13]=x,p[2]=0,p[6]=0,p[10]=E,p[14]=T,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let i=0;i<16;i++)if(t[i]!==n[i])return!1;return!0}fromArray(e,t=0){for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e=[],t=0){const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const $d=new X,No=new Xt,nU=new X(0,0,0),iU=new X(1,1,1),Oc=new X,e_=new X,da=new X,Zw=new Xt,Kw=new is;class Ea{constructor(e=0,t=0,n=0,i=Ea.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=n,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,i=this._order){return this._x=e,this._y=t,this._z=n,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,n=!0){const i=e.elements,a=i[0],u=i[4],c=i[8],d=i[1],p=i[5],g=i[9],y=i[2],_=i[6],x=i[10];switch(t){case"XYZ":this._y=Math.asin(Wt(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-g,x),this._z=Math.atan2(-u,a)):(this._x=Math.atan2(_,p),this._z=0);break;case"YXZ":this._x=Math.asin(-Wt(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(c,x),this._z=Math.atan2(d,p)):(this._y=Math.atan2(-y,a),this._z=0);break;case"ZXY":this._x=Math.asin(Wt(_,-1,1)),Math.abs(_)<.9999999?(this._y=Math.atan2(-y,x),this._z=Math.atan2(-u,p)):(this._y=0,this._z=Math.atan2(d,a));break;case"ZYX":this._y=Math.asin(-Wt(y,-1,1)),Math.abs(y)<.9999999?(this._x=Math.atan2(_,x),this._z=Math.atan2(d,a)):(this._x=0,this._z=Math.atan2(-u,p));break;case"YZX":this._z=Math.asin(Wt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-g,p),this._y=Math.atan2(-y,a)):(this._x=0,this._y=Math.atan2(c,x));break;case"XZY":this._z=Math.asin(-Wt(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(_,p),this._y=Math.atan2(c,a)):(this._x=Math.atan2(-g,x),this._y=0);break;default:gt("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,n===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Zw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Zw,t,n)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Kw.setFromEuler(this),this.setFromQuaternion(Kw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Ea.DEFAULT_ORDER="XYZ";class Up{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let rU=0;const $w=new X,Qd=new is,bu=new Xt,t_=new X,Ig=new X,sU=new X,aU=new is,Qw=new X(1,0,0),Jw=new X(0,1,0),eA=new X(0,0,1),tA={type:"added"},oU={type:"removed"},Jd={type:"childadded",child:null},pS={type:"childremoved",child:null};class Nn extends zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:rU++}),this.uuid=ba(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nn.DEFAULT_UP.clone();const e=new X,t=new Ea,n=new is,i=new X(1,1,1);function a(){n.setFromEuler(t,!1)}function u(){t.setFromQuaternion(n,void 0,!1)}t._onChange(a),n._onChange(u),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Xt},normalMatrix:{value:new nn}}),this.matrix=new Xt,this.matrixWorld=new Xt,this.matrixAutoUpdate=Nn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Up,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Qd.setFromAxisAngle(e,t),this.quaternion.multiply(Qd),this}rotateOnWorldAxis(e,t){return Qd.setFromAxisAngle(e,t),this.quaternion.premultiply(Qd),this}rotateX(e){return this.rotateOnAxis(Qw,e)}rotateY(e){return this.rotateOnAxis(Jw,e)}rotateZ(e){return this.rotateOnAxis(eA,e)}translateOnAxis(e,t){return $w.copy(e).applyQuaternion(this.quaternion),this.position.add($w.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Qw,e)}translateY(e){return this.translateOnAxis(Jw,e)}translateZ(e){return this.translateOnAxis(eA,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(bu.copy(this.matrixWorld).invert())}lookAt(e,t,n){e.isVector3?t_.copy(e):t_.set(e,t,n);const i=this.parent;this.updateWorldMatrix(!0,!1),Ig.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?bu.lookAt(Ig,t_,this.up):bu.lookAt(t_,Ig,this.up),this.quaternion.setFromRotationMatrix(bu),i&&(bu.extractRotation(i.matrixWorld),Qd.setFromRotationMatrix(bu),this.quaternion.premultiply(Qd.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(Ot("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(tA),Jd.child=e,this.dispatchEvent(Jd),Jd.child=null):Ot("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.remove(arguments[n]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(oU),pS.child=e,this.dispatchEvent(pS),pS.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),bu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),bu.multiply(e.parent.matrixWorld)),e.applyMatrix4(bu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(tA),Jd.child=e,this.dispatchEvent(Jd),Jd.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let n=0,i=this.children.length;n<i;n++){const u=this.children[n].getObjectByProperty(e,t);if(u!==void 0)return u}}getObjectsByProperty(e,t,n=[]){this[e]===t&&n.push(this);const i=this.children;for(let a=0,u=i.length;a<u;a++)i[a].getObjectsByProperty(e,t,n);return n}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,e,sU),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ig,aU,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,i=t.length;n<i;n++)t[n].updateMatrixWorld(e)}updateWorldMatrix(e,t){const n=this.parent;if(e===!0&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let a=0,u=i.length;a<u;a++)i[a].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(c=>({...c,boundingBox:c.boundingBox?c.boundingBox.toJSON():void 0,boundingSphere:c.boundingSphere?c.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(c=>({...c})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function a(c,d){return c[d.uuid]===void 0&&(c[d.uuid]=d.toJSON(e)),d.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const c=this.geometry.parameters;if(c!==void 0&&c.shapes!==void 0){const d=c.shapes;if(Array.isArray(d))for(let p=0,g=d.length;p<g;p++){const y=d[p];a(e.shapes,y)}else a(e.shapes,d)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const c=[];for(let d=0,p=this.material.length;d<p;d++)c.push(a(e.materials,this.material[d]));i.material=c}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let c=0;c<this.children.length;c++)i.children.push(this.children[c].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let c=0;c<this.animations.length;c++){const d=this.animations[c];i.animations.push(a(e.animations,d))}}if(t){const c=u(e.geometries),d=u(e.materials),p=u(e.textures),g=u(e.images),y=u(e.shapes),_=u(e.skeletons),x=u(e.animations),E=u(e.nodes);c.length>0&&(n.geometries=c),d.length>0&&(n.materials=d),p.length>0&&(n.textures=p),g.length>0&&(n.images=g),y.length>0&&(n.shapes=y),_.length>0&&(n.skeletons=_),x.length>0&&(n.animations=x),E.length>0&&(n.nodes=E)}return n.object=i,n;function u(c){const d=[];for(const p in c){const g=c[p];delete g.metadata,d.push(g)}return d}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let n=0;n<e.children.length;n++){const i=e.children[n];this.add(i.clone())}return this}}Nn.DEFAULT_UP=new X(0,1,0);Nn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Lo=new X,Su=new X,mS=new X,Mu=new X,ep=new X,tp=new X,nA=new X,gS=new X,vS=new X,yS=new X,_S=new Dn,xS=new Dn,bS=new Dn;class Qs{constructor(e=new X,t=new X,n=new X){this.a=e,this.b=t,this.c=n}static getNormal(e,t,n,i){i.subVectors(n,t),Lo.subVectors(e,t),i.cross(Lo);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,t,n,i,a){Lo.subVectors(i,t),Su.subVectors(n,t),mS.subVectors(e,t);const u=Lo.dot(Lo),c=Lo.dot(Su),d=Lo.dot(mS),p=Su.dot(Su),g=Su.dot(mS),y=u*p-c*c;if(y===0)return a.set(0,0,0),null;const _=1/y,x=(p*d-c*g)*_,E=(u*g-c*d)*_;return a.set(1-x-E,E,x)}static containsPoint(e,t,n,i){return this.getBarycoord(e,t,n,i,Mu)===null?!1:Mu.x>=0&&Mu.y>=0&&Mu.x+Mu.y<=1}static getInterpolation(e,t,n,i,a,u,c,d){return this.getBarycoord(e,t,n,i,Mu)===null?(d.x=0,d.y=0,"z"in d&&(d.z=0),"w"in d&&(d.w=0),null):(d.setScalar(0),d.addScaledVector(a,Mu.x),d.addScaledVector(u,Mu.y),d.addScaledVector(c,Mu.z),d)}static getInterpolatedAttribute(e,t,n,i,a,u){return _S.setScalar(0),xS.setScalar(0),bS.setScalar(0),_S.fromBufferAttribute(e,t),xS.fromBufferAttribute(e,n),bS.fromBufferAttribute(e,i),u.setScalar(0),u.addScaledVector(_S,a.x),u.addScaledVector(xS,a.y),u.addScaledVector(bS,a.z),u}static isFrontFacing(e,t,n,i){return Lo.subVectors(n,t),Su.subVectors(e,t),Lo.cross(Su).dot(i)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,i){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,n,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Lo.subVectors(this.c,this.b),Su.subVectors(this.a,this.b),Lo.cross(Su).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,n,i,a){return Qs.getInterpolation(e,this.a,this.b,this.c,t,n,i,a)}containsPoint(e){return Qs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const n=this.a,i=this.b,a=this.c;let u,c;ep.subVectors(i,n),tp.subVectors(a,n),gS.subVectors(e,n);const d=ep.dot(gS),p=tp.dot(gS);if(d<=0&&p<=0)return t.copy(n);vS.subVectors(e,i);const g=ep.dot(vS),y=tp.dot(vS);if(g>=0&&y<=g)return t.copy(i);const _=d*y-g*p;if(_<=0&&d>=0&&g<=0)return u=d/(d-g),t.copy(n).addScaledVector(ep,u);yS.subVectors(e,a);const x=ep.dot(yS),E=tp.dot(yS);if(E>=0&&x<=E)return t.copy(a);const T=x*p-d*E;if(T<=0&&p>=0&&E<=0)return c=p/(p-E),t.copy(n).addScaledVector(tp,c);const A=g*E-x*y;if(A<=0&&y-g>=0&&x-E>=0)return nA.subVectors(a,i),c=(y-g)/(y-g+(x-E)),t.copy(i).addScaledVector(nA,c);const M=1/(A+T+_);return u=T*M,c=_*M,t.copy(n).addScaledVector(ep,u).addScaledVector(tp,c)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const DR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ic={h:0,s:0,l:0},n_={h:0,s:0,l:0};function SS(r,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?r+(e-r)*6*t:t<1/2?e:t<2/3?r+(e-r)*6*(2/3-t):r}class xt{constructor(e,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,n)}set(e,t,n){if(t===void 0&&n===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=es){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mn.colorSpaceToWorking(this,t),this}setRGB(e,t,n,i=Mn.workingColorSpace){return this.r=e,this.g=t,this.b=n,Mn.colorSpaceToWorking(this,i),this}setHSL(e,t,n,i=Mn.workingColorSpace){if(e=VE(e,1),t=Wt(t,0,1),n=Wt(n,0,1),t===0)this.r=this.g=this.b=n;else{const a=n<=.5?n*(1+t):n+t-n*t,u=2*n-a;this.r=SS(u,a,e+1/3),this.g=SS(u,a,e),this.b=SS(u,a,e-1/3)}return Mn.colorSpaceToWorking(this,i),this}setStyle(e,t=es){function n(a){a!==void 0&&parseFloat(a)<1&&gt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const u=i[1],c=i[2];switch(u){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,t);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,t);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(c))return n(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,t);break;default:gt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],u=a.length;if(u===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,t);if(u===6)return this.setHex(parseInt(a,16),t);gt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=es){const n=DR[e.toLowerCase()];return n!==void 0?this.setHex(n,t):gt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Iu(e.r),this.g=Iu(e.g),this.b=Iu(e.b),this}copyLinearToSRGB(e){return this.r=Ap(e.r),this.g=Ap(e.g),this.b=Ap(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=es){return Mn.workingToColorSpace(Qr.copy(this),e),Math.round(Wt(Qr.r*255,0,255))*65536+Math.round(Wt(Qr.g*255,0,255))*256+Math.round(Wt(Qr.b*255,0,255))}getHexString(e=es){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Mn.workingColorSpace){Mn.workingToColorSpace(Qr.copy(this),t);const n=Qr.r,i=Qr.g,a=Qr.b,u=Math.max(n,i,a),c=Math.min(n,i,a);let d,p;const g=(c+u)/2;if(c===u)d=0,p=0;else{const y=u-c;switch(p=g<=.5?y/(u+c):y/(2-u-c),u){case n:d=(i-a)/y+(i<a?6:0);break;case i:d=(a-n)/y+2;break;case a:d=(n-i)/y+4;break}d/=6}return e.h=d,e.s=p,e.l=g,e}getRGB(e,t=Mn.workingColorSpace){return Mn.workingToColorSpace(Qr.copy(this),t),e.r=Qr.r,e.g=Qr.g,e.b=Qr.b,e}getStyle(e=es){Mn.workingToColorSpace(Qr.copy(this),e);const t=Qr.r,n=Qr.g,i=Qr.b;return e!==es?`color(${e} ${t.toFixed(3)} ${n.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(i*255)})`}offsetHSL(e,t,n){return this.getHSL(Ic),this.setHSL(Ic.h+e,Ic.s+t,Ic.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}lerpHSL(e,t){this.getHSL(Ic),e.getHSL(n_);const n=l0(Ic.h,n_.h,t),i=l0(Ic.s,n_.s,t),a=l0(Ic.l,n_.l,t);return this.setHSL(n,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,n=this.g,i=this.b,a=e.elements;return this.r=a[0]*t+a[3]*n+a[6]*i,this.g=a[1]*t+a[4]*n+a[7]*i,this.b=a[2]*t+a[5]*n+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Qr=new xt;xt.NAMES=DR;let lU=0;class ss extends zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:lU++}),this.uuid=ba(),this.name="",this.type="Material",this.blending=Sh,this.side=zu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=hx,this.blendDst=dx,this.blendEquation=zc,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new xt(0,0,0),this.blendAlpha=0,this.depthFunc=Nh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=CM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ph,this.stencilZFail=ph,this.stencilZPass=ph,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const n=e[t];if(n===void 0){gt(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){gt(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[t]=n}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const n={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),this.roughness!==void 0&&(n.roughness=this.roughness),this.metalness!==void 0&&(n.metalness=this.metalness),this.sheen!==void 0&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(n.shininess=this.shininess),this.clearcoat!==void 0&&(n.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(n.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(n.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(n.dispersion=this.dispersion),this.iridescence!==void 0&&(n.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(n.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(n.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(n.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(n.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(n.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(n.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(n.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(n.combine=this.combine)),this.envMapRotation!==void 0&&(n.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(n.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(n.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(n.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(n.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(n.size=this.size),this.shadowSide!==null&&(n.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==Sh&&(n.blending=this.blending),this.side!==zu&&(n.side=this.side),this.vertexColors===!0&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),this.transparent===!0&&(n.transparent=!0),this.blendSrc!==hx&&(n.blendSrc=this.blendSrc),this.blendDst!==dx&&(n.blendDst=this.blendDst),this.blendEquation!==zc&&(n.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(n.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(n.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(n.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(n.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(n.blendAlpha=this.blendAlpha),this.depthFunc!==Nh&&(n.depthFunc=this.depthFunc),this.depthTest===!1&&(n.depthTest=this.depthTest),this.depthWrite===!1&&(n.depthWrite=this.depthWrite),this.colorWrite===!1&&(n.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(n.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==CM&&(n.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(n.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(n.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ph&&(n.stencilFail=this.stencilFail),this.stencilZFail!==ph&&(n.stencilZFail=this.stencilZFail),this.stencilZPass!==ph&&(n.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(n.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(n.rotation=this.rotation),this.polygonOffset===!0&&(n.polygonOffset=!0),this.polygonOffsetFactor!==0&&(n.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(n.linewidth=this.linewidth),this.dashSize!==void 0&&(n.dashSize=this.dashSize),this.gapSize!==void 0&&(n.gapSize=this.gapSize),this.scale!==void 0&&(n.scale=this.scale),this.dithering===!0&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),this.alphaHash===!0&&(n.alphaHash=!0),this.alphaToCoverage===!0&&(n.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(n.premultipliedAlpha=!0),this.forceSinglePass===!0&&(n.forceSinglePass=!0),this.allowOverride===!1&&(n.allowOverride=!1),this.wireframe===!0&&(n.wireframe=!0),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(n.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(n.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(n.flatShading=!0),this.visible===!1&&(n.visible=!1),this.toneMapped===!1&&(n.toneMapped=!1),this.fog===!1&&(n.fog=!1),Object.keys(this.userData).length>0&&(n.userData=this.userData);function i(a){const u=[];for(const c in a){const d=a[c];delete d.metadata,u.push(d)}return u}if(t){const a=i(e.textures),u=i(e.images);a.length>0&&(n.textures=a),u.length>0&&(n.images=u)}return n}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(t!==null){const i=t.length;n=new Array(i);for(let a=0;a!==i;++a)n[a]=t[a].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class nf extends ss{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ea,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nu=uU();function uU(){const r=new ArrayBuffer(4),e=new Float32Array(r),t=new Uint32Array(r),n=new Uint32Array(512),i=new Uint32Array(512);for(let d=0;d<256;++d){const p=d-127;p<-27?(n[d]=0,n[d|256]=32768,i[d]=24,i[d|256]=24):p<-14?(n[d]=1024>>-p-14,n[d|256]=1024>>-p-14|32768,i[d]=-p-1,i[d|256]=-p-1):p<=15?(n[d]=p+15<<10,n[d|256]=p+15<<10|32768,i[d]=13,i[d|256]=13):p<128?(n[d]=31744,n[d|256]=64512,i[d]=24,i[d|256]=24):(n[d]=31744,n[d|256]=64512,i[d]=13,i[d|256]=13)}const a=new Uint32Array(2048),u=new Uint32Array(64),c=new Uint32Array(64);for(let d=1;d<1024;++d){let p=d<<13,g=0;for(;(p&8388608)===0;)p<<=1,g-=8388608;p&=-8388609,g+=947912704,a[d]=p|g}for(let d=1024;d<2048;++d)a[d]=939524096+(d-1024<<13);for(let d=1;d<31;++d)u[d]=d<<23;u[31]=1199570944,u[32]=2147483648;for(let d=33;d<63;++d)u[d]=2147483648+(d-32<<23);u[63]=3347054592;for(let d=1;d<64;++d)d!==32&&(c[d]=1024);return{floatView:e,uint32View:t,baseTable:n,shiftTable:i,mantissaTable:a,exponentTable:u,offsetTable:c}}function Ks(r){Math.abs(r)>65504&&gt("DataUtils.toHalfFloat(): Value out of range."),r=Wt(r,-65504,65504),Nu.floatView[0]=r;const e=Nu.uint32View[0],t=e>>23&511;return Nu.baseTable[t]+((e&8388607)>>Nu.shiftTable[t])}function Kg(r){const e=r>>10;return Nu.uint32View[0]=Nu.mantissaTable[Nu.offsetTable[e]+(r&1023)]+Nu.exponentTable[e],Nu.floatView[0]}class cU{static toHalfFloat(e){return Ks(e)}static fromHalfFloat(e){return Kg(e)}}const or=new X,i_=new Ve;let fU=0;class zn{constructor(e,t,n=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:fU++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=n,this.usage=w0,this.updateRanges=[],this.gpuType=As,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=t.array[n+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,n=this.count;t<n;t++)i_.fromBufferAttribute(this,t),i_.applyMatrix3(e),this.setXY(t,i_.x,i_.y);else if(this.itemSize===3)for(let t=0,n=this.count;t<n;t++)or.fromBufferAttribute(this,t),or.applyMatrix3(e),this.setXYZ(t,or.x,or.y,or.z);return this}applyMatrix4(e){for(let t=0,n=this.count;t<n;t++)or.fromBufferAttribute(this,t),or.applyMatrix4(e),this.setXYZ(t,or.x,or.y,or.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)or.fromBufferAttribute(this,t),or.applyNormalMatrix(e),this.setXYZ(t,or.x,or.y,or.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)or.fromBufferAttribute(this,t),or.transformDirection(e),this.setXYZ(t,or.x,or.y,or.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let n=this.array[e*this.itemSize+t];return this.normalized&&(n=Ts(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ln(n,this.array)),this.array[e*this.itemSize+t]=n,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Ts(t,this.array)),t}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Ts(t,this.array)),t}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Ts(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Ts(t,this.array)),t}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array)),this.array[e+0]=t,this.array[e+1]=n,this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array),i=ln(i,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array),i=ln(i,this.array),a=ln(a,this.array)),this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==w0&&(e.usage=this.usage),e}}class hU extends zn{constructor(e,t,n){super(new Int8Array(e),t,n)}}class dU extends zn{constructor(e,t,n){super(new Uint8Array(e),t,n)}}class pU extends zn{constructor(e,t,n){super(new Uint8ClampedArray(e),t,n)}}class mU extends zn{constructor(e,t,n){super(new Int16Array(e),t,n)}}class GE extends zn{constructor(e,t,n){super(new Uint16Array(e),t,n)}}class gU extends zn{constructor(e,t,n){super(new Int32Array(e),t,n)}}class WE extends zn{constructor(e,t,n){super(new Uint32Array(e),t,n)}}class vU extends zn{constructor(e,t,n){super(new Uint16Array(e),t,n),this.isFloat16BufferAttribute=!0}getX(e){let t=Kg(this.array[e*this.itemSize]);return this.normalized&&(t=Ts(t,this.array)),t}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize]=Ks(t),this}getY(e){let t=Kg(this.array[e*this.itemSize+1]);return this.normalized&&(t=Ts(t,this.array)),t}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+1]=Ks(t),this}getZ(e){let t=Kg(this.array[e*this.itemSize+2]);return this.normalized&&(t=Ts(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+2]=Ks(t),this}getW(e){let t=Kg(this.array[e*this.itemSize+3]);return this.normalized&&(t=Ts(t,this.array)),t}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.array[e*this.itemSize+3]=Ks(t),this}setXY(e,t,n){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array)),this.array[e+0]=Ks(t),this.array[e+1]=Ks(n),this}setXYZ(e,t,n,i){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array),i=ln(i,this.array)),this.array[e+0]=Ks(t),this.array[e+1]=Ks(n),this.array[e+2]=Ks(i),this}setXYZW(e,t,n,i,a){return e*=this.itemSize,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array),i=ln(i,this.array),a=ln(a,this.array)),this.array[e+0]=Ks(t),this.array[e+1]=Ks(n),this.array[e+2]=Ks(i),this.array[e+3]=Ks(a),this}}class bt extends zn{constructor(e,t,n){super(new Float32Array(e),t,n)}}let yU=0;const Ja=new Xt,MS=new Nn,np=new X,pa=new pr,Pg=new pr,Mr=new X;class jt extends zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:yU++}),this.uuid=ba(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(TR(e)?WE:GE)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,n=0){this.groups.push({start:e,count:t,materialIndex:n})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(n!==void 0){const a=new nn().getNormalMatrix(e);n.applyNormalMatrix(a),n.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ja.makeRotationFromQuaternion(e),this.applyMatrix4(Ja),this}rotateX(e){return Ja.makeRotationX(e),this.applyMatrix4(Ja),this}rotateY(e){return Ja.makeRotationY(e),this.applyMatrix4(Ja),this}rotateZ(e){return Ja.makeRotationZ(e),this.applyMatrix4(Ja),this}translate(e,t,n){return Ja.makeTranslation(e,t,n),this.applyMatrix4(Ja),this}scale(e,t,n){return Ja.makeScale(e,t,n),this.applyMatrix4(Ja),this}lookAt(e){return MS.lookAt(e),MS.updateMatrix(),this.applyMatrix4(MS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(np).negate(),this.translate(np.x,np.y,np.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const n=[];for(let i=0,a=e.length;i<a;i++){const u=e[i];n.push(u.x,u.y,u.z||0)}this.setAttribute("position",new bt(n,3))}else{const n=Math.min(e.length,t.count);for(let i=0;i<n;i++){const a=e[i];t.setXYZ(i,a.x,a.y,a.z||0)}e.length>t.count&&gt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ot("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new X(-1/0,-1/0,-1/0),new X(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let n=0,i=t.length;n<i;n++){const a=t[n];pa.setFromBufferAttribute(a),this.morphTargetsRelative?(Mr.addVectors(this.boundingBox.min,pa.min),this.boundingBox.expandByPoint(Mr),Mr.addVectors(this.boundingBox.max,pa.max),this.boundingBox.expandByPoint(Mr)):(this.boundingBox.expandByPoint(pa.min),this.boundingBox.expandByPoint(pa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&Ot('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){Ot("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new X,1/0);return}if(e){const n=this.boundingSphere.center;if(pa.setFromBufferAttribute(e),t)for(let a=0,u=t.length;a<u;a++){const c=t[a];Pg.setFromBufferAttribute(c),this.morphTargetsRelative?(Mr.addVectors(pa.min,Pg.min),pa.expandByPoint(Mr),Mr.addVectors(pa.max,Pg.max),pa.expandByPoint(Mr)):(pa.expandByPoint(Pg.min),pa.expandByPoint(Pg.max))}pa.getCenter(n);let i=0;for(let a=0,u=e.count;a<u;a++)Mr.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(Mr));if(t)for(let a=0,u=t.length;a<u;a++){const c=t[a],d=this.morphTargetsRelative;for(let p=0,g=c.count;p<g;p++)Mr.fromBufferAttribute(c,p),d&&(np.fromBufferAttribute(e,p),Mr.add(np)),i=Math.max(i,n.distanceToSquared(Mr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&Ot('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){Ot("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const n=t.position,i=t.normal,a=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zn(new Float32Array(4*n.count),4));const u=this.getAttribute("tangent"),c=[],d=[];for(let k=0;k<n.count;k++)c[k]=new X,d[k]=new X;const p=new X,g=new X,y=new X,_=new Ve,x=new Ve,E=new Ve,T=new X,A=new X;function M(k,I,O){p.fromBufferAttribute(n,k),g.fromBufferAttribute(n,I),y.fromBufferAttribute(n,O),_.fromBufferAttribute(a,k),x.fromBufferAttribute(a,I),E.fromBufferAttribute(a,O),g.sub(p),y.sub(p),x.sub(_),E.sub(_);const W=1/(x.x*E.y-E.x*x.y);isFinite(W)&&(T.copy(g).multiplyScalar(E.y).addScaledVector(y,-x.y).multiplyScalar(W),A.copy(y).multiplyScalar(x.x).addScaledVector(g,-E.x).multiplyScalar(W),c[k].add(T),c[I].add(T),c[O].add(T),d[k].add(A),d[I].add(A),d[O].add(A))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let k=0,I=R.length;k<I;++k){const O=R[k],W=O.start,ee=O.count;for(let Q=W,fe=W+ee;Q<fe;Q+=3)M(e.getX(Q+0),e.getX(Q+1),e.getX(Q+2))}const D=new X,L=new X,P=new X,z=new X;function B(k){P.fromBufferAttribute(i,k),z.copy(P);const I=c[k];D.copy(I),D.sub(P.multiplyScalar(P.dot(I))).normalize(),L.crossVectors(z,I);const W=L.dot(d[k])<0?-1:1;u.setXYZW(k,D.x,D.y,D.z,W)}for(let k=0,I=R.length;k<I;++k){const O=R[k],W=O.start,ee=O.count;for(let Q=W,fe=W+ee;Q<fe;Q+=3)B(e.getX(Q+0)),B(e.getX(Q+1)),B(e.getX(Q+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let n=this.getAttribute("normal");if(n===void 0)n=new zn(new Float32Array(t.count*3),3),this.setAttribute("normal",n);else for(let _=0,x=n.count;_<x;_++)n.setXYZ(_,0,0,0);const i=new X,a=new X,u=new X,c=new X,d=new X,p=new X,g=new X,y=new X;if(e)for(let _=0,x=e.count;_<x;_+=3){const E=e.getX(_+0),T=e.getX(_+1),A=e.getX(_+2);i.fromBufferAttribute(t,E),a.fromBufferAttribute(t,T),u.fromBufferAttribute(t,A),g.subVectors(u,a),y.subVectors(i,a),g.cross(y),c.fromBufferAttribute(n,E),d.fromBufferAttribute(n,T),p.fromBufferAttribute(n,A),c.add(g),d.add(g),p.add(g),n.setXYZ(E,c.x,c.y,c.z),n.setXYZ(T,d.x,d.y,d.z),n.setXYZ(A,p.x,p.y,p.z)}else for(let _=0,x=t.count;_<x;_+=3)i.fromBufferAttribute(t,_+0),a.fromBufferAttribute(t,_+1),u.fromBufferAttribute(t,_+2),g.subVectors(u,a),y.subVectors(i,a),g.cross(y),n.setXYZ(_+0,g.x,g.y,g.z),n.setXYZ(_+1,g.x,g.y,g.z),n.setXYZ(_+2,g.x,g.y,g.z);this.normalizeNormals(),n.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)Mr.fromBufferAttribute(e,t),Mr.normalize(),e.setXYZ(t,Mr.x,Mr.y,Mr.z)}toNonIndexed(){function e(c,d){const p=c.array,g=c.itemSize,y=c.normalized,_=new p.constructor(d.length*g);let x=0,E=0;for(let T=0,A=d.length;T<A;T++){c.isInterleavedBufferAttribute?x=d[T]*c.data.stride+c.offset:x=d[T]*g;for(let M=0;M<g;M++)_[E++]=p[x++]}return new zn(_,g,y)}if(this.index===null)return gt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new jt,n=this.index.array,i=this.attributes;for(const c in i){const d=i[c],p=e(d,n);t.setAttribute(c,p)}const a=this.morphAttributes;for(const c in a){const d=[],p=a[c];for(let g=0,y=p.length;g<y;g++){const _=p[g],x=e(_,n);d.push(x)}t.morphAttributes[c]=d}t.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let c=0,d=u.length;c<d;c++){const p=u[c];t.addGroup(p.start,p.count,p.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const d=this.parameters;for(const p in d)d[p]!==void 0&&(e[p]=d[p]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const d in n){const p=n[d];e.data.attributes[d]=p.toJSON(e.data)}const i={};let a=!1;for(const d in this.morphAttributes){const p=this.morphAttributes[d],g=[];for(let y=0,_=p.length;y<_;y++){const x=p[y];g.push(x.toJSON(e.data))}g.length>0&&(i[d]=g,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const c=this.boundingSphere;return c!==null&&(e.data.boundingSphere=c.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;n!==null&&this.setIndex(n.clone());const i=e.attributes;for(const p in i){const g=i[p];this.setAttribute(p,g.clone(t))}const a=e.morphAttributes;for(const p in a){const g=[],y=a[p];for(let _=0,x=y.length;_<x;_++)g.push(y[_].clone(t));this.morphAttributes[p]=g}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let p=0,g=u.length;p<g;p++){const y=u[p];this.addGroup(y.start,y.count,y.materialIndex)}const c=e.boundingBox;c!==null&&(this.boundingBox=c.clone());const d=e.boundingSphere;return d!==null&&(this.boundingSphere=d.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const iA=new Xt,Kf=new Ph,r_=new mr,rA=new X,s_=new X,a_=new X,o_=new X,ES=new X,l_=new X,sA=new X,u_=new X;class Qi extends Nn{constructor(e=new jt,t=new nf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=i.length;a<u;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}getVertexPosition(e,t){const n=this.geometry,i=n.attributes.position,a=n.morphAttributes.position,u=n.morphTargetsRelative;t.fromBufferAttribute(i,e);const c=this.morphTargetInfluences;if(a&&c){l_.set(0,0,0);for(let d=0,p=a.length;d<p;d++){const g=c[d],y=a[d];g!==0&&(ES.fromBufferAttribute(y,e),u?l_.addScaledVector(ES,g):l_.addScaledVector(ES.sub(t),g))}t.add(l_)}return t}raycast(e,t){const n=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(n.boundingSphere===null&&n.computeBoundingSphere(),r_.copy(n.boundingSphere),r_.applyMatrix4(a),Kf.copy(e.ray).recast(e.near),!(r_.containsPoint(Kf.origin)===!1&&(Kf.intersectSphere(r_,rA)===null||Kf.origin.distanceToSquared(rA)>(e.far-e.near)**2))&&(iA.copy(a).invert(),Kf.copy(e.ray).applyMatrix4(iA),!(n.boundingBox!==null&&Kf.intersectsBox(n.boundingBox)===!1)&&this._computeIntersections(e,t,Kf)))}_computeIntersections(e,t,n){let i;const a=this.geometry,u=this.material,c=a.index,d=a.attributes.position,p=a.attributes.uv,g=a.attributes.uv1,y=a.attributes.normal,_=a.groups,x=a.drawRange;if(c!==null)if(Array.isArray(u))for(let E=0,T=_.length;E<T;E++){const A=_[E],M=u[A.materialIndex],R=Math.max(A.start,x.start),D=Math.min(c.count,Math.min(A.start+A.count,x.start+x.count));for(let L=R,P=D;L<P;L+=3){const z=c.getX(L),B=c.getX(L+1),k=c.getX(L+2);i=c_(this,M,e,n,p,g,y,z,B,k),i&&(i.faceIndex=Math.floor(L/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const E=Math.max(0,x.start),T=Math.min(c.count,x.start+x.count);for(let A=E,M=T;A<M;A+=3){const R=c.getX(A),D=c.getX(A+1),L=c.getX(A+2);i=c_(this,u,e,n,p,g,y,R,D,L),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}else if(d!==void 0)if(Array.isArray(u))for(let E=0,T=_.length;E<T;E++){const A=_[E],M=u[A.materialIndex],R=Math.max(A.start,x.start),D=Math.min(d.count,Math.min(A.start+A.count,x.start+x.count));for(let L=R,P=D;L<P;L+=3){const z=L,B=L+1,k=L+2;i=c_(this,M,e,n,p,g,y,z,B,k),i&&(i.faceIndex=Math.floor(L/3),i.face.materialIndex=A.materialIndex,t.push(i))}}else{const E=Math.max(0,x.start),T=Math.min(d.count,x.start+x.count);for(let A=E,M=T;A<M;A+=3){const R=A,D=A+1,L=A+2;i=c_(this,u,e,n,p,g,y,R,D,L),i&&(i.faceIndex=Math.floor(A/3),t.push(i))}}}}function _U(r,e,t,n,i,a,u,c){let d;if(e.side===Cs?d=n.intersectTriangle(u,a,i,!0,c):d=n.intersectTriangle(i,a,u,e.side===zu,c),d===null)return null;u_.copy(c),u_.applyMatrix4(r.matrixWorld);const p=t.ray.origin.distanceTo(u_);return p<t.near||p>t.far?null:{distance:p,point:u_.clone(),object:r}}function c_(r,e,t,n,i,a,u,c,d,p){r.getVertexPosition(c,s_),r.getVertexPosition(d,a_),r.getVertexPosition(p,o_);const g=_U(r,e,t,n,s_,a_,o_,sA);if(g){const y=new X;Qs.getBarycoord(sA,s_,a_,o_,y),i&&(g.uv=Qs.getInterpolatedAttribute(i,c,d,p,y,new Ve)),a&&(g.uv1=Qs.getInterpolatedAttribute(a,c,d,p,y,new Ve)),u&&(g.normal=Qs.getInterpolatedAttribute(u,c,d,p,y,new X),g.normal.dot(n.direction)>0&&g.normal.multiplyScalar(-1));const _={a:c,b:d,c:p,normal:new X,materialIndex:0};Qs.getNormal(s_,a_,o_,_.normal),g.face=_,g.barycoord=y}return g}class Uh extends jt{constructor(e=1,t=1,n=1,i=1,a=1,u=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:i,heightSegments:a,depthSegments:u};const c=this;i=Math.floor(i),a=Math.floor(a),u=Math.floor(u);const d=[],p=[],g=[],y=[];let _=0,x=0;E("z","y","x",-1,-1,n,t,e,u,a,0),E("z","y","x",1,-1,n,t,-e,u,a,1),E("x","z","y",1,1,e,n,t,i,u,2),E("x","z","y",1,-1,e,n,-t,i,u,3),E("x","y","z",1,-1,e,t,n,i,a,4),E("x","y","z",-1,-1,e,t,-n,i,a,5),this.setIndex(d),this.setAttribute("position",new bt(p,3)),this.setAttribute("normal",new bt(g,3)),this.setAttribute("uv",new bt(y,2));function E(T,A,M,R,D,L,P,z,B,k,I){const O=L/B,W=P/k,ee=L/2,Q=P/2,fe=z/2,ue=B+1,Z=k+1;let J=0,he=0;const Pe=new X;for(let Ue=0;Ue<Z;Ue++){const j=Ue*W-Q;for(let le=0;le<ue;le++){const Re=le*O-ee;Pe[T]=Re*R,Pe[A]=j*D,Pe[M]=fe,p.push(Pe.x,Pe.y,Pe.z),Pe[T]=0,Pe[A]=0,Pe[M]=z>0?1:-1,g.push(Pe.x,Pe.y,Pe.z),y.push(le/B),y.push(1-Ue/k),J+=1}}for(let Ue=0;Ue<k;Ue++)for(let j=0;j<B;j++){const le=_+j+ue*Ue,Re=_+j+ue*(Ue+1),ze=_+(j+1)+ue*(Ue+1),rt=_+(j+1)+ue*Ue;d.push(le,Re,rt),d.push(Re,ze,rt),he+=6}c.addGroup(x,he,I),x+=he,_+=J}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function zp(r){const e={};for(const t in r){e[t]={};for(const n in r[t]){const i=r[t][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(gt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][n]=null):e[t][n]=i.clone():Array.isArray(i)?e[t][n]=i.slice():e[t][n]=i}}return e}function Ss(r){const e={};for(let t=0;t<r.length;t++){const n=zp(r[t]);for(const i in n)e[i]=n[i]}return e}function xU(r){const e=[];for(let t=0;t<r.length;t++)e.push(r[t].clone());return e}function NR(r){const e=r.getRenderTarget();return e===null?r.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Mn.workingColorSpace}const eb={clone:zp,merge:Ss};var bU=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,SU=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ta extends ss{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=bU,this.fragmentShader=SU,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=zp(e.uniforms),this.uniformsGroups=xU(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const u=this.uniforms[i].value;u&&u.isTexture?t.uniforms[i]={type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?t.uniforms[i]={type:"c",value:u.getHex()}:u&&u.isVector2?t.uniforms[i]={type:"v2",value:u.toArray()}:u&&u.isVector3?t.uniforms[i]={type:"v3",value:u.toArray()}:u&&u.isVector4?t.uniforms[i]={type:"v4",value:u.toArray()}:u&&u.isMatrix3?t.uniforms[i]={type:"m3",value:u.toArray()}:u&&u.isMatrix4?t.uniforms[i]={type:"m4",value:u.toArray()}:t.uniforms[i]={value:u}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const n={};for(const i in this.extensions)this.extensions[i]===!0&&(n[i]=!0);return Object.keys(n).length>0&&(t.extensions=n),t}}class zb extends Nn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Xt,this.projectionMatrix=new Xt,this.projectionMatrixInverse=new Xt,this.coordinateSystem=va,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Pc=new X,aA=new Ve,oA=new Ve;class Ki extends zb{constructor(e=50,t=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Pp*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Mh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Pp*2*Math.atan(Math.tan(Mh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,n){Pc.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(Pc.x,Pc.y).multiplyScalar(-e/Pc.z),Pc.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Pc.x,Pc.y).multiplyScalar(-e/Pc.z)}getViewSize(e,t){return this.getViewBounds(e,aA,oA),t.subVectors(oA,aA)}setViewOffset(e,t,n,i,a,u){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Mh*.5*this.fov)/this.zoom,n=2*t,i=this.aspect*n,a=-.5*i;const u=this.view;if(this.view!==null&&this.view.enabled){const d=u.fullWidth,p=u.fullHeight;a+=u.offsetX*i/d,t-=u.offsetY*n/p,i*=u.width/d,n*=u.height/p}const c=this.filmOffset;c!==0&&(a+=e*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,t,t-n,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const ip=-90,rp=1;class LR extends Nn{constructor(e,t,n){super(),this.type="CubeCamera",this.renderTarget=n,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ki(ip,rp,e,t);i.layers=this.layers,this.add(i);const a=new Ki(ip,rp,e,t);a.layers=this.layers,this.add(a);const u=new Ki(ip,rp,e,t);u.layers=this.layers,this.add(u);const c=new Ki(ip,rp,e,t);c.layers=this.layers,this.add(c);const d=new Ki(ip,rp,e,t);d.layers=this.layers,this.add(d);const p=new Ki(ip,rp,e,t);p.layers=this.layers,this.add(p)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[n,i,a,u,c,d]=t;for(const p of t)this.remove(p);if(e===va)n.up.set(0,1,0),n.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),u.up.set(0,0,1),u.lookAt(0,-1,0),c.up.set(0,1,0),c.lookAt(0,0,1),d.up.set(0,1,0),d.lookAt(0,0,-1);else if(e===Op)n.up.set(0,-1,0),n.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),u.up.set(0,0,-1),u.lookAt(0,-1,0),c.up.set(0,-1,0),c.lookAt(0,0,1),d.up.set(0,-1,0),d.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const p of t)this.add(p),p.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:n,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,u,c,d,p,g]=this.children,y=e.getRenderTarget(),_=e.getActiveCubeFace(),x=e.getActiveMipmapLevel(),E=e.xr.enabled;e.xr.enabled=!1;const T=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0,i),e.render(t,a),e.setRenderTarget(n,1,i),e.render(t,u),e.setRenderTarget(n,2,i),e.render(t,c),e.setRenderTarget(n,3,i),e.render(t,d),e.setRenderTarget(n,4,i),e.render(t,p),n.texture.generateMipmaps=T,e.setRenderTarget(n,5,i),e.render(t,g),e.setRenderTarget(y,_,x),e.xr.enabled=E,n.texture.needsPMREMUpdate=!0}}class J0 extends Bi{constructor(e=[],t=Ll,n,i,a,u,c,d,p,g){super(e,t,n,i,a,u,c,d,p,g),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class XE extends Sa{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const n={width:e,height:e,depth:1},i=[n,n,n,n,n,n];this.texture=new J0(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Uh(5,5,5),a=new Ta({name:"CubemapFromEquirect",uniforms:zp(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:Cs,blending:Cl});a.uniforms.tEquirect.value=t;const u=new Qi(i,a),c=t.minFilter;return t.minFilter===Tl&&(t.minFilter=di),new LR(1,10,this).update(e,u),t.minFilter=c,u.geometry.dispose(),u.material.dispose(),this}clear(e,t=!0,n=!0,i=!0){const a=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(t,n,i);e.setRenderTarget(a)}}class Mp extends Nn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const MU={type:"move"};class Q_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mp,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mp,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new X,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new X),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mp,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new X,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new X),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const n of e.hand.values())this._getHandJoint(t,n)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,n){let i=null,a=null,u=null;const c=this._targetRay,d=this._grip,p=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(p&&e.hand){u=!0;for(const T of e.hand.values()){const A=t.getJointPose(T,n),M=this._getHandJoint(p,T);A!==null&&(M.matrix.fromArray(A.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),M.matrixWorldNeedsUpdate=!0,M.jointRadius=A.radius),M.visible=A!==null}const g=p.joints["index-finger-tip"],y=p.joints["thumb-tip"],_=g.position.distanceTo(y.position),x=.02,E=.005;p.inputState.pinching&&_>x+E?(p.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!p.inputState.pinching&&_<=x-E&&(p.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else d!==null&&e.gripSpace&&(a=t.getPose(e.gripSpace,n),a!==null&&(d.matrix.fromArray(a.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,a.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(a.linearVelocity)):d.hasLinearVelocity=!1,a.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(a.angularVelocity)):d.hasAngularVelocity=!1));c!==null&&(i=t.getPose(e.targetRaySpace,n),i===null&&a!==null&&(i=a),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),c.matrixWorldNeedsUpdate=!0,i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1,this.dispatchEvent(MU)))}return c!==null&&(c.visible=i!==null),d!==null&&(d.visible=a!==null),p!==null&&(p.visible=u!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const n=new Mp;n.matrixAutoUpdate=!1,n.visible=!1,e.joints[t.jointName]=n,e.add(n)}return e.joints[t.jointName]}}class Fb{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new xt(e),this.density=t}clone(){return new Fb(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Bb{constructor(e,t=1,n=1e3){this.isFog=!0,this.name="",this.color=new xt(e),this.near=t,this.far=n}clone(){return new Bb(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class jE extends Nn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Ea,this.environmentIntensity=1,this.environmentRotation=new Ea,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class kb{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=w0,this.updateRanges=[],this.version=0,this.uuid=ba()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,n){e*=this.stride,n*=t.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=t.array[n+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ba()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=ba()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const bs=new X;class ya{constructor(e,t,n,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,n=this.data.count;t<n;t++)bs.fromBufferAttribute(this,t),bs.applyMatrix4(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}applyNormalMatrix(e){for(let t=0,n=this.count;t<n;t++)bs.fromBufferAttribute(this,t),bs.applyNormalMatrix(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}transformDirection(e){for(let t=0,n=this.count;t<n;t++)bs.fromBufferAttribute(this,t),bs.transformDirection(e),this.setXYZ(t,bs.x,bs.y,bs.z);return this}getComponent(e,t){let n=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(n=Ts(n,this.array)),n}setComponent(e,t,n){return this.normalized&&(n=ln(n,this.array)),this.data.array[e*this.data.stride+this.offset+t]=n,this}setX(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ln(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Ts(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Ts(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Ts(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Ts(t,this.array)),t}setXY(e,t,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this}setXYZ(e,t,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array),i=ln(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this}setXYZW(e,t,n,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(t=ln(t,this.array),n=ln(n,this.array),i=ln(i,this.array),a=ln(a,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){C0("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return new zn(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new ya(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){C0("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let n=0;n<this.count;n++){const i=n*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)t.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class rf extends ss{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let sp;const Ug=new X,ap=new X,op=new X,lp=new Ve,zg=new Ve,OR=new Xt,f_=new X,Fg=new X,h_=new X,lA=new Ve,TS=new Ve,uA=new Ve;class zh extends Nn{constructor(e=new rf){if(super(),this.isSprite=!0,this.type="Sprite",sp===void 0){sp=new jt;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),n=new kb(t,5);sp.setIndex([0,1,2,0,2,3]),sp.setAttribute("position",new ya(n,3,0,!1)),sp.setAttribute("uv",new ya(n,2,3,!1))}this.geometry=sp,this.material=e,this.center=new Ve(.5,.5),this.count=1}raycast(e,t){e.camera===null&&Ot('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ap.setFromMatrixScale(this.matrixWorld),OR.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),op.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ap.multiplyScalar(-op.z);const n=this.material.rotation;let i,a;n!==0&&(a=Math.cos(n),i=Math.sin(n));const u=this.center;d_(f_.set(-.5,-.5,0),op,u,ap,i,a),d_(Fg.set(.5,-.5,0),op,u,ap,i,a),d_(h_.set(.5,.5,0),op,u,ap,i,a),lA.set(0,0),TS.set(1,0),uA.set(1,1);let c=e.ray.intersectTriangle(f_,Fg,h_,!1,Ug);if(c===null&&(d_(Fg.set(-.5,.5,0),op,u,ap,i,a),TS.set(0,1),c=e.ray.intersectTriangle(f_,h_,Fg,!1,Ug),c===null))return;const d=e.ray.origin.distanceTo(Ug);d<e.near||d>e.far||t.push({distance:d,point:Ug.clone(),uv:Qs.getInterpolation(Ug,f_,Fg,h_,lA,TS,uA,new Ve),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function d_(r,e,t,n,i,a){lp.subVectors(r,t).addScalar(.5).multiply(n),i!==void 0?(zg.x=a*lp.x-i*lp.y,zg.y=i*lp.x+a*lp.y):zg.copy(lp),r.copy(e),r.x+=zg.x,r.y+=zg.y,r.applyMatrix4(OR)}const p_=new X,cA=new X;class IR extends Nn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let n=0,i=t.length;n<i;n++){const a=t[n];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,n=0){t=Math.abs(t);const i=this.levels;let a;for(a=0;a<i.length&&!(t<i[a].distance);a++);return i.splice(a,0,{distance:t,hysteresis:n,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let n=0;n<t.length;n++)if(t[n].distance===e){const i=t.splice(n,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let n,i;for(n=1,i=t.length;n<i;n++){let a=t[n].distance;if(t[n].object.visible&&(a-=a*t[n].hysteresis),e<a)break}return t[n-1].object}return null}raycast(e,t){if(this.levels.length>0){p_.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(p_);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){p_.setFromMatrixPosition(e.matrixWorld),cA.setFromMatrixPosition(this.matrixWorld);const n=p_.distanceTo(cA)/e.zoom;t[0].object.visible=!0;let i,a;for(i=1,a=t.length;i<a;i++){let u=t[i].distance;if(t[i].object.visible&&(u-=u*t[i].hysteresis),n>=u)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let i=0,a=n.length;i<a;i++){const u=n[i];t.object.levels.push({object:u.object.uuid,distance:u.distance,hysteresis:u.hysteresis})}return t}}const fA=new X,hA=new Dn,dA=new Dn,EU=new X,pA=new Xt,m_=new X,wS=new mr,mA=new Xt,AS=new Ph;class PR extends Qi{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=AM,this.bindMatrix=new Xt,this.bindMatrixInverse=new Xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new pr),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,m_),this.boundingBox.expandByPoint(m_)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new mr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let n=0;n<t.count;n++)this.getVertexPosition(n,m_),this.boundingSphere.expandByPoint(m_)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const n=this.material,i=this.matrixWorld;n!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),wS.copy(this.boundingSphere),wS.applyMatrix4(i),e.ray.intersectsSphere(wS)!==!1&&(mA.copy(i).invert(),AS.copy(e.ray).applyMatrix4(mA),!(this.boundingBox!==null&&AS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,AS)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Dn,t=this.geometry.attributes.skinWeight;for(let n=0,i=t.count;n<i;n++){e.fromBufferAttribute(t,n);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===AM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===dR?this.bindMatrixInverse.copy(this.bindMatrix).invert():gt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const n=this.skeleton,i=this.geometry;hA.fromBufferAttribute(i.attributes.skinIndex,e),dA.fromBufferAttribute(i.attributes.skinWeight,e),fA.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let a=0;a<4;a++){const u=dA.getComponent(a);if(u!==0){const c=hA.getComponent(a);pA.multiplyMatrices(n.bones[c].matrixWorld,n.boneInverses[c]),t.addScaledVector(EU.copy(fA).applyMatrix4(pA),u)}}return t.applyMatrix4(this.bindMatrixInverse)}}class qE extends Nn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Po extends Bi{constructor(e=null,t=1,n=1,i,a,u,c,d,p=$i,g=$i,y,_){super(null,u,c,d,p,g,i,a,y,_),this.isDataTexture=!0,this.image={data:e,width:t,height:n},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const gA=new Xt,TU=new Xt;class Vb{constructor(e=[],t=[]){this.uuid=ba(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){gt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const n=new Xt;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const n=this.bones[e];n&&(n.parent&&n.parent.isBone?(n.matrix.copy(n.parent.matrixWorld).invert(),n.matrix.multiply(n.matrixWorld)):n.matrix.copy(n.matrixWorld),n.matrix.decompose(n.position,n.quaternion,n.scale))}}update(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,i=this.boneTexture;for(let a=0,u=e.length;a<u;a++){const c=e[a]?e[a].matrixWorld:TU;gA.multiplyMatrices(c,t[a]),gA.toArray(n,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Vb(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const n=new Po(t,e,e,ns,As);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this}getBoneByName(e){for(let t=0,n=this.bones.length;t<n;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let n=0,i=e.bones.length;n<i;n++){const a=e.bones[n];let u=t[a];u===void 0&&(gt("Skeleton: No bone found with UUID:",a),u=new qE),this.bones.push(u),this.boneInverses.push(new Xt().fromArray(e.boneInverses[n]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,n=this.boneInverses;for(let i=0,a=t.length;i<a;i++){const u=t[i];e.bones.push(u.uuid);const c=n[i];e.boneInverses.push(c.toArray())}return e}}class Fp extends zn{constructor(e,t,n,i=1){super(e,t,n),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const up=new Xt,vA=new Xt,g_=[],yA=new pr,wU=new Xt,Bg=new Qi,kg=new mr;class UR extends Qi{constructor(e,t,n){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Fp(new Float32Array(n*16),16),this.instanceColor=null,this.morphTexture=null,this.count=n,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<n;i++)this.setMatrixAt(i,wU)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new pr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,up),yA.copy(e.boundingBox).applyMatrix4(up),this.boundingBox.union(yA)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new mr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let n=0;n<t;n++)this.getMatrixAt(n,up),kg.copy(e.boundingSphere).applyMatrix4(up),this.boundingSphere.union(kg)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const n=t.morphTargetInfluences,i=this.morphTexture.source.data.data,a=n.length+1,u=e*a+1;for(let c=0;c<n.length;c++)n[c]=i[u+c]}raycast(e,t){const n=this.matrixWorld,i=this.count;if(Bg.geometry=this.geometry,Bg.material=this.material,Bg.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),kg.copy(this.boundingSphere),kg.applyMatrix4(n),e.ray.intersectsSphere(kg)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,up),vA.multiplyMatrices(n,up),Bg.matrixWorld=vA,Bg.raycast(e,g_);for(let u=0,c=g_.length;u<c;u++){const d=g_[u];d.instanceId=a,d.object=this,t.push(d)}g_.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Fp(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const n=t.morphTargetInfluences,i=n.length+1;this.morphTexture===null&&(this.morphTexture=new Po(new Float32Array(i*this.count),i,this.count,Rb,As));const a=this.morphTexture.source.data.data;let u=0;for(let p=0;p<n.length;p++)u+=n[p];const c=this.geometry.morphTargetsRelative?1:1-u,d=i*e;a[d]=c,a.set(n,d+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const CS=new X,AU=new X,CU=new nn;class Au{constructor(e=new X(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,i){return this.normal.set(e,t,n),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const i=CS.subVectors(n,t).cross(AU.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const n=e.delta(CS),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:t.copy(e.start).addScaledVector(n,a)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||CU.getNormalMatrix(e),i=this.coplanarPoint(CS).applyMatrix4(e),a=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $f=new mr,RU=new Ve(.5,.5),v_=new X;class $p{constructor(e=new Au,t=new Au,n=new Au,i=new Au,a=new Au,u=new Au){this.planes=[e,t,n,i,a,u]}set(e,t,n,i,a,u){const c=this.planes;return c[0].copy(e),c[1].copy(t),c[2].copy(n),c[3].copy(i),c[4].copy(a),c[5].copy(u),this}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e,t=va,n=!1){const i=this.planes,a=e.elements,u=a[0],c=a[1],d=a[2],p=a[3],g=a[4],y=a[5],_=a[6],x=a[7],E=a[8],T=a[9],A=a[10],M=a[11],R=a[12],D=a[13],L=a[14],P=a[15];if(i[0].setComponents(p-u,x-g,M-E,P-R).normalize(),i[1].setComponents(p+u,x+g,M+E,P+R).normalize(),i[2].setComponents(p+c,x+y,M+T,P+D).normalize(),i[3].setComponents(p-c,x-y,M-T,P-D).normalize(),n)i[4].setComponents(d,_,A,L).normalize(),i[5].setComponents(p-d,x-_,M-A,P-L).normalize();else if(i[4].setComponents(p-d,x-_,M-A,P-L).normalize(),t===va)i[5].setComponents(p+d,x+_,M+A,P+L).normalize();else if(t===Op)i[5].setComponents(d,_,A,L).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),$f.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),$f.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere($f)}intersectsSprite(e){$f.center.set(0,0,0);const t=RU.distanceTo(e.center);return $f.radius=.7071067811865476+t,$f.applyMatrix4(e.matrixWorld),this.intersectsSphere($f)}intersectsSphere(e){const t=this.planes,n=e.center,i=-e.radius;for(let a=0;a<6;a++)if(t[a].distanceToPoint(n)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const i=t[n];if(v_.x=i.normal.x>0?e.max.x:e.min.x,v_.y=i.normal.y>0?e.max.y:e.min.y,v_.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(v_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const vl=new Xt,yl=new $p;class Hb{constructor(){this.coordinateSystem=va}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),yl.setFromProjectionMatrix(vl,i.coordinateSystem,i.reversedDepth),yl.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),yl.setFromProjectionMatrix(vl,i.coordinateSystem,i.reversedDepth),yl.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),yl.setFromProjectionMatrix(vl,i.coordinateSystem,i.reversedDepth),yl.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),yl.setFromProjectionMatrix(vl,i.coordinateSystem,i.reversedDepth),yl.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let n=0;n<t.cameras.length;n++){const i=t.cameras[n];if(vl.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),yl.setFromProjectionMatrix(vl,i.coordinateSystem,i.reversedDepth),yl.containsPoint(e))return!0}return!1}clone(){return new Hb}}function RS(r,e){return r-e}function DU(r,e){return r.z-e.z}function NU(r,e){return e.z-r.z}class LU{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,n,i){const a=this.pool,u=this.list;this.index>=a.length&&a.push({start:-1,count:-1,z:-1,index:-1});const c=a[this.index];u.push(c),this.index++,c.start=e,c.count=t,c.z=n,c.index=i}reset(){this.list.length=0,this.index=0}}const Zs=new Xt,OU=new xt(1,1,1),_A=new $p,IU=new Hb,y_=new pr,Qf=new mr,Vg=new X,xA=new X,PU=new X,DS=new LU,Jr=new Qi,__=[];function UU(r,e,t=0){const n=e.itemSize;if(r.isInterleavedBufferAttribute||r.array.constructor!==e.array.constructor){const i=r.count;for(let a=0;a<i;a++)for(let u=0;u<n;u++)e.setComponent(a+t,u,r.getComponent(a,u))}else e.array.set(r.array,t*n);e.needsUpdate=!0}function Jf(r,e){if(r.constructor!==e.constructor){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++)e[n]=r[n]}else{const t=Math.min(r.length,e.length);e.set(new r.constructor(r.buffer,0,t))}}class zR extends Qi{constructor(e,t,n=t*2,i){super(new jt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=n,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),n=new Po(t,e,e,ns,As);this._matricesTexture=n}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),n=new Po(t,e,e,Q0,ro);this._indirectTexture=n}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),n=new Po(t,e,e,ns,As);n.colorSpace=Mn.workingColorSpace,this._colorsTexture=n}_initializeGeometry(e){const t=this.geometry,n=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const u=e.getAttribute(a),{array:c,itemSize:d,normalized:p}=u,g=new c.constructor(n*d),y=new zn(g,d,p);t.setAttribute(a,y)}if(e.getIndex()!==null){const a=n>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new zn(a,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const n in t.attributes){if(!e.hasAttribute(n))throw new Error(`THREE.BatchedMesh: Added geometry missing "${n}". All geometries must have consistent attributes.`);const i=e.getAttribute(n),a=t.getAttribute(n);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pr);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Zs),this.getBoundingBoxAt(a,y_).applyMatrix4(Zs),e.union(y_)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mr);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let n=0,i=t.length;n<i;n++){if(t[n].active===!1)continue;const a=t[n].geometryIndex;this.getMatrixAt(n,Zs),this.getBoundingSphereAt(a,Qf).applyMatrix4(Zs),e.union(Qf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const n={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(RS),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=n):(i=this._instanceInfo.length,this._instanceInfo.push(n));const a=this._matricesTexture;Zs.identity().toArray(a.image.data,i*16),a.needsUpdate=!0;const u=this._colorsTexture;return u&&(OU.toArray(u.image.data,i*4),u.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,n=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},a=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const u=e.getIndex();if(u!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=n===-1?u.count:n),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let d;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(RS),d=this._availableGeometryIds.shift(),a[d]=i):(d=this._geometryCount,this._geometryCount++,a.push(i)),this.setGeometryAt(d,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,d}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const n=this.geometry,i=n.getIndex()!==null,a=n.getIndex(),u=t.getIndex(),c=this._geometryInfo[e];if(i&&u.count>c.reservedIndexCount||t.attributes.position.count>c.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const d=c.vertexStart,p=c.reservedVertexCount;c.vertexCount=t.getAttribute("position").count;for(const g in n.attributes){const y=t.getAttribute(g),_=n.getAttribute(g);UU(y,_,d);const x=y.itemSize;for(let E=y.count,T=p;E<T;E++){const A=d+E;for(let M=0;M<x;M++)_.setComponent(A,M,0)}_.needsUpdate=!0,_.addUpdateRange(d*x,p*x)}if(i){const g=c.indexStart,y=c.reservedIndexCount;c.indexCount=t.getIndex().count;for(let _=0;_<u.count;_++)a.setX(g+_,d+u.getX(_));for(let _=u.count,x=y;_<x;_++)a.setX(g+_,d);a.needsUpdate=!0,a.addUpdateRange(g,c.reservedIndexCount)}return c.start=i?c.indexStart:c.vertexStart,c.count=i?c.indexCount:c.vertexCount,c.boundingBox=null,t.boundingBox!==null&&(c.boundingBox=t.boundingBox.clone()),c.boundingSphere=null,t.boundingSphere!==null&&(c.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const n=this._instanceInfo;for(let i=0,a=n.length;i<a;i++)n[i].active&&n[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const n=this._geometryInfo,i=n.map((u,c)=>c).sort((u,c)=>n[u].vertexStart-n[c].vertexStart),a=this.geometry;for(let u=0,c=n.length;u<c;u++){const d=i[u],p=n[d];if(p.active!==!1){if(a.index!==null){if(p.indexStart!==t){const{indexStart:g,vertexStart:y,reservedIndexCount:_}=p,x=a.index,E=x.array,T=e-y;for(let A=g;A<g+_;A++)E[A]=E[A]+T;x.array.copyWithin(t,g,g+_),x.addUpdateRange(t,_),x.needsUpdate=!0,p.indexStart=t}t+=p.reservedIndexCount}if(p.vertexStart!==e){const{vertexStart:g,reservedVertexCount:y}=p,_=a.attributes;for(const x in _){const E=_[x],{array:T,itemSize:A}=E;T.copyWithin(e*A,g*A,(g+y)*A),E.addUpdateRange(e*A,y*A),E.needsUpdate=!0}p.vertexStart=e}e+=p.reservedVertexCount,p.start=a.index?p.indexStart:p.vertexStart,this._nextIndexStart=a.index?p.indexStart+p.reservedIndexCount:0,this._nextVertexStart=p.vertexStart+p.reservedVertexCount}}return this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const a=new pr,u=n.index,c=n.attributes.position;for(let d=i.start,p=i.start+i.count;d<p;d++){let g=d;u&&(g=u.getX(g)),a.expandByPoint(Vg.fromBufferAttribute(c,g))}i.boundingBox=a}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const n=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const a=new mr;this.getBoundingBoxAt(e,y_),y_.getCenter(a.center);const u=n.index,c=n.attributes.position;let d=0;for(let p=i.start,g=i.start+i.count;p<g;p++){let y=p;u&&(y=u.getX(y)),Vg.fromBufferAttribute(c,y),d=Math.max(d,a.center.distanceToSquared(Vg))}a.radius=Math.sqrt(d),i.boundingSphere=a}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const n=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),n.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const n=this._geometryInfo[e];return t.vertexStart=n.vertexStart,t.vertexCount=n.vertexCount,t.reservedVertexCount=n.reservedVertexCount,t.indexStart=n.indexStart,t.indexCount=n.indexCount,t.reservedIndexCount=n.reservedIndexCount,t.start=n.start,t.count=n.count,t}setInstanceCount(e){const t=this._availableInstanceIds,n=this._instanceInfo;for(t.sort(RS);t[t.length-1]===n.length-1;)n.pop(),t.pop();if(e<n.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),a=new Int32Array(e);Jf(this._multiDrawCounts,i),Jf(this._multiDrawStarts,a),this._multiDrawCounts=i,this._multiDrawStarts=a,this._maxInstanceCount=e;const u=this._indirectTexture,c=this._matricesTexture,d=this._colorsTexture;u.dispose(),this._initIndirectTexture(),Jf(u.image.data,this._indirectTexture.image.data),c.dispose(),this._initMatricesTexture(),Jf(c.image.data,this._matricesTexture.image.data),d&&(d.dispose(),this._initColorsTexture(),Jf(d.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const n=[...this._geometryInfo].filter(c=>c.active);if(Math.max(...n.map(c=>c.vertexStart+c.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...n.map(d=>d.indexStart+d.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const a=this.geometry;a.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new jt,this._initializeGeometry(a));const u=this.geometry;a.index&&Jf(a.index.array,u.index.array);for(const c in a.attributes)Jf(a.attributes[c].array,u.attributes[c].array)}raycast(e,t){const n=this._instanceInfo,i=this._geometryInfo,a=this.matrixWorld,u=this.geometry;Jr.material=this.material,Jr.geometry.index=u.index,Jr.geometry.attributes=u.attributes,Jr.geometry.boundingBox===null&&(Jr.geometry.boundingBox=new pr),Jr.geometry.boundingSphere===null&&(Jr.geometry.boundingSphere=new mr);for(let c=0,d=n.length;c<d;c++){if(!n[c].visible||!n[c].active)continue;const p=n[c].geometryIndex,g=i[p];Jr.geometry.setDrawRange(g.start,g.count),this.getMatrixAt(c,Jr.matrixWorld).premultiply(a),this.getBoundingBoxAt(p,Jr.geometry.boundingBox),this.getBoundingSphereAt(p,Jr.geometry.boundingSphere),Jr.raycast(e,__);for(let y=0,_=__.length;y<_;y++){const x=__[y];x.object=this,x.batchId=c,t.push(x)}__.length=0}Jr.material=null,Jr.geometry.index=null,Jr.geometry.attributes={},Jr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,n,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const u=i.getIndex(),c=u===null?1:u.array.BYTES_PER_ELEMENT,d=this._instanceInfo,p=this._multiDrawStarts,g=this._multiDrawCounts,y=this._geometryInfo,_=this.perObjectFrustumCulled,x=this._indirectTexture,E=x.image.data,T=n.isArrayCamera?IU:_A;_&&!n.isArrayCamera&&(Zs.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse).multiply(this.matrixWorld),_A.setFromProjectionMatrix(Zs,n.coordinateSystem,n.reversedDepth));let A=0;if(this.sortObjects){Zs.copy(this.matrixWorld).invert(),Vg.setFromMatrixPosition(n.matrixWorld).applyMatrix4(Zs),xA.set(0,0,-1).transformDirection(n.matrixWorld).transformDirection(Zs);for(let D=0,L=d.length;D<L;D++)if(d[D].visible&&d[D].active){const P=d[D].geometryIndex;this.getMatrixAt(D,Zs),this.getBoundingSphereAt(P,Qf).applyMatrix4(Zs);let z=!1;if(_&&(z=!T.intersectsSphere(Qf,n)),!z){const B=y[P],k=PU.subVectors(Qf.center,Vg).dot(xA);DS.push(B.start,B.count,k,D)}}const M=DS.list,R=this.customSort;R===null?M.sort(a.transparent?NU:DU):R.call(this,M,n);for(let D=0,L=M.length;D<L;D++){const P=M[D];p[A]=P.start*c,g[A]=P.count,E[A]=P.index,A++}DS.reset()}else for(let M=0,R=d.length;M<R;M++)if(d[M].visible&&d[M].active){const D=d[M].geometryIndex;let L=!1;if(_&&(this.getMatrixAt(M,Zs),this.getBoundingSphereAt(D,Qf).applyMatrix4(Zs),L=!T.intersectsSphere(Qf,n)),!L){const P=y[D];p[A]=P.start*c,g[A]=P.count,E[A]=M,A++}}x.needsUpdate=!0,this._multiDrawCount=A,this._visibilityChanged=!1}onBeforeShadow(e,t,n,i,a,u){this.onBeforeRender(e,null,i,a,u)}}class Rs extends ss{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new xt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const tb=new X,nb=new X,bA=new Xt,Hg=new Ph,x_=new mr,NS=new X,SA=new X;let Kc=class extends Nn{constructor(e=new jt,t=new Rs){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[0];for(let i=1,a=t.count;i<a;i++)tb.fromBufferAttribute(t,i-1),nb.fromBufferAttribute(t,i),n[i]=n[i-1],n[i]+=tb.distanceTo(nb);e.setAttribute("lineDistance",new bt(n,1))}else gt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,u=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),x_.copy(n.boundingSphere),x_.applyMatrix4(i),x_.radius+=a,e.ray.intersectsSphere(x_)===!1)return;bA.copy(i).invert(),Hg.copy(e.ray).applyMatrix4(bA);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=this.isLineSegments?2:1,g=n.index,_=n.attributes.position;if(g!==null){const x=Math.max(0,u.start),E=Math.min(g.count,u.start+u.count);for(let T=x,A=E-1;T<A;T+=p){const M=g.getX(T),R=g.getX(T+1),D=b_(this,e,Hg,d,M,R,T);D&&t.push(D)}if(this.isLineLoop){const T=g.getX(E-1),A=g.getX(x),M=b_(this,e,Hg,d,T,A,E-1);M&&t.push(M)}}else{const x=Math.max(0,u.start),E=Math.min(_.count,u.start+u.count);for(let T=x,A=E-1;T<A;T+=p){const M=b_(this,e,Hg,d,T,T+1,T);M&&t.push(M)}if(this.isLineLoop){const T=b_(this,e,Hg,d,E-1,x,E-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=i.length;a<u;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}};function b_(r,e,t,n,i,a,u){const c=r.geometry.attributes.position;if(tb.fromBufferAttribute(c,i),nb.fromBufferAttribute(c,a),t.distanceSqToSegment(tb,nb,NS,SA)>n)return;NS.applyMatrix4(r.matrixWorld);const p=e.ray.origin.distanceTo(NS);if(!(p<e.near||p>e.far))return{distance:p,point:SA.clone().applyMatrix4(r.matrixWorld),index:u,face:null,faceIndex:null,barycoord:null,object:r}}const MA=new X,EA=new X;class Fl extends Kc{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,n=[];for(let i=0,a=t.count;i<a;i+=2)MA.fromBufferAttribute(t,i),EA.fromBufferAttribute(t,i+1),n[i]=i===0?0:n[i-1],n[i+1]=n[i]+MA.distanceTo(EA);e.setAttribute("lineDistance",new bt(n,1))}else gt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class FR extends Kc{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class YE extends ss{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new xt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const TA=new Xt,DM=new Ph,S_=new mr,M_=new X;class BR extends Nn{constructor(e=new jt,t=new YE){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const n=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,u=n.drawRange;if(n.boundingSphere===null&&n.computeBoundingSphere(),S_.copy(n.boundingSphere),S_.applyMatrix4(i),S_.radius+=a,e.ray.intersectsSphere(S_)===!1)return;TA.copy(i).invert(),DM.copy(e.ray).applyMatrix4(TA);const c=a/((this.scale.x+this.scale.y+this.scale.z)/3),d=c*c,p=n.index,y=n.attributes.position;if(p!==null){const _=Math.max(0,u.start),x=Math.min(p.count,u.start+u.count);for(let E=_,T=x;E<T;E++){const A=p.getX(E);M_.fromBufferAttribute(y,A),wA(M_,A,d,i,e,t,this)}}else{const _=Math.max(0,u.start),x=Math.min(y.count,u.start+u.count);for(let E=_,T=x;E<T;E++)M_.fromBufferAttribute(y,E),wA(M_,E,d,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,n=Object.keys(t);if(n.length>0){const i=t[n[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=i.length;a<u;a++){const c=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[c]=a}}}}}function wA(r,e,t,n,i,a,u){const c=DM.distanceSqToPoint(r);if(c<t){const d=new X;DM.closestPointToPoint(r,d),d.applyMatrix4(n);const p=i.ray.origin.distanceTo(d);if(p<i.near||p>i.far)return;a.push({distance:p,distanceToRay:Math.sqrt(c),point:d,index:e,face:null,faceIndex:null,barycoord:null,object:u})}}class kR extends Bi{constructor(e,t,n,i,a=di,u=di,c,d,p){super(e,t,n,i,a,u,c,d,p),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const g=this;function y(){g.needsUpdate=!0,g._requestVideoFrameCallbackId=e.requestVideoFrameCallback(y)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(y))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class zU extends kR{constructor(e,t,n,i,a,u,c,d){super({},e,t,n,i,a,u,c,d),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class FU extends Bi{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=$i,this.minFilter=$i,this.generateMipmaps=!1,this.needsUpdate=!0}}class Gb extends Bi{constructor(e,t,n,i,a,u,c,d,p,g,y,_){super(null,u,c,d,p,g,i,a,y,_),this.isCompressedTexture=!0,this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class BU extends Gb{constructor(e,t,n,i,a,u){super(e,t,n,a,u),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Js,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class kU extends Gb{constructor(e,t,n){super(void 0,e[0].width,e[0].height,t,n,Ll),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Qp extends Bi{constructor(e,t,n,i,a,u,c,d,p){super(e,t,n,i,a,u,c,d,p),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Bp extends Bi{constructor(e,t,n=ro,i,a,u,c=$i,d=$i,p,g=Il,y=1){if(g!==Il&&g!==Bc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const _={width:e,height:t,depth:y};super(_,i,a,u,c,d,g,n,p),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new kc(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class VR extends Bp{constructor(e,t=ro,n=Ll,i,a,u=$i,c=$i,d,p=Il){const g={width:e,height:e,depth:1},y=[g,g,g,g,g,g];super(e,e,t,n,i,a,u,c,d,p),this.image=y,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class ZE extends Bi{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class Wb extends jt{constructor(e=1,t=1,n=4,i=8,a=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:n,radialSegments:i,heightSegments:a},t=Math.max(0,t),n=Math.max(1,Math.floor(n)),i=Math.max(3,Math.floor(i)),a=Math.max(1,Math.floor(a));const u=[],c=[],d=[],p=[],g=t/2,y=Math.PI/2*e,_=t,x=2*y+_,E=n*2+a,T=i+1,A=new X,M=new X;for(let R=0;R<=E;R++){let D=0,L=0,P=0,z=0;if(R<=n){const I=R/n,O=I*Math.PI/2;L=-g-e*Math.cos(O),P=e*Math.sin(O),z=-e*Math.cos(O),D=I*y}else if(R<=n+a){const I=(R-n)/a;L=-g+I*t,P=e,z=0,D=y+I*_}else{const I=(R-n-a)/n,O=I*Math.PI/2;L=g+e*Math.sin(O),P=e*Math.cos(O),z=e*Math.sin(O),D=y+_+I*y}const B=Math.max(0,Math.min(1,D/x));let k=0;R===0?k=.5/i:R===E&&(k=-.5/i);for(let I=0;I<=i;I++){const O=I/i,W=O*Math.PI*2,ee=Math.sin(W),Q=Math.cos(W);M.x=-P*Q,M.y=L,M.z=P*ee,c.push(M.x,M.y,M.z),A.set(-P*Q,z,P*ee),A.normalize(),d.push(A.x,A.y,A.z),p.push(O+k,B)}if(R>0){const I=(R-1)*T;for(let O=0;O<i;O++){const W=I+O,ee=I+O+1,Q=R*T+O,fe=R*T+O+1;u.push(W,ee,Q),u.push(ee,fe,Q)}}}this.setIndex(u),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(d,3)),this.setAttribute("uv",new bt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wb(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class Xb extends jt{constructor(e=1,t=32,n=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:i},t=Math.max(3,t);const a=[],u=[],c=[],d=[],p=new X,g=new Ve;u.push(0,0,0),c.push(0,0,1),d.push(.5,.5);for(let y=0,_=3;y<=t;y++,_+=3){const x=n+y/t*i;p.x=e*Math.cos(x),p.y=e*Math.sin(x),u.push(p.x,p.y,p.z),c.push(0,0,1),g.x=(u[_]/e+1)/2,g.y=(u[_+1]/e+1)/2,d.push(g.x,g.y)}for(let y=1;y<=t;y++)a.push(y,y+1,0);this.setIndex(a),this.setAttribute("position",new bt(u,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xb(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ev extends jt{constructor(e=1,t=1,n=1,i=32,a=1,u=!1,c=0,d=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:i,heightSegments:a,openEnded:u,thetaStart:c,thetaLength:d};const p=this;i=Math.floor(i),a=Math.floor(a);const g=[],y=[],_=[],x=[];let E=0;const T=[],A=n/2;let M=0;R(),u===!1&&(e>0&&D(!0),t>0&&D(!1)),this.setIndex(g),this.setAttribute("position",new bt(y,3)),this.setAttribute("normal",new bt(_,3)),this.setAttribute("uv",new bt(x,2));function R(){const L=new X,P=new X;let z=0;const B=(t-e)/n;for(let k=0;k<=a;k++){const I=[],O=k/a,W=O*(t-e)+e;for(let ee=0;ee<=i;ee++){const Q=ee/i,fe=Q*d+c,ue=Math.sin(fe),Z=Math.cos(fe);P.x=W*ue,P.y=-O*n+A,P.z=W*Z,y.push(P.x,P.y,P.z),L.set(ue,B,Z).normalize(),_.push(L.x,L.y,L.z),x.push(Q,1-O),I.push(E++)}T.push(I)}for(let k=0;k<i;k++)for(let I=0;I<a;I++){const O=T[I][k],W=T[I+1][k],ee=T[I+1][k+1],Q=T[I][k+1];(e>0||I!==0)&&(g.push(O,W,Q),z+=3),(t>0||I!==a-1)&&(g.push(W,ee,Q),z+=3)}p.addGroup(M,z,0),M+=z}function D(L){const P=E,z=new Ve,B=new X;let k=0;const I=L===!0?e:t,O=L===!0?1:-1;for(let ee=1;ee<=i;ee++)y.push(0,A*O,0),_.push(0,O,0),x.push(.5,.5),E++;const W=E;for(let ee=0;ee<=i;ee++){const fe=ee/i*d+c,ue=Math.cos(fe),Z=Math.sin(fe);B.x=I*Z,B.y=A*O,B.z=I*ue,y.push(B.x,B.y,B.z),_.push(0,O,0),z.x=ue*.5+.5,z.y=Z*.5*O+.5,x.push(z.x,z.y),E++}for(let ee=0;ee<i;ee++){const Q=P+ee,fe=W+ee;L===!0?g.push(fe,fe+1,Q):g.push(fe+1,fe,Q),k+=3}p.addGroup(M,k,L===!0?1:2),M+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ev(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class tv extends ev{constructor(e=1,t=1,n=32,i=1,a=!1,u=0,c=Math.PI*2){super(0,e,t,n,i,a,u,c),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:i,openEnded:a,thetaStart:u,thetaLength:c}}static fromJSON(e){return new tv(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sf extends jt{constructor(e=[],t=[],n=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:i};const a=[],u=[];c(i),p(n),g(),this.setAttribute("position",new bt(a,3)),this.setAttribute("normal",new bt(a.slice(),3)),this.setAttribute("uv",new bt(u,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function c(R){const D=new X,L=new X,P=new X;for(let z=0;z<t.length;z+=3)x(t[z+0],D),x(t[z+1],L),x(t[z+2],P),d(D,L,P,R)}function d(R,D,L,P){const z=P+1,B=[];for(let k=0;k<=z;k++){B[k]=[];const I=R.clone().lerp(L,k/z),O=D.clone().lerp(L,k/z),W=z-k;for(let ee=0;ee<=W;ee++)ee===0&&k===z?B[k][ee]=I:B[k][ee]=I.clone().lerp(O,ee/W)}for(let k=0;k<z;k++)for(let I=0;I<2*(z-k)-1;I++){const O=Math.floor(I/2);I%2===0?(_(B[k][O+1]),_(B[k+1][O]),_(B[k][O])):(_(B[k][O+1]),_(B[k+1][O+1]),_(B[k+1][O]))}}function p(R){const D=new X;for(let L=0;L<a.length;L+=3)D.x=a[L+0],D.y=a[L+1],D.z=a[L+2],D.normalize().multiplyScalar(R),a[L+0]=D.x,a[L+1]=D.y,a[L+2]=D.z}function g(){const R=new X;for(let D=0;D<a.length;D+=3){R.x=a[D+0],R.y=a[D+1],R.z=a[D+2];const L=A(R)/2/Math.PI+.5,P=M(R)/Math.PI+.5;u.push(L,1-P)}E(),y()}function y(){for(let R=0;R<u.length;R+=6){const D=u[R+0],L=u[R+2],P=u[R+4],z=Math.max(D,L,P),B=Math.min(D,L,P);z>.9&&B<.1&&(D<.2&&(u[R+0]+=1),L<.2&&(u[R+2]+=1),P<.2&&(u[R+4]+=1))}}function _(R){a.push(R.x,R.y,R.z)}function x(R,D){const L=R*3;D.x=e[L+0],D.y=e[L+1],D.z=e[L+2]}function E(){const R=new X,D=new X,L=new X,P=new X,z=new Ve,B=new Ve,k=new Ve;for(let I=0,O=0;I<a.length;I+=9,O+=6){R.set(a[I+0],a[I+1],a[I+2]),D.set(a[I+3],a[I+4],a[I+5]),L.set(a[I+6],a[I+7],a[I+8]),z.set(u[O+0],u[O+1]),B.set(u[O+2],u[O+3]),k.set(u[O+4],u[O+5]),P.copy(R).add(D).add(L).divideScalar(3);const W=A(P);T(z,O+0,R,W),T(B,O+2,D,W),T(k,O+4,L,W)}}function T(R,D,L,P){P<0&&R.x===1&&(u[D]=R.x-1),L.x===0&&L.z===0&&(u[D]=P/2/Math.PI+.5)}function A(R){return Math.atan2(R.z,-R.x)}function M(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new sf(e.vertices,e.indices,e.radius,e.detail)}}class jb extends sf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=1/n,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],u=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,u,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jb(e.radius,e.detail)}}const E_=new X,T_=new X,LS=new X,w_=new Qs;class HR extends jt{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),a=Math.cos(Mh*t),u=e.getIndex(),c=e.getAttribute("position"),d=u?u.count:c.count,p=[0,0,0],g=["a","b","c"],y=new Array(3),_={},x=[];for(let E=0;E<d;E+=3){u?(p[0]=u.getX(E),p[1]=u.getX(E+1),p[2]=u.getX(E+2)):(p[0]=E,p[1]=E+1,p[2]=E+2);const{a:T,b:A,c:M}=w_;if(T.fromBufferAttribute(c,p[0]),A.fromBufferAttribute(c,p[1]),M.fromBufferAttribute(c,p[2]),w_.getNormal(LS),y[0]=`${Math.round(T.x*i)},${Math.round(T.y*i)},${Math.round(T.z*i)}`,y[1]=`${Math.round(A.x*i)},${Math.round(A.y*i)},${Math.round(A.z*i)}`,y[2]=`${Math.round(M.x*i)},${Math.round(M.y*i)},${Math.round(M.z*i)}`,!(y[0]===y[1]||y[1]===y[2]||y[2]===y[0]))for(let R=0;R<3;R++){const D=(R+1)%3,L=y[R],P=y[D],z=w_[g[R]],B=w_[g[D]],k=`${L}_${P}`,I=`${P}_${L}`;I in _&&_[I]?(LS.dot(_[I].normal)<=a&&(x.push(z.x,z.y,z.z),x.push(B.x,B.y,B.z)),_[I]=null):k in _||(_[k]={index0:p[R],index1:p[D],normal:LS.clone()})}}for(const E in _)if(_[E]){const{index0:T,index1:A}=_[E];E_.fromBufferAttribute(c,T),T_.fromBufferAttribute(c,A),x.push(E_.x,E_.y,E_.z),x.push(T_.x,T_.y,T_.z)}this.setAttribute("position",new bt(x,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Uo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){gt("Curve: .getPoint() not implemented.")}getPointAt(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)}getPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}getSpacedPoints(e=5){const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,i=this.getPoint(0),a=0;t.push(0);for(let u=1;u<=e;u++)n=this.getPoint(u/e),a+=n.distanceTo(i),t.push(a),i=n;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const n=this.getLengths();let i=0;const a=n.length;let u;t?u=t:u=e*n[a-1];let c=0,d=a-1,p;for(;c<=d;)if(i=Math.floor(c+(d-c)/2),p=n[i]-u,p<0)c=i+1;else if(p>0)d=i-1;else{d=i;break}if(i=d,n[i]===u)return i/(a-1);const g=n[i],_=n[i+1]-g,x=(u-g)/_;return(i+x)/(a-1)}getTangent(e,t){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const u=this.getPoint(i),c=this.getPoint(a),d=t||(u.isVector2?new Ve:new X);return d.copy(c).sub(u).normalize(),d}getTangentAt(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)}computeFrenetFrames(e,t=!1){const n=new X,i=[],a=[],u=[],c=new X,d=new Xt;for(let x=0;x<=e;x++){const E=x/e;i[x]=this.getTangentAt(E,new X)}a[0]=new X,u[0]=new X;let p=Number.MAX_VALUE;const g=Math.abs(i[0].x),y=Math.abs(i[0].y),_=Math.abs(i[0].z);g<=p&&(p=g,n.set(1,0,0)),y<=p&&(p=y,n.set(0,1,0)),_<=p&&n.set(0,0,1),c.crossVectors(i[0],n).normalize(),a[0].crossVectors(i[0],c),u[0].crossVectors(i[0],a[0]);for(let x=1;x<=e;x++){if(a[x]=a[x-1].clone(),u[x]=u[x-1].clone(),c.crossVectors(i[x-1],i[x]),c.length()>Number.EPSILON){c.normalize();const E=Math.acos(Wt(i[x-1].dot(i[x]),-1,1));a[x].applyMatrix4(d.makeRotationAxis(c,E))}u[x].crossVectors(i[x],a[x])}if(t===!0){let x=Math.acos(Wt(a[0].dot(a[e]),-1,1));x/=e,i[0].dot(c.crossVectors(a[0],a[e]))>0&&(x=-x);for(let E=1;E<=e;E++)a[E].applyMatrix4(d.makeRotationAxis(i[E],x*E)),u[E].crossVectors(i[E],a[E])}return{tangents:i,normals:a,binormals:u}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class qb extends Uo{constructor(e=0,t=0,n=1,i=1,a=0,u=Math.PI*2,c=!1,d=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=u,this.aClockwise=c,this.aRotation=d}getPoint(e,t=new Ve){const n=t,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const u=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(u?a=0:a=i),this.aClockwise===!0&&!u&&(a===i?a=-i:a=a-i);const c=this.aStartAngle+e*a;let d=this.aX+this.xRadius*Math.cos(c),p=this.aY+this.yRadius*Math.sin(c);if(this.aRotation!==0){const g=Math.cos(this.aRotation),y=Math.sin(this.aRotation),_=d-this.aX,x=p-this.aY;d=_*g-x*y+this.aX,p=_*y+x*g+this.aY}return n.set(d,p)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class GR extends qb{constructor(e,t,n,i,a,u){super(e,t,n,n,i,a,u),this.isArcCurve=!0,this.type="ArcCurve"}}function KE(){let r=0,e=0,t=0,n=0;function i(a,u,c,d){r=a,e=c,t=-3*a+3*u-2*c-d,n=2*a-2*u+c+d}return{initCatmullRom:function(a,u,c,d,p){i(u,c,p*(c-a),p*(d-u))},initNonuniformCatmullRom:function(a,u,c,d,p,g,y){let _=(u-a)/p-(c-a)/(p+g)+(c-u)/g,x=(c-u)/g-(d-u)/(g+y)+(d-c)/y;_*=g,x*=g,i(u,c,_,x)},calc:function(a){const u=a*a,c=u*a;return r+e*a+t*u+n*c}}}const A_=new X,OS=new KE,IS=new KE,PS=new KE;class WR extends Uo{constructor(e=[],t=!1,n="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=n,this.tension=i}getPoint(e,t=new X){const n=t,i=this.points,a=i.length,u=(a-(this.closed?0:1))*e;let c=Math.floor(u),d=u-c;this.closed?c+=c>0?0:(Math.floor(Math.abs(c)/a)+1)*a:d===0&&c===a-1&&(c=a-2,d=1);let p,g;this.closed||c>0?p=i[(c-1)%a]:(A_.subVectors(i[0],i[1]).add(i[0]),p=A_);const y=i[c%a],_=i[(c+1)%a];if(this.closed||c+2<a?g=i[(c+2)%a]:(A_.subVectors(i[a-1],i[a-2]).add(i[a-1]),g=A_),this.curveType==="centripetal"||this.curveType==="chordal"){const x=this.curveType==="chordal"?.5:.25;let E=Math.pow(p.distanceToSquared(y),x),T=Math.pow(y.distanceToSquared(_),x),A=Math.pow(_.distanceToSquared(g),x);T<1e-4&&(T=1),E<1e-4&&(E=T),A<1e-4&&(A=T),OS.initNonuniformCatmullRom(p.x,y.x,_.x,g.x,E,T,A),IS.initNonuniformCatmullRom(p.y,y.y,_.y,g.y,E,T,A),PS.initNonuniformCatmullRom(p.z,y.z,_.z,g.z,E,T,A)}else this.curveType==="catmullrom"&&(OS.initCatmullRom(p.x,y.x,_.x,g.x,this.tension),IS.initCatmullRom(p.y,y.y,_.y,g.y,this.tension),PS.initCatmullRom(p.z,y.z,_.z,g.z,this.tension));return n.set(OS.calc(d),IS.calc(d),PS.calc(d)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new X().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function AA(r,e,t,n,i){const a=(n-e)*.5,u=(i-t)*.5,c=r*r,d=r*c;return(2*t-2*n+a+u)*d+(-3*t+3*n-2*a-u)*c+a*r+t}function VU(r,e){const t=1-r;return t*t*e}function HU(r,e){return 2*(1-r)*r*e}function GU(r,e){return r*r*e}function u0(r,e,t,n){return VU(r,e)+HU(r,t)+GU(r,n)}function WU(r,e){const t=1-r;return t*t*t*e}function XU(r,e){const t=1-r;return 3*t*t*r*e}function jU(r,e){return 3*(1-r)*r*r*e}function qU(r,e){return r*r*r*e}function c0(r,e,t,n,i){return WU(r,e)+XU(r,t)+jU(r,n)+qU(r,i)}class $E extends Uo{constructor(e=new Ve,t=new Ve,n=new Ve,i=new Ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new Ve){const n=t,i=this.v0,a=this.v1,u=this.v2,c=this.v3;return n.set(c0(e,i.x,a.x,u.x,c.x),c0(e,i.y,a.y,u.y,c.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class XR extends Uo{constructor(e=new X,t=new X,n=new X,i=new X){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=n,this.v3=i}getPoint(e,t=new X){const n=t,i=this.v0,a=this.v1,u=this.v2,c=this.v3;return n.set(c0(e,i.x,a.x,u.x,c.x),c0(e,i.y,a.y,u.y,c.y),c0(e,i.z,a.z,u.z,c.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class QE extends Uo{constructor(e=new Ve,t=new Ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ve){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ve){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class jR extends Uo{constructor(e=new X,t=new X){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new X){const n=t;return e===1?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new X){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class JE extends Uo{constructor(e=new Ve,t=new Ve,n=new Ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new Ve){const n=t,i=this.v0,a=this.v1,u=this.v2;return n.set(u0(e,i.x,a.x,u.x),u0(e,i.y,a.y,u.y)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class eT extends Uo{constructor(e=new X,t=new X,n=new X){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=n}getPoint(e,t=new X){const n=t,i=this.v0,a=this.v1,u=this.v2;return n.set(u0(e,i.x,a.x,u.x),u0(e,i.y,a.y,u.y),u0(e,i.z,a.z,u.z)),n}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tT extends Uo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ve){const n=t,i=this.points,a=(i.length-1)*e,u=Math.floor(a),c=a-u,d=i[u===0?u:u-1],p=i[u],g=i[u>i.length-2?i.length-1:u+1],y=i[u>i.length-3?i.length-1:u+2];return n.set(AA(c,d.x,p.x,g.x,y.x),AA(c,d.y,p.y,g.y,y.y)),n}copy(e){super.copy(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,n=this.points.length;t<n;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const i=e.points[t];this.points.push(new Ve().fromArray(i))}return this}}var ib=Object.freeze({__proto__:null,ArcCurve:GR,CatmullRomCurve3:WR,CubicBezierCurve:$E,CubicBezierCurve3:XR,EllipseCurve:qb,LineCurve:QE,LineCurve3:jR,QuadraticBezierCurve:JE,QuadraticBezierCurve3:eT,SplineCurve:tT});class qR extends Uo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const n=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new ib[n](t,e))}return this}getPoint(e,t){const n=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=n){const u=i[a]-n,c=this.curves[a],d=c.getLength(),p=d===0?0:1-u/d;return c.getPointAt(p,t)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,i=this.curves.length;n<i;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let n;for(let i=0,a=this.curves;i<a.length;i++){const u=a[i],c=u.isEllipseCurve?e*2:u.isLineCurve||u.isLineCurve3?1:u.isSplineCurve?e*u.points.length:e,d=u.getPoints(c);for(let p=0;p<d.length;p++){const g=d[p];n&&n.equals(g)||(t.push(g),n=g)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const i=e.curves[t];this.curves.push(new ib[i.type]().fromJSON(i))}return this}}class rb extends qR{constructor(e){super(),this.type="Path",this.currentPoint=new Ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const n=new QE(this.currentPoint.clone(),new Ve(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,n,i){const a=new JE(this.currentPoint.clone(),new Ve(e,t),new Ve(n,i));return this.curves.push(a),this.currentPoint.set(n,i),this}bezierCurveTo(e,t,n,i,a,u){const c=new $E(this.currentPoint.clone(),new Ve(e,t),new Ve(n,i),new Ve(a,u));return this.curves.push(c),this.currentPoint.set(a,u),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),n=new tT(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,n,i,a,u){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absarc(e+c,t+d,n,i,a,u),this}absarc(e,t,n,i,a,u){return this.absellipse(e,t,n,n,i,a,u),this}ellipse(e,t,n,i,a,u,c,d){const p=this.currentPoint.x,g=this.currentPoint.y;return this.absellipse(e+p,t+g,n,i,a,u,c,d),this}absellipse(e,t,n,i,a,u,c,d){const p=new qb(e,t,n,i,a,u,c,d);if(this.curves.length>0){const y=p.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(p);const g=p.getPoint(1);return this.currentPoint.copy(g),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Eh extends rb{constructor(e){super(e),this.uuid=ba(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let n=0,i=this.holes.length;n<i;n++)t[n]=this.holes[n].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const i=e.holes[t];this.holes.push(new rb().fromJSON(i))}return this}}function YU(r,e,t=2){const n=e&&e.length,i=n?e[0]*t:r.length;let a=YR(r,0,i,t,!0);const u=[];if(!a||a.next===a.prev)return u;let c,d,p;if(n&&(a=JU(r,e,a,t)),r.length>80*t){c=r[0],d=r[1];let g=c,y=d;for(let _=t;_<i;_+=t){const x=r[_],E=r[_+1];x<c&&(c=x),E<d&&(d=E),x>g&&(g=x),E>y&&(y=E)}p=Math.max(g-c,y-d),p=p!==0?32767/p:0}return R0(a,u,t,c,d,p,0),u}function YR(r,e,t,n,i){let a;if(i===c4(r,e,t,n)>0)for(let u=e;u<t;u+=n)a=CA(u/n|0,r[u],r[u+1],a);else for(let u=t-n;u>=e;u-=n)a=CA(u/n|0,r[u],r[u+1],a);return a&&kp(a,a.next)&&(N0(a),a=a.next),a}function Oh(r,e){if(!r)return r;e||(e=r);let t=r,n;do if(n=!1,!t.steiner&&(kp(t,t.next)||Ci(t.prev,t,t.next)===0)){if(N0(t),t=e=t.prev,t===t.next)break;n=!0}else t=t.next;while(n||t!==e);return e}function R0(r,e,t,n,i,a,u){if(!r)return;!u&&a&&r4(r,n,i,a);let c=r;for(;r.prev!==r.next;){const d=r.prev,p=r.next;if(a?KU(r,n,i,a):ZU(r)){e.push(d.i,r.i,p.i),N0(r),r=p.next,c=p.next;continue}if(r=p,r===c){u?u===1?(r=$U(Oh(r),e),R0(r,e,t,n,i,a,2)):u===2&&QU(r,e,t,n,i,a):R0(Oh(r),e,t,n,i,a,1);break}}}function ZU(r){const e=r.prev,t=r,n=r.next;if(Ci(e,t,n)>=0)return!1;const i=e.x,a=t.x,u=n.x,c=e.y,d=t.y,p=n.y,g=Math.min(i,a,u),y=Math.min(c,d,p),_=Math.max(i,a,u),x=Math.max(c,d,p);let E=n.next;for(;E!==e;){if(E.x>=g&&E.x<=_&&E.y>=y&&E.y<=x&&$g(i,c,a,d,u,p,E.x,E.y)&&Ci(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function KU(r,e,t,n){const i=r.prev,a=r,u=r.next;if(Ci(i,a,u)>=0)return!1;const c=i.x,d=a.x,p=u.x,g=i.y,y=a.y,_=u.y,x=Math.min(c,d,p),E=Math.min(g,y,_),T=Math.max(c,d,p),A=Math.max(g,y,_),M=NM(x,E,e,t,n),R=NM(T,A,e,t,n);let D=r.prevZ,L=r.nextZ;for(;D&&D.z>=M&&L&&L.z<=R;){if(D.x>=x&&D.x<=T&&D.y>=E&&D.y<=A&&D!==i&&D!==u&&$g(c,g,d,y,p,_,D.x,D.y)&&Ci(D.prev,D,D.next)>=0||(D=D.prevZ,L.x>=x&&L.x<=T&&L.y>=E&&L.y<=A&&L!==i&&L!==u&&$g(c,g,d,y,p,_,L.x,L.y)&&Ci(L.prev,L,L.next)>=0))return!1;L=L.nextZ}for(;D&&D.z>=M;){if(D.x>=x&&D.x<=T&&D.y>=E&&D.y<=A&&D!==i&&D!==u&&$g(c,g,d,y,p,_,D.x,D.y)&&Ci(D.prev,D,D.next)>=0)return!1;D=D.prevZ}for(;L&&L.z<=R;){if(L.x>=x&&L.x<=T&&L.y>=E&&L.y<=A&&L!==i&&L!==u&&$g(c,g,d,y,p,_,L.x,L.y)&&Ci(L.prev,L,L.next)>=0)return!1;L=L.nextZ}return!0}function $U(r,e){let t=r;do{const n=t.prev,i=t.next.next;!kp(n,i)&&KR(n,t,t.next,i)&&D0(n,i)&&D0(i,n)&&(e.push(n.i,t.i,i.i),N0(t),N0(t.next),t=r=i),t=t.next}while(t!==r);return Oh(t)}function QU(r,e,t,n,i,a){let u=r;do{let c=u.next.next;for(;c!==u.prev;){if(u.i!==c.i&&o4(u,c)){let d=$R(u,c);u=Oh(u,u.next),d=Oh(d,d.next),R0(u,e,t,n,i,a,0),R0(d,e,t,n,i,a,0);return}c=c.next}u=u.next}while(u!==r)}function JU(r,e,t,n){const i=[];for(let a=0,u=e.length;a<u;a++){const c=e[a]*n,d=a<u-1?e[a+1]*n:r.length,p=YR(r,c,d,n,!1);p===p.next&&(p.steiner=!0),i.push(a4(p))}i.sort(e4);for(let a=0;a<i.length;a++)t=t4(i[a],t);return t}function e4(r,e){let t=r.x-e.x;if(t===0&&(t=r.y-e.y,t===0)){const n=(r.next.y-r.y)/(r.next.x-r.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=n-i}return t}function t4(r,e){const t=n4(r,e);if(!t)return e;const n=$R(t,r);return Oh(n,n.next),Oh(t,t.next)}function n4(r,e){let t=e;const n=r.x,i=r.y;let a=-1/0,u;if(kp(r,t))return t;do{if(kp(r,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const y=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=n&&y>a&&(a=y,u=t.x<t.next.x?t:t.next,y===n))return u}t=t.next}while(t!==e);if(!u)return null;const c=u,d=u.x,p=u.y;let g=1/0;t=u;do{if(n>=t.x&&t.x>=d&&n!==t.x&&ZR(i<p?n:a,i,d,p,i<p?a:n,i,t.x,t.y)){const y=Math.abs(i-t.y)/(n-t.x);D0(t,r)&&(y<g||y===g&&(t.x>u.x||t.x===u.x&&i4(u,t)))&&(u=t,g=y)}t=t.next}while(t!==c);return u}function i4(r,e){return Ci(r.prev,r,e.prev)<0&&Ci(e.next,r,r.next)<0}function r4(r,e,t,n){let i=r;do i.z===0&&(i.z=NM(i.x,i.y,e,t,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==r);i.prevZ.nextZ=null,i.prevZ=null,s4(i)}function s4(r){let e,t=1;do{let n=r,i;r=null;let a=null;for(e=0;n;){e++;let u=n,c=0;for(let p=0;p<t&&(c++,u=u.nextZ,!!u);p++);let d=t;for(;c>0||d>0&&u;)c!==0&&(d===0||!u||n.z<=u.z)?(i=n,n=n.nextZ,c--):(i=u,u=u.nextZ,d--),a?a.nextZ=i:r=i,i.prevZ=a,a=i;n=u}a.nextZ=null,t*=2}while(e>1);return r}function NM(r,e,t,n,i){return r=(r-t)*i|0,e=(e-n)*i|0,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,r|e<<1}function a4(r){let e=r,t=r;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==r);return t}function ZR(r,e,t,n,i,a,u,c){return(i-u)*(e-c)>=(r-u)*(a-c)&&(r-u)*(n-c)>=(t-u)*(e-c)&&(t-u)*(a-c)>=(i-u)*(n-c)}function $g(r,e,t,n,i,a,u,c){return!(r===u&&e===c)&&ZR(r,e,t,n,i,a,u,c)}function o4(r,e){return r.next.i!==e.i&&r.prev.i!==e.i&&!l4(r,e)&&(D0(r,e)&&D0(e,r)&&u4(r,e)&&(Ci(r.prev,r,e.prev)||Ci(r,e.prev,e))||kp(r,e)&&Ci(r.prev,r,r.next)>0&&Ci(e.prev,e,e.next)>0)}function Ci(r,e,t){return(e.y-r.y)*(t.x-e.x)-(e.x-r.x)*(t.y-e.y)}function kp(r,e){return r.x===e.x&&r.y===e.y}function KR(r,e,t,n){const i=R_(Ci(r,e,t)),a=R_(Ci(r,e,n)),u=R_(Ci(t,n,r)),c=R_(Ci(t,n,e));return!!(i!==a&&u!==c||i===0&&C_(r,t,e)||a===0&&C_(r,n,e)||u===0&&C_(t,r,n)||c===0&&C_(t,e,n))}function C_(r,e,t){return e.x<=Math.max(r.x,t.x)&&e.x>=Math.min(r.x,t.x)&&e.y<=Math.max(r.y,t.y)&&e.y>=Math.min(r.y,t.y)}function R_(r){return r>0?1:r<0?-1:0}function l4(r,e){let t=r;do{if(t.i!==r.i&&t.next.i!==r.i&&t.i!==e.i&&t.next.i!==e.i&&KR(t,t.next,r,e))return!0;t=t.next}while(t!==r);return!1}function D0(r,e){return Ci(r.prev,r,r.next)<0?Ci(r,e,r.next)>=0&&Ci(r,r.prev,e)>=0:Ci(r,e,r.prev)<0||Ci(r,r.next,e)<0}function u4(r,e){let t=r,n=!1;const i=(r.x+e.x)/2,a=(r.y+e.y)/2;do t.y>a!=t.next.y>a&&t.next.y!==t.y&&i<(t.next.x-t.x)*(a-t.y)/(t.next.y-t.y)+t.x&&(n=!n),t=t.next;while(t!==r);return n}function $R(r,e){const t=LM(r.i,r.x,r.y),n=LM(e.i,e.x,e.y),i=r.next,a=e.prev;return r.next=e,e.prev=r,t.next=i,i.prev=t,n.next=t,t.prev=n,a.next=n,n.prev=a,n}function CA(r,e,t,n){const i=LM(r,e,t);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function N0(r){r.next.prev=r.prev,r.prev.next=r.next,r.prevZ&&(r.prevZ.nextZ=r.nextZ),r.nextZ&&(r.nextZ.prevZ=r.prevZ)}function LM(r,e,t){return{i:r,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function c4(r,e,t,n){let i=0;for(let a=e,u=t-n;a<t;a+=n)i+=(r[u]-r[a])*(r[a+1]+r[u+1]),u=a;return i}class f4{static triangulate(e,t,n=2){return YU(e,t,n)}}class Io{static area(e){const t=e.length;let n=0;for(let i=t-1,a=0;a<t;i=a++)n+=e[i].x*e[a].y-e[a].x*e[i].y;return n*.5}static isClockWise(e){return Io.area(e)<0}static triangulateShape(e,t){const n=[],i=[],a=[];RA(e),DA(n,e);let u=e.length;t.forEach(RA);for(let d=0;d<t.length;d++)i.push(u),u+=t[d].length,DA(n,t[d]);const c=f4.triangulate(n,i);for(let d=0;d<c.length;d+=3)a.push(c.slice(d,d+3));return a}}function RA(r){const e=r.length;e>2&&r[e-1].equals(r[0])&&r.pop()}function DA(r,e){for(let t=0;t<e.length;t++)r.push(e[t].x),r.push(e[t].y)}class Yb extends jt{constructor(e=new Eh([new Ve(.5,.5),new Ve(-.5,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,i=[],a=[];for(let c=0,d=e.length;c<d;c++){const p=e[c];u(p)}this.setAttribute("position",new bt(i,3)),this.setAttribute("uv",new bt(a,2)),this.computeVertexNormals();function u(c){const d=[],p=t.curveSegments!==void 0?t.curveSegments:12,g=t.steps!==void 0?t.steps:1,y=t.depth!==void 0?t.depth:1;let _=t.bevelEnabled!==void 0?t.bevelEnabled:!0,x=t.bevelThickness!==void 0?t.bevelThickness:.2,E=t.bevelSize!==void 0?t.bevelSize:x-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,A=t.bevelSegments!==void 0?t.bevelSegments:3;const M=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:h4;let D,L=!1,P,z,B,k;if(M){D=M.getSpacedPoints(g),L=!0,_=!1;const ve=M.isCatmullRomCurve3?M.closed:!1;P=M.computeFrenetFrames(g,ve),z=new X,B=new X,k=new X}_||(A=0,x=0,E=0,T=0);const I=c.extractPoints(p);let O=I.shape;const W=I.holes;if(!Io.isClockWise(O)){O=O.reverse();for(let ve=0,Xe=W.length;ve<Xe;ve++){const Ae=W[ve];Io.isClockWise(Ae)&&(W[ve]=Ae.reverse())}}function Q(ve){const Ae=10000000000000001e-36;let be=ve[0];for(let Y=1;Y<=ve.length;Y++){const dt=Y%ve.length,Te=ve[dt],Ct=Te.x-be.x,Je=Te.y-be.y,q=Ct*Ct+Je*Je,F=Math.max(Math.abs(Te.x),Math.abs(Te.y),Math.abs(be.x),Math.abs(be.y)),oe=Ae*F*F;if(q<=oe){ve.splice(dt,1),Y--;continue}be=Te}}Q(O),W.forEach(Q);const fe=W.length,ue=O;for(let ve=0;ve<fe;ve++){const Xe=W[ve];O=O.concat(Xe)}function Z(ve,Xe,Ae){return Xe||Ot("ExtrudeGeometry: vec does not exist"),ve.clone().addScaledVector(Xe,Ae)}const J=O.length;function he(ve,Xe,Ae){let be,Y,dt;const Te=ve.x-Xe.x,Ct=ve.y-Xe.y,Je=Ae.x-ve.x,q=Ae.y-ve.y,F=Te*Te+Ct*Ct,oe=Te*q-Ct*Je;if(Math.abs(oe)>Number.EPSILON){const Le=Math.sqrt(F),Be=Math.sqrt(Je*Je+q*q),_e=Xe.x-Ct/Le,st=Xe.y+Te/Le,Ge=Ae.x-q/Be,Ke=Ae.y+Je/Be,Mt=((Ge-_e)*q-(Ke-st)*Je)/(Te*q-Ct*Je);be=_e+Te*Mt-ve.x,Y=st+Ct*Mt-ve.y;const qe=be*be+Y*Y;if(qe<=2)return new Ve(be,Y);dt=Math.sqrt(qe/2)}else{let Le=!1;Te>Number.EPSILON?Je>Number.EPSILON&&(Le=!0):Te<-Number.EPSILON?Je<-Number.EPSILON&&(Le=!0):Math.sign(Ct)===Math.sign(q)&&(Le=!0),Le?(be=-Ct,Y=Te,dt=Math.sqrt(F)):(be=Te,Y=Ct,dt=Math.sqrt(F/2))}return new Ve(be/dt,Y/dt)}const Pe=[];for(let ve=0,Xe=ue.length,Ae=Xe-1,be=ve+1;ve<Xe;ve++,Ae++,be++)Ae===Xe&&(Ae=0),be===Xe&&(be=0),Pe[ve]=he(ue[ve],ue[Ae],ue[be]);const Ue=[];let j,le=Pe.concat();for(let ve=0,Xe=fe;ve<Xe;ve++){const Ae=W[ve];j=[];for(let be=0,Y=Ae.length,dt=Y-1,Te=be+1;be<Y;be++,dt++,Te++)dt===Y&&(dt=0),Te===Y&&(Te=0),j[be]=he(Ae[be],Ae[dt],Ae[Te]);Ue.push(j),le=le.concat(j)}let Re;if(A===0)Re=Io.triangulateShape(ue,W);else{const ve=[],Xe=[];for(let Ae=0;Ae<A;Ae++){const be=Ae/A,Y=x*Math.cos(be*Math.PI/2),dt=E*Math.sin(be*Math.PI/2)+T;for(let Te=0,Ct=ue.length;Te<Ct;Te++){const Je=Z(ue[Te],Pe[Te],dt);ne(Je.x,Je.y,-Y),be===0&&ve.push(Je)}for(let Te=0,Ct=fe;Te<Ct;Te++){const Je=W[Te];j=Ue[Te];const q=[];for(let F=0,oe=Je.length;F<oe;F++){const Le=Z(Je[F],j[F],dt);ne(Le.x,Le.y,-Y),be===0&&q.push(Le)}be===0&&Xe.push(q)}}Re=Io.triangulateShape(ve,Xe)}const ze=Re.length,rt=E+T;for(let ve=0;ve<J;ve++){const Xe=_?Z(O[ve],le[ve],rt):O[ve];L?(B.copy(P.normals[0]).multiplyScalar(Xe.x),z.copy(P.binormals[0]).multiplyScalar(Xe.y),k.copy(D[0]).add(B).add(z),ne(k.x,k.y,k.z)):ne(Xe.x,Xe.y,0)}for(let ve=1;ve<=g;ve++)for(let Xe=0;Xe<J;Xe++){const Ae=_?Z(O[Xe],le[Xe],rt):O[Xe];L?(B.copy(P.normals[ve]).multiplyScalar(Ae.x),z.copy(P.binormals[ve]).multiplyScalar(Ae.y),k.copy(D[ve]).add(B).add(z),ne(k.x,k.y,k.z)):ne(Ae.x,Ae.y,y/g*ve)}for(let ve=A-1;ve>=0;ve--){const Xe=ve/A,Ae=x*Math.cos(Xe*Math.PI/2),be=E*Math.sin(Xe*Math.PI/2)+T;for(let Y=0,dt=ue.length;Y<dt;Y++){const Te=Z(ue[Y],Pe[Y],be);ne(Te.x,Te.y,y+Ae)}for(let Y=0,dt=W.length;Y<dt;Y++){const Te=W[Y];j=Ue[Y];for(let Ct=0,Je=Te.length;Ct<Je;Ct++){const q=Z(Te[Ct],j[Ct],be);L?ne(q.x,q.y+D[g-1].y,D[g-1].x+Ae):ne(q.x,q.y,y+Ae)}}}ge(),De();function ge(){const ve=i.length/3;if(_){let Xe=0,Ae=J*Xe;for(let be=0;be<ze;be++){const Y=Re[be];ft(Y[2]+Ae,Y[1]+Ae,Y[0]+Ae)}Xe=g+A*2,Ae=J*Xe;for(let be=0;be<ze;be++){const Y=Re[be];ft(Y[0]+Ae,Y[1]+Ae,Y[2]+Ae)}}else{for(let Xe=0;Xe<ze;Xe++){const Ae=Re[Xe];ft(Ae[2],Ae[1],Ae[0])}for(let Xe=0;Xe<ze;Xe++){const Ae=Re[Xe];ft(Ae[0]+J*g,Ae[1]+J*g,Ae[2]+J*g)}}n.addGroup(ve,i.length/3-ve,0)}function De(){const ve=i.length/3;let Xe=0;it(ue,Xe),Xe+=ue.length;for(let Ae=0,be=W.length;Ae<be;Ae++){const Y=W[Ae];it(Y,Xe),Xe+=Y.length}n.addGroup(ve,i.length/3-ve,1)}function it(ve,Xe){let Ae=ve.length;for(;--Ae>=0;){const be=Ae;let Y=Ae-1;Y<0&&(Y=ve.length-1);for(let dt=0,Te=g+A*2;dt<Te;dt++){const Ct=J*dt,Je=J*(dt+1),q=Xe+be+Ct,F=Xe+Y+Ct,oe=Xe+Y+Je,Le=Xe+be+Je;_t(q,F,oe,Le)}}}function ne(ve,Xe,Ae){d.push(ve),d.push(Xe),d.push(Ae)}function ft(ve,Xe,Ae){Yt(ve),Yt(Xe),Yt(Ae);const be=i.length/3,Y=R.generateTopUV(n,i,be-3,be-2,be-1);Et(Y[0]),Et(Y[1]),Et(Y[2])}function _t(ve,Xe,Ae,be){Yt(ve),Yt(Xe),Yt(be),Yt(Xe),Yt(Ae),Yt(be);const Y=i.length/3,dt=R.generateSideWallUV(n,i,Y-6,Y-3,Y-2,Y-1);Et(dt[0]),Et(dt[1]),Et(dt[3]),Et(dt[1]),Et(dt[2]),Et(dt[3])}function Yt(ve){i.push(d[ve*3+0]),i.push(d[ve*3+1]),i.push(d[ve*3+2])}function Et(ve){a.push(ve.x),a.push(ve.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,n=this.parameters.options;return d4(t,n,e)}static fromJSON(e,t){const n=[];for(let a=0,u=e.shapes.length;a<u;a++){const c=t[e.shapes[a]];n.push(c)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new ib[i.type]().fromJSON(i)),new Yb(n,e.options)}}const h4={generateTopUV:function(r,e,t,n,i){const a=e[t*3],u=e[t*3+1],c=e[n*3],d=e[n*3+1],p=e[i*3],g=e[i*3+1];return[new Ve(a,u),new Ve(c,d),new Ve(p,g)]},generateSideWallUV:function(r,e,t,n,i,a){const u=e[t*3],c=e[t*3+1],d=e[t*3+2],p=e[n*3],g=e[n*3+1],y=e[n*3+2],_=e[i*3],x=e[i*3+1],E=e[i*3+2],T=e[a*3],A=e[a*3+1],M=e[a*3+2];return Math.abs(c-g)<Math.abs(u-p)?[new Ve(u,1-d),new Ve(p,1-y),new Ve(_,1-E),new Ve(T,1-M)]:[new Ve(c,1-d),new Ve(g,1-y),new Ve(x,1-E),new Ve(A,1-M)]}};function d4(r,e,t){if(t.shapes=[],Array.isArray(r))for(let n=0,i=r.length;n<i;n++){const a=r[n];t.shapes.push(a.uuid)}else t.shapes.push(r.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Zb extends sf{constructor(e=1,t=0){const n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Zb(e.radius,e.detail)}}class Kb extends jt{constructor(e=[new Ve(0,-.5),new Ve(.5,0),new Ve(0,.5)],t=12,n=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:i},t=Math.floor(t),i=Wt(i,0,Math.PI*2);const a=[],u=[],c=[],d=[],p=[],g=1/t,y=new X,_=new Ve,x=new X,E=new X,T=new X;let A=0,M=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:A=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,x.x=M*1,x.y=-A,x.z=M*0,T.copy(x),x.normalize(),d.push(x.x,x.y,x.z);break;case e.length-1:d.push(T.x,T.y,T.z);break;default:A=e[R+1].x-e[R].x,M=e[R+1].y-e[R].y,x.x=M*1,x.y=-A,x.z=M*0,E.copy(x),x.x+=T.x,x.y+=T.y,x.z+=T.z,x.normalize(),d.push(x.x,x.y,x.z),T.copy(E)}for(let R=0;R<=t;R++){const D=n+R*g*i,L=Math.sin(D),P=Math.cos(D);for(let z=0;z<=e.length-1;z++){y.x=e[z].x*L,y.y=e[z].y,y.z=e[z].x*P,u.push(y.x,y.y,y.z),_.x=R/t,_.y=z/(e.length-1),c.push(_.x,_.y);const B=d[3*z+0]*L,k=d[3*z+1],I=d[3*z+0]*P;p.push(B,k,I)}}for(let R=0;R<t;R++)for(let D=0;D<e.length-1;D++){const L=D+R*e.length,P=L,z=L+e.length,B=L+e.length+1,k=L+1;a.push(P,z,k),a.push(B,k,z)}this.setIndex(a),this.setAttribute("position",new bt(u,3)),this.setAttribute("uv",new bt(c,2)),this.setAttribute("normal",new bt(p,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kb(e.points,e.segments,e.phiStart,e.phiLength)}}class nv extends sf{constructor(e=1,t=0){const n=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(n,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new nv(e.radius,e.detail)}}class Jp extends jt{constructor(e=1,t=1,n=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:i};const a=e/2,u=t/2,c=Math.floor(n),d=Math.floor(i),p=c+1,g=d+1,y=e/c,_=t/d,x=[],E=[],T=[],A=[];for(let M=0;M<g;M++){const R=M*_-u;for(let D=0;D<p;D++){const L=D*y-a;E.push(L,-R,0),T.push(0,0,1),A.push(D/c),A.push(1-M/d)}}for(let M=0;M<d;M++)for(let R=0;R<c;R++){const D=R+p*M,L=R+p*(M+1),P=R+1+p*(M+1),z=R+1+p*M;x.push(D,L,z),x.push(L,P,z)}this.setIndex(x),this.setAttribute("position",new bt(E,3)),this.setAttribute("normal",new bt(T,3)),this.setAttribute("uv",new bt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jp(e.width,e.height,e.widthSegments,e.heightSegments)}}class $b extends jt{constructor(e=.5,t=1,n=32,i=1,a=0,u=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:i,thetaStart:a,thetaLength:u},n=Math.max(3,n),i=Math.max(1,i);const c=[],d=[],p=[],g=[];let y=e;const _=(t-e)/i,x=new X,E=new Ve;for(let T=0;T<=i;T++){for(let A=0;A<=n;A++){const M=a+A/n*u;x.x=y*Math.cos(M),x.y=y*Math.sin(M),d.push(x.x,x.y,x.z),p.push(0,0,1),E.x=(x.x/t+1)/2,E.y=(x.y/t+1)/2,g.push(E.x,E.y)}y+=_}for(let T=0;T<i;T++){const A=T*(n+1);for(let M=0;M<n;M++){const R=M+A,D=R,L=R+n+1,P=R+n+2,z=R+1;c.push(D,L,z),c.push(L,P,z)}}this.setIndex(c),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $b(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Qb extends jt{constructor(e=new Eh([new Ve(0,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const n=[],i=[],a=[],u=[];let c=0,d=0;if(Array.isArray(e)===!1)p(e);else for(let g=0;g<e.length;g++)p(e[g]),this.addGroup(c,d,g),c+=d,d=0;this.setIndex(n),this.setAttribute("position",new bt(i,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(u,2));function p(g){const y=i.length/3,_=g.extractPoints(t);let x=_.shape;const E=_.holes;Io.isClockWise(x)===!1&&(x=x.reverse());for(let A=0,M=E.length;A<M;A++){const R=E[A];Io.isClockWise(R)===!0&&(E[A]=R.reverse())}const T=Io.triangulateShape(x,E);for(let A=0,M=E.length;A<M;A++){const R=E[A];x=x.concat(R)}for(let A=0,M=x.length;A<M;A++){const R=x[A];i.push(R.x,R.y,0),a.push(0,0,1),u.push(R.x,R.y)}for(let A=0,M=T.length;A<M;A++){const R=T[A],D=R[0]+y,L=R[1]+y,P=R[2]+y;n.push(D,L,P),d+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return p4(t,e)}static fromJSON(e,t){const n=[];for(let i=0,a=e.shapes.length;i<a;i++){const u=t[e.shapes[i]];n.push(u)}return new Qb(n,e.curveSegments)}}function p4(r,e){if(e.shapes=[],Array.isArray(r))for(let t=0,n=r.length;t<n;t++){const i=r[t];e.shapes.push(i.uuid)}else e.shapes.push(r.uuid);return e}class iv extends jt{constructor(e=1,t=32,n=16,i=0,a=Math.PI*2,u=0,c=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:i,phiLength:a,thetaStart:u,thetaLength:c},t=Math.max(3,Math.floor(t)),n=Math.max(2,Math.floor(n));const d=Math.min(u+c,Math.PI);let p=0;const g=[],y=new X,_=new X,x=[],E=[],T=[],A=[];for(let M=0;M<=n;M++){const R=[],D=M/n;let L=0;M===0&&u===0?L=.5/t:M===n&&d===Math.PI&&(L=-.5/t);for(let P=0;P<=t;P++){const z=P/t;y.x=-e*Math.cos(i+z*a)*Math.sin(u+D*c),y.y=e*Math.cos(u+D*c),y.z=e*Math.sin(i+z*a)*Math.sin(u+D*c),E.push(y.x,y.y,y.z),_.copy(y).normalize(),T.push(_.x,_.y,_.z),A.push(z+L,1-D),R.push(p++)}g.push(R)}for(let M=0;M<n;M++)for(let R=0;R<t;R++){const D=g[M][R+1],L=g[M][R],P=g[M+1][R],z=g[M+1][R+1];(M!==0||u>0)&&x.push(D,L,z),(M!==n-1||d<Math.PI)&&x.push(L,P,z)}this.setIndex(x),this.setAttribute("position",new bt(E,3)),this.setAttribute("normal",new bt(T,3)),this.setAttribute("uv",new bt(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iv(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Jb extends sf{constructor(e=1,t=0){const n=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(n,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Jb(e.radius,e.detail)}}class e1 extends jt{constructor(e=1,t=.4,n=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:i,arc:a},n=Math.floor(n),i=Math.floor(i);const u=[],c=[],d=[],p=[],g=new X,y=new X,_=new X;for(let x=0;x<=n;x++)for(let E=0;E<=i;E++){const T=E/i*a,A=x/n*Math.PI*2;y.x=(e+t*Math.cos(A))*Math.cos(T),y.y=(e+t*Math.cos(A))*Math.sin(T),y.z=t*Math.sin(A),c.push(y.x,y.y,y.z),g.x=e*Math.cos(T),g.y=e*Math.sin(T),_.subVectors(y,g).normalize(),d.push(_.x,_.y,_.z),p.push(E/i),p.push(x/n)}for(let x=1;x<=n;x++)for(let E=1;E<=i;E++){const T=(i+1)*x+E-1,A=(i+1)*(x-1)+E-1,M=(i+1)*(x-1)+E,R=(i+1)*x+E;u.push(T,A,R),u.push(A,M,R)}this.setIndex(u),this.setAttribute("position",new bt(c,3)),this.setAttribute("normal",new bt(d,3)),this.setAttribute("uv",new bt(p,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new e1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class t1 extends jt{constructor(e=1,t=.4,n=64,i=8,a=2,u=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:i,p:a,q:u},n=Math.floor(n),i=Math.floor(i);const c=[],d=[],p=[],g=[],y=new X,_=new X,x=new X,E=new X,T=new X,A=new X,M=new X;for(let D=0;D<=n;++D){const L=D/n*a*Math.PI*2;R(L,a,u,e,x),R(L+.01,a,u,e,E),A.subVectors(E,x),M.addVectors(E,x),T.crossVectors(A,M),M.crossVectors(T,A),T.normalize(),M.normalize();for(let P=0;P<=i;++P){const z=P/i*Math.PI*2,B=-t*Math.cos(z),k=t*Math.sin(z);y.x=x.x+(B*M.x+k*T.x),y.y=x.y+(B*M.y+k*T.y),y.z=x.z+(B*M.z+k*T.z),d.push(y.x,y.y,y.z),_.subVectors(y,x).normalize(),p.push(_.x,_.y,_.z),g.push(D/n),g.push(P/i)}}for(let D=1;D<=n;D++)for(let L=1;L<=i;L++){const P=(i+1)*(D-1)+(L-1),z=(i+1)*D+(L-1),B=(i+1)*D+L,k=(i+1)*(D-1)+L;c.push(P,z,k),c.push(z,B,k)}this.setIndex(c),this.setAttribute("position",new bt(d,3)),this.setAttribute("normal",new bt(p,3)),this.setAttribute("uv",new bt(g,2));function R(D,L,P,z,B){const k=Math.cos(D),I=Math.sin(D),O=P/L*D,W=Math.cos(O);B.x=z*(2+W)*.5*k,B.y=z*(2+W)*I*.5,B.z=z*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new t1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class n1 extends jt{constructor(e=new eT(new X(-1,-1,0),new X(-1,1,0),new X(1,1,0)),t=64,n=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:i,closed:a};const u=e.computeFrenetFrames(t,a);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;const c=new X,d=new X,p=new Ve;let g=new X;const y=[],_=[],x=[],E=[];T(),this.setIndex(E),this.setAttribute("position",new bt(y,3)),this.setAttribute("normal",new bt(_,3)),this.setAttribute("uv",new bt(x,2));function T(){for(let D=0;D<t;D++)A(D);A(a===!1?t:0),R(),M()}function A(D){g=e.getPointAt(D/t,g);const L=u.normals[D],P=u.binormals[D];for(let z=0;z<=i;z++){const B=z/i*Math.PI*2,k=Math.sin(B),I=-Math.cos(B);d.x=I*L.x+k*P.x,d.y=I*L.y+k*P.y,d.z=I*L.z+k*P.z,d.normalize(),_.push(d.x,d.y,d.z),c.x=g.x+n*d.x,c.y=g.y+n*d.y,c.z=g.z+n*d.z,y.push(c.x,c.y,c.z)}}function M(){for(let D=1;D<=t;D++)for(let L=1;L<=i;L++){const P=(i+1)*(D-1)+(L-1),z=(i+1)*D+(L-1),B=(i+1)*D+L,k=(i+1)*(D-1)+L;E.push(P,z,k),E.push(z,B,k)}}function R(){for(let D=0;D<=t;D++)for(let L=0;L<=i;L++)p.x=D/t,p.y=L/i,x.push(p.x,p.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new n1(new ib[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class nT extends jt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],n=new Set,i=new X,a=new X;if(e.index!==null){const u=e.attributes.position,c=e.index;let d=e.groups;d.length===0&&(d=[{start:0,count:c.count,materialIndex:0}]);for(let p=0,g=d.length;p<g;++p){const y=d[p],_=y.start,x=y.count;for(let E=_,T=_+x;E<T;E+=3)for(let A=0;A<3;A++){const M=c.getX(E+A),R=c.getX(E+(A+1)%3);i.fromBufferAttribute(u,M),a.fromBufferAttribute(u,R),NA(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}}else{const u=e.attributes.position;for(let c=0,d=u.count/3;c<d;c++)for(let p=0;p<3;p++){const g=3*c+p,y=3*c+(p+1)%3;i.fromBufferAttribute(u,g),a.fromBufferAttribute(u,y),NA(i,a,n)===!0&&(t.push(i.x,i.y,i.z),t.push(a.x,a.y,a.z))}}this.setAttribute("position",new bt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function NA(r,e,t){const n=`${r.x},${r.y},${r.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${r.x},${r.y},${r.z}`;return t.has(n)===!0||t.has(i)===!0?!1:(t.add(n),t.add(i),!0)}var LA=Object.freeze({__proto__:null,BoxGeometry:Uh,CapsuleGeometry:Wb,CircleGeometry:Xb,ConeGeometry:tv,CylinderGeometry:ev,DodecahedronGeometry:jb,EdgesGeometry:HR,ExtrudeGeometry:Yb,IcosahedronGeometry:Zb,LatheGeometry:Kb,OctahedronGeometry:nv,PlaneGeometry:Jp,PolyhedronGeometry:sf,RingGeometry:$b,ShapeGeometry:Qb,SphereGeometry:iv,TetrahedronGeometry:Jb,TorusGeometry:e1,TorusKnotGeometry:t1,TubeGeometry:n1,WireframeGeometry:nT});class QR extends ss{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new xt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class iT extends Ta{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class rT extends ss{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new xt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ea,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class JR extends rT{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new xt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new xt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new xt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class eD extends ss{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new xt(16777215),this.specular=new xt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ea,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class tD extends ss{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new xt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class nD extends ss{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class iD extends ss{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new xt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new xt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Ea,this.combine=$0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sT extends ss{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=vR,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class aT extends ss{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class rD extends ss{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new xt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=tf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class sD extends Rs{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function xh(r,e){return!r||r.constructor===e?r:typeof e.BYTES_PER_ELEMENT=="number"?new e(r):Array.prototype.slice.call(r)}function aD(r){function e(i,a){return r[i]-r[a]}const t=r.length,n=new Array(t);for(let i=0;i!==t;++i)n[i]=i;return n.sort(e),n}function OM(r,e,t){const n=r.length,i=new r.constructor(n);for(let a=0,u=0;u!==n;++a){const c=t[a]*e;for(let d=0;d!==e;++d)i[u++]=r[c+d]}return i}function oT(r,e,t,n){let i=1,a=r[0];for(;a!==void 0&&a[n]===void 0;)a=r[i++];if(a===void 0)return;let u=a[n];if(u!==void 0)if(Array.isArray(u))do u=a[n],u!==void 0&&(e.push(a.time),t.push(...u)),a=r[i++];while(a!==void 0);else if(u.toArray!==void 0)do u=a[n],u!==void 0&&(e.push(a.time),u.toArray(t,t.length)),a=r[i++];while(a!==void 0);else do u=a[n],u!==void 0&&(e.push(a.time),t.push(u)),a=r[i++];while(a!==void 0)}function m4(r,e,t,n,i=30){const a=r.clone();a.name=e;const u=[];for(let d=0;d<a.tracks.length;++d){const p=a.tracks[d],g=p.getValueSize(),y=[],_=[];for(let x=0;x<p.times.length;++x){const E=p.times[x]*i;if(!(E<t||E>=n)){y.push(p.times[x]);for(let T=0;T<g;++T)_.push(p.values[x*g+T])}}y.length!==0&&(p.times=xh(y,p.times.constructor),p.values=xh(_,p.values.constructor),u.push(p))}a.tracks=u;let c=1/0;for(let d=0;d<a.tracks.length;++d)c>a.tracks[d].times[0]&&(c=a.tracks[d].times[0]);for(let d=0;d<a.tracks.length;++d)a.tracks[d].shift(-1*c);return a.resetDuration(),a}function g4(r,e=0,t=r,n=30){n<=0&&(n=30);const i=t.tracks.length,a=e/n;for(let u=0;u<i;++u){const c=t.tracks[u],d=c.ValueTypeName;if(d==="bool"||d==="string")continue;const p=r.tracks.find(function(M){return M.name===c.name&&M.ValueTypeName===d});if(p===void 0)continue;let g=0;const y=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(g=y/3);let _=0;const x=p.getValueSize();p.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(_=x/3);const E=c.times.length-1;let T;if(a<=c.times[0]){const M=g,R=y-g;T=c.values.slice(M,R)}else if(a>=c.times[E]){const M=E*y+g,R=M+y-g;T=c.values.slice(M,R)}else{const M=c.createInterpolant(),R=g,D=y-g;M.evaluate(a),T=M.resultBuffer.slice(R,D)}d==="quaternion"&&new is().fromArray(T).normalize().conjugate().toArray(T);const A=p.times.length;for(let M=0;M<A;++M){const R=M*x+_;if(d==="quaternion")is.multiplyQuaternionsFlat(p.values,R,T,0,p.values,R);else{const D=x-_*2;for(let L=0;L<D;++L)p.values[R+L]-=T[L]}}}return r.blendMode=kE,r}class v4{static convertArray(e,t){return xh(e,t)}static isTypedArray(e){return wR(e)}static getKeyframeOrder(e){return aD(e)}static sortedArray(e,t,n){return OM(e,t,n)}static flattenJSON(e,t,n,i){oT(e,t,n,i)}static subclip(e,t,n,i,a=30){return m4(e,t,n,i,a)}static makeClipAdditive(e,t=0,n=e,i=30){return g4(e,t,n,i)}}class rv{constructor(e,t,n,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(n),this.sampleValues=t,this.valueSize=n,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let n=this._cachedIndex,i=t[n],a=t[n-1];e:{t:{let u;n:{i:if(!(e<i)){for(let c=n+2;;){if(i===void 0){if(e<a)break i;return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}if(n===c)break;if(a=i,i=t[++n],e<i)break t}u=t.length;break n}if(!(e>=a)){const c=t[1];e<c&&(n=2,a=c);for(let d=n-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===d)break;if(i=a,a=t[--n-1],e>=a)break t}u=n,n=0;break n}break e}for(;n<u;){const c=n+u>>>1;e<t[c]?u=c:n=c+1}if(i=t[n],a=t[n-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return n=t.length,this._cachedIndex=n,this.copySampleValue_(n-1)}this._cachedIndex=n,this.intervalChanged_(n,a,i)}return this.interpolate_(n,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,n=this.sampleValues,i=this.valueSize,a=e*i;for(let u=0;u!==i;++u)t[u]=n[a+u];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class oD extends rv{constructor(e,t,n,i){super(e,t,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:yh,endingEnd:yh}}intervalChanged_(e,t,n){const i=this.parameterPositions;let a=e-2,u=e+1,c=i[a],d=i[u];if(c===void 0)switch(this.getSettings_().endingStart){case _h:a=e,c=2*t-n;break;case E0:a=i.length-2,c=t+i[a]-i[a+1];break;default:a=e,c=n}if(d===void 0)switch(this.getSettings_().endingEnd){case _h:u=e,d=2*n-t;break;case E0:u=1,d=n+i[1]-i[0];break;default:u=e-1,d=t}const p=(n-t)*.5,g=this.valueSize;this._weightPrev=p/(t-c),this._weightNext=p/(d-n),this._offsetPrev=a*g,this._offsetNext=u*g}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,c=this.valueSize,d=e*c,p=d-c,g=this._offsetPrev,y=this._offsetNext,_=this._weightPrev,x=this._weightNext,E=(n-t)/(i-t),T=E*E,A=T*E,M=-_*A+2*_*T-_*E,R=(1+_)*A+(-1.5-2*_)*T+(-.5+_)*E+1,D=(-1-x)*A+(1.5+x)*T+.5*E,L=x*A-x*T;for(let P=0;P!==c;++P)a[P]=M*u[g+P]+R*u[p+P]+D*u[d+P]+L*u[y+P];return a}}class lT extends rv{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,c=this.valueSize,d=e*c,p=d-c,g=(n-t)/(i-t),y=1-g;for(let _=0;_!==c;++_)a[_]=u[p+_]*y+u[d+_]*g;return a}}class lD extends rv{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ao{constructor(e,t,n,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=xh(t,this.TimeBufferType),this.values=xh(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let n;if(t.toJSON!==this.toJSON)n=t.toJSON(e);else{n={name:e.name,times:xh(e.times,Array),values:xh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(n.interpolation=i)}return n.type=e.ValueTypeName,n}InterpolantFactoryMethodDiscrete(e){return new lD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new lT(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new oD(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case M0:t=this.InterpolantFactoryMethodDiscrete;break;case Jx:t=this.InterpolantFactoryMethodLinear;break;case $_:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(n);return gt("KeyframeTrack:",n),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return M0;case this.InterpolantFactoryMethodLinear:return Jx;case this.InterpolantFactoryMethodSmooth:return $_}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let n=0,i=t.length;n!==i;++n)t[n]*=e}return this}trim(e,t){const n=this.times,i=n.length;let a=0,u=i-1;for(;a!==i&&n[a]<e;)++a;for(;u!==-1&&n[u]>t;)--u;if(++u,a!==0||u!==i){a>=u&&(u=Math.max(u,1),a=u-1);const c=this.getValueSize();this.times=n.slice(a,u),this.values=this.values.slice(a*c,u*c)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(Ot("KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,i=this.values,a=n.length;a===0&&(Ot("KeyframeTrack: Track is empty.",this),e=!1);let u=null;for(let c=0;c!==a;c++){const d=n[c];if(typeof d=="number"&&isNaN(d)){Ot("KeyframeTrack: Time is not a valid number.",this,c,d),e=!1;break}if(u!==null&&u>d){Ot("KeyframeTrack: Out of order keys.",this,c,d,u),e=!1;break}u=d}if(i!==void 0&&wR(i))for(let c=0,d=i.length;c!==d;++c){const p=i[c];if(isNaN(p)){Ot("KeyframeTrack: Value is not a valid number.",this,c,p),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),n=this.getValueSize(),i=this.getInterpolation()===$_,a=e.length-1;let u=1;for(let c=1;c<a;++c){let d=!1;const p=e[c],g=e[c+1];if(p!==g&&(c!==1||p!==e[0]))if(i)d=!0;else{const y=c*n,_=y-n,x=y+n;for(let E=0;E!==n;++E){const T=t[y+E];if(T!==t[_+E]||T!==t[x+E]){d=!0;break}}}if(d){if(c!==u){e[u]=e[c];const y=c*n,_=u*n;for(let x=0;x!==n;++x)t[_+x]=t[y+x]}++u}}if(a>0){e[u]=e[a];for(let c=a*n,d=u*n,p=0;p!==n;++p)t[d+p]=t[c+p];++u}return u!==e.length?(this.times=e.slice(0,u),this.values=t.slice(0,u*n)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),n=this.constructor,i=new n(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}ao.prototype.ValueTypeName="";ao.prototype.TimeBufferType=Float32Array;ao.prototype.ValueBufferType=Float32Array;ao.prototype.DefaultInterpolation=Jx;class Fh extends ao{constructor(e,t,n){super(e,t,n)}}Fh.prototype.ValueTypeName="bool";Fh.prototype.ValueBufferType=Array;Fh.prototype.DefaultInterpolation=M0;Fh.prototype.InterpolantFactoryMethodLinear=void 0;Fh.prototype.InterpolantFactoryMethodSmooth=void 0;class uT extends ao{constructor(e,t,n,i){super(e,t,n,i)}}uT.prototype.ValueTypeName="color";class L0 extends ao{constructor(e,t,n,i){super(e,t,n,i)}}L0.prototype.ValueTypeName="number";class uD extends rv{constructor(e,t,n,i){super(e,t,n,i)}interpolate_(e,t,n,i){const a=this.resultBuffer,u=this.sampleValues,c=this.valueSize,d=(n-t)/(i-t);let p=e*c;for(let g=p+c;p!==g;p+=4)is.slerpFlat(a,0,u,p-c,u,p,d);return a}}class sv extends ao{constructor(e,t,n,i){super(e,t,n,i)}InterpolantFactoryMethodLinear(e){return new uD(this.times,this.values,this.getValueSize(),e)}}sv.prototype.ValueTypeName="quaternion";sv.prototype.InterpolantFactoryMethodSmooth=void 0;class Bh extends ao{constructor(e,t,n){super(e,t,n)}}Bh.prototype.ValueTypeName="string";Bh.prototype.ValueBufferType=Array;Bh.prototype.DefaultInterpolation=M0;Bh.prototype.InterpolantFactoryMethodLinear=void 0;Bh.prototype.InterpolantFactoryMethodSmooth=void 0;class O0 extends ao{constructor(e,t,n,i){super(e,t,n,i)}}O0.prototype.ValueTypeName="vector";class I0{constructor(e="",t=-1,n=[],i=Lb){this.name=e,this.tracks=n,this.duration=t,this.blendMode=i,this.uuid=ba(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],n=e.tracks,i=1/(e.fps||1);for(let u=0,c=n.length;u!==c;++u)t.push(_4(n[u]).scale(i));const a=new this(e.name,e.duration,t,e.blendMode);return a.uuid=e.uuid,a.userData=JSON.parse(e.userData||"{}"),a}static toJSON(e){const t=[],n=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let a=0,u=n.length;a!==u;++a)t.push(ao.toJSON(n[a]));return i}static CreateFromMorphTargetSequence(e,t,n,i){const a=t.length,u=[];for(let c=0;c<a;c++){let d=[],p=[];d.push((c+a-1)%a,c,(c+1)%a),p.push(0,1,0);const g=aD(d);d=OM(d,1,g),p=OM(p,1,g),!i&&d[0]===0&&(d.push(a),p.push(p[0])),u.push(new L0(".morphTargetInfluences["+t[c].name+"]",d,p).scale(1/n))}return new this(e,-1,u)}static findByName(e,t){let n=e;if(!Array.isArray(e)){const i=e;n=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}static CreateClipsFromMorphTargetSequences(e,t,n){const i={},a=/^([\w-]*?)([\d]+)$/;for(let c=0,d=e.length;c<d;c++){const p=e[c],g=p.name.match(a);if(g&&g.length>1){const y=g[1];let _=i[y];_||(i[y]=_=[]),_.push(p)}}const u=[];for(const c in i)u.push(this.CreateFromMorphTargetSequence(c,i[c],t,n));return u}static parseAnimation(e,t){if(gt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return Ot("AnimationClip: No animation in JSONLoader data."),null;const n=function(y,_,x,E,T){if(x.length!==0){const A=[],M=[];oT(x,A,M,E),A.length!==0&&T.push(new y(_,A,M))}},i=[],a=e.name||"default",u=e.fps||30,c=e.blendMode;let d=e.length||-1;const p=e.hierarchy||[];for(let y=0;y<p.length;y++){const _=p[y].keys;if(!(!_||_.length===0))if(_[0].morphTargets){const x={};let E;for(E=0;E<_.length;E++)if(_[E].morphTargets)for(let T=0;T<_[E].morphTargets.length;T++)x[_[E].morphTargets[T]]=-1;for(const T in x){const A=[],M=[];for(let R=0;R!==_[E].morphTargets.length;++R){const D=_[E];A.push(D.time),M.push(D.morphTarget===T?1:0)}i.push(new L0(".morphTargetInfluence["+T+"]",A,M))}d=x.length*u}else{const x=".bones["+t[y].name+"]";n(O0,x+".position",_,"pos",i),n(sv,x+".quaternion",_,"rot",i),n(O0,x+".scale",_,"scl",i)}}return i.length===0?null:new this(a,d,i,c)}resetDuration(){const e=this.tracks;let t=0;for(let n=0,i=e.length;n!==i;++n){const a=this.tracks[n];t=Math.max(t,a.times[a.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function y4(r){switch(r.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return L0;case"vector":case"vector2":case"vector3":case"vector4":return O0;case"color":return uT;case"quaternion":return sv;case"bool":case"boolean":return Fh;case"string":return Bh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+r)}function _4(r){if(r.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=y4(r.type);if(r.times===void 0){const t=[],n=[];oT(r.keys,t,n,"value"),r.times=t,r.values=n}return e.parse!==void 0?e.parse(r):new e(r.name,r.times,r.values,r.interpolation)}const wl={enabled:!1,files:{},add:function(r,e){this.enabled!==!1&&(this.files[r]=e)},get:function(r){if(this.enabled!==!1)return this.files[r]},remove:function(r){delete this.files[r]},clear:function(){this.files={}}};class cT{constructor(e,t,n){const i=this;let a=!1,u=0,c=0,d;const p=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this._abortController=null,this.itemStart=function(g){c++,a===!1&&i.onStart!==void 0&&i.onStart(g,u,c),a=!0},this.itemEnd=function(g){u++,i.onProgress!==void 0&&i.onProgress(g,u,c),u===c&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(g){i.onError!==void 0&&i.onError(g)},this.resolveURL=function(g){return d?d(g):g},this.setURLModifier=function(g){return d=g,this},this.addHandler=function(g,y){return p.push(g,y),this},this.removeHandler=function(g){const y=p.indexOf(g);return y!==-1&&p.splice(y,2),this},this.getHandler=function(g){for(let y=0,_=p.length;y<_;y+=2){const x=p[y],E=p[y+1];if(x.global&&(x.lastIndex=0),x.test(g))return E}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const cD=new cT;class sa{constructor(e){this.manager=e!==void 0?e:cD,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const n=this;return new Promise(function(i,a){n.load(e,i,t,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}sa.DEFAULT_MATERIAL_NAME="__DEFAULT";const Eu={};class x4 extends Error{constructor(e,t){super(e),this.response=t}}class Fu extends sa{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=wl.get(`file:${e}`);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(a),this.manager.itemEnd(e)},0),a;if(Eu[e]!==void 0){Eu[e].push({onLoad:t,onProgress:n,onError:i});return}Eu[e]=[],Eu[e].push({onLoad:t,onProgress:n,onError:i});const u=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),c=this.mimeType,d=this.responseType;fetch(u).then(p=>{if(p.status===200||p.status===0){if(p.status===0&&gt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||p.body===void 0||p.body.getReader===void 0)return p;const g=Eu[e],y=p.body.getReader(),_=p.headers.get("X-File-Size")||p.headers.get("Content-Length"),x=_?parseInt(_):0,E=x!==0;let T=0;const A=new ReadableStream({start(M){R();function R(){y.read().then(({done:D,value:L})=>{if(D)M.close();else{T+=L.byteLength;const P=new ProgressEvent("progress",{lengthComputable:E,loaded:T,total:x});for(let z=0,B=g.length;z<B;z++){const k=g[z];k.onProgress&&k.onProgress(P)}M.enqueue(L),R()}},D=>{M.error(D)})}}});return new Response(A)}else throw new x4(`fetch for "${p.url}" responded with ${p.status}: ${p.statusText}`,p)}).then(p=>{switch(d){case"arraybuffer":return p.arrayBuffer();case"blob":return p.blob();case"document":return p.text().then(g=>new DOMParser().parseFromString(g,c));case"json":return p.json();default:if(c==="")return p.text();{const y=/charset="?([^;"\s]*)"?/i.exec(c),_=y&&y[1]?y[1].toLowerCase():void 0,x=new TextDecoder(_);return p.arrayBuffer().then(E=>x.decode(E))}}}).then(p=>{wl.add(`file:${e}`,p);const g=Eu[e];delete Eu[e];for(let y=0,_=g.length;y<_;y++){const x=g[y];x.onLoad&&x.onLoad(p)}}).catch(p=>{const g=Eu[e];if(g===void 0)throw this.manager.itemError(e),p;delete Eu[e];for(let y=0,_=g.length;y<_;y++){const x=g[y];x.onError&&x.onError(p)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class b4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=this,u=new Fu(this.manager);u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){i?i(d):Ot(d),a.manager.itemError(e)}},n,i)}parse(e){const t=[];for(let n=0;n<e.length;n++){const i=I0.parse(e[n]);t.push(i)}return t}}class S4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=this,u=[],c=new Gb,d=new Fu(this.manager);d.setPath(this.path),d.setResponseType("arraybuffer"),d.setRequestHeader(this.requestHeader),d.setWithCredentials(a.withCredentials);let p=0;function g(y){d.load(e[y],function(_){const x=a.parse(_,!0);u[y]={width:x.width,height:x.height,format:x.format,mipmaps:x.mipmaps},p+=1,p===6&&(x.mipmapCount===1&&(c.minFilter=di),c.image=u,c.format=x.format,c.needsUpdate=!0,t&&t(c))},n,i)}if(Array.isArray(e))for(let y=0,_=e.length;y<_;++y)g(y);else d.load(e,function(y){const _=a.parse(y,!0);if(_.isCubemap){const x=_.mipmaps.length/_.mipmapCount;for(let E=0;E<x;E++){u[E]={mipmaps:[]};for(let T=0;T<_.mipmapCount;T++)u[E].mipmaps.push(_.mipmaps[E*_.mipmapCount+T]),u[E].format=_.format,u[E].width=_.width,u[E].height=_.height}c.image=u}else c.image.width=_.width,c.image.height=_.height,c.mipmaps=_.mipmaps;_.mipmapCount===1&&(c.minFilter=di),c.format=_.format,c.needsUpdate=!0,t&&t(c)},n,i);return c}}const cp=new WeakMap;class P0 extends sa{constructor(e){super(e)}load(e,t,n,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,u=wl.get(`image:${e}`);if(u!==void 0){if(u.complete===!0)a.manager.itemStart(e),setTimeout(function(){t&&t(u),a.manager.itemEnd(e)},0);else{let y=cp.get(u);y===void 0&&(y=[],cp.set(u,y)),y.push({onLoad:t,onError:i})}return u}const c=A0("img");function d(){g(),t&&t(this);const y=cp.get(this)||[];for(let _=0;_<y.length;_++){const x=y[_];x.onLoad&&x.onLoad(this)}cp.delete(this),a.manager.itemEnd(e)}function p(y){g(),i&&i(y),wl.remove(`image:${e}`);const _=cp.get(this)||[];for(let x=0;x<_.length;x++){const E=_[x];E.onError&&E.onError(y)}cp.delete(this),a.manager.itemError(e),a.manager.itemEnd(e)}function g(){c.removeEventListener("load",d,!1),c.removeEventListener("error",p,!1)}return c.addEventListener("load",d,!1),c.addEventListener("error",p,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(c.crossOrigin=this.crossOrigin),wl.add(`image:${e}`,c),a.manager.itemStart(e),c.src=e,c}}class M4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=new J0;a.colorSpace=es;const u=new P0(this.manager);u.setCrossOrigin(this.crossOrigin),u.setPath(this.path);let c=0;function d(p){u.load(e[p],function(g){a.images[p]=g,c++,c===6&&(a.needsUpdate=!0,t&&t(a))},void 0,i)}for(let p=0;p<e.length;++p)d(p);return a}}class E4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=this,u=new Po,c=new Fu(this.manager);return c.setResponseType("arraybuffer"),c.setRequestHeader(this.requestHeader),c.setPath(this.path),c.setWithCredentials(a.withCredentials),c.load(e,function(d){let p;try{p=a.parse(d)}catch(g){if(i!==void 0)i(g);else{g(g);return}}p.image!==void 0?u.image=p.image:p.data!==void 0&&(u.image.width=p.width,u.image.height=p.height,u.image.data=p.data),u.wrapS=p.wrapS!==void 0?p.wrapS:Js,u.wrapT=p.wrapT!==void 0?p.wrapT:Js,u.magFilter=p.magFilter!==void 0?p.magFilter:di,u.minFilter=p.minFilter!==void 0?p.minFilter:di,u.anisotropy=p.anisotropy!==void 0?p.anisotropy:1,p.colorSpace!==void 0&&(u.colorSpace=p.colorSpace),p.flipY!==void 0&&(u.flipY=p.flipY),p.format!==void 0&&(u.format=p.format),p.type!==void 0&&(u.type=p.type),p.mipmaps!==void 0&&(u.mipmaps=p.mipmaps,u.minFilter=Tl),p.mipmapCount===1&&(u.minFilter=di),p.generateMipmaps!==void 0&&(u.generateMipmaps=p.generateMipmaps),u.needsUpdate=!0,t&&t(u,p)},n,i),u}}class T4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=new Bi,u=new P0(this.manager);return u.setCrossOrigin(this.crossOrigin),u.setPath(this.path),u.load(e,function(c){a.image=c,a.needsUpdate=!0,t!==void 0&&t(a)},n,i),a}}class af extends Nn{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new xt(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class fD extends af{constructor(e,t,n){super(e,n),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new xt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const US=new Xt,OA=new X,IA=new X;class fT{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.mapType=Es,this.map=null,this.mapPass=null,this.matrix=new Xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new $p,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new Dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,n=this.matrix;OA.setFromMatrixPosition(e.matrixWorld),t.position.copy(OA),IA.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(IA),t.updateMatrixWorld(),US.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(US,t.coordinateSystem,t.reversedDepth),t.reversedDepth?n.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(US)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class w4 extends fT{constructor(){super(new Ki(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,n=Pp*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,a=e.distance||t.far;(n!==t.fov||i!==t.aspect||a!==t.far)&&(t.fov=n,t.aspect=i,t.far=a,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class hD extends af{constructor(e,t,n=0,i=Math.PI/3,a=0,u=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.distance=n,this.angle=i,this.penumbra=a,this.decay=u,this.map=null,this.shadow=new w4}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class A4 extends fT{constructor(){super(new Ki(90,1,.5,500)),this.isPointLightShadow=!0}}class dD extends af{constructor(e,t,n=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=n,this.decay=i,this.shadow=new A4}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Pu extends zb{constructor(e=-1,t=1,n=1,i=-1,a=.1,u=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=n,this.bottom=i,this.near=a,this.far=u,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,n,i,a,u){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=i,this.view.width=a,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=n-e,u=n+e,c=i+t,d=i-t;if(this.view!==null&&this.view.enabled){const p=(this.right-this.left)/this.view.fullWidth/this.zoom,g=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=p*this.view.offsetX,u=a+p*this.view.width,c-=g*this.view.offsetY,d=c-g*this.view.height}this.projectionMatrix.makeOrthographic(a,u,c,d,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class C4 extends fT{constructor(){super(new Pu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class pD extends af{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.shadow=new C4}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class mD extends af{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class gD extends af{constructor(e,t,n=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=n,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class hT{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new X)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,i=e.y,a=e.z,u=this.coefficients;return t.copy(u[0]).multiplyScalar(.282095),t.addScaledVector(u[1],.488603*i),t.addScaledVector(u[2],.488603*a),t.addScaledVector(u[3],.488603*n),t.addScaledVector(u[4],1.092548*(n*i)),t.addScaledVector(u[5],1.092548*(i*a)),t.addScaledVector(u[6],.315392*(3*a*a-1)),t.addScaledVector(u[7],1.092548*(n*a)),t.addScaledVector(u[8],.546274*(n*n-i*i)),t}getIrradianceAt(e,t){const n=e.x,i=e.y,a=e.z,u=this.coefficients;return t.copy(u[0]).multiplyScalar(.886227),t.addScaledVector(u[1],2*.511664*i),t.addScaledVector(u[2],2*.511664*a),t.addScaledVector(u[3],2*.511664*n),t.addScaledVector(u[4],2*.429043*n*i),t.addScaledVector(u[5],2*.429043*i*a),t.addScaledVector(u[6],.743125*a*a-.247708),t.addScaledVector(u[7],2*.429043*n*a),t.addScaledVector(u[8],.429043*(n*n-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const n=this.coefficients;for(let i=0;i<9;i++)n[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const n=e.x,i=e.y,a=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*a,t[3]=.488603*n,t[4]=1.092548*n*i,t[5]=1.092548*i*a,t[6]=.315392*(3*a*a-1),t[7]=1.092548*n*a,t[8]=.546274*(n*n-i*i)}}class vD extends af{constructor(e=new hT,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class i1 extends sa{constructor(e){super(e),this.textures={}}load(e,t,n,i){const a=this,u=new Fu(a.manager);u.setPath(a.path),u.setRequestHeader(a.requestHeader),u.setWithCredentials(a.withCredentials),u.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){i?i(d):Ot(d),a.manager.itemError(e)}},n,i)}parse(e){const t=this.textures;function n(a){return t[a]===void 0&&gt("MaterialLoader: Undefined texture",a),t[a]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new xt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const u=e.uniforms[a];switch(i.uniforms[a]={},u.type){case"t":i.uniforms[a].value=n(u.value);break;case"c":i.uniforms[a].value=new xt().setHex(u.value);break;case"v2":i.uniforms[a].value=new Ve().fromArray(u.value);break;case"v3":i.uniforms[a].value=new X().fromArray(u.value);break;case"v4":i.uniforms[a].value=new Dn().fromArray(u.value);break;case"m3":i.uniforms[a].value=new nn().fromArray(u.value);break;case"m4":i.uniforms[a].value=new Xt().fromArray(u.value);break;default:i.uniforms[a].value=u.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=n(e.map)),e.matcap!==void 0&&(i.matcap=n(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=n(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=n(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=n(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new Ve().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=n(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=n(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=n(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=n(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=n(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=n(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=n(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=n(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=n(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=n(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=n(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=n(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=n(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=n(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=n(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=n(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=n(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=n(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=n(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=n(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return i1.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:QR,SpriteMaterial:rf,RawShaderMaterial:iT,ShaderMaterial:Ta,PointsMaterial:YE,MeshPhysicalMaterial:JR,MeshStandardMaterial:rT,MeshPhongMaterial:eD,MeshToonMaterial:tD,MeshNormalMaterial:nD,MeshLambertMaterial:iD,MeshDepthMaterial:sT,MeshDistanceMaterial:aT,MeshBasicMaterial:nf,MeshMatcapMaterial:rD,LineDashedMaterial:sD,LineBasicMaterial:Rs,Material:ss};return new t[e]}}class IM{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class dT extends jt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class yD extends sa{constructor(e){super(e)}load(e,t,n,i){const a=this,u=new Fu(a.manager);u.setPath(a.path),u.setRequestHeader(a.requestHeader),u.setWithCredentials(a.withCredentials),u.load(e,function(c){try{t(a.parse(JSON.parse(c)))}catch(d){i?i(d):Ot(d),a.manager.itemError(e)}},n,i)}parse(e){const t={},n={};function i(x,E){if(t[E]!==void 0)return t[E];const A=x.interleavedBuffers[E],M=a(x,A.buffer),R=Sp(A.type,M),D=new kb(R,A.stride);return D.uuid=A.uuid,t[E]=D,D}function a(x,E){if(n[E]!==void 0)return n[E];const A=x.arrayBuffers[E],M=new Uint32Array(A).buffer;return n[E]=M,M}const u=e.isInstancedBufferGeometry?new dT:new jt,c=e.data.index;if(c!==void 0){const x=Sp(c.type,c.array);u.setIndex(new zn(x,1))}const d=e.data.attributes;for(const x in d){const E=d[x];let T;if(E.isInterleavedBufferAttribute){const A=i(e.data,E.data);T=new ya(A,E.itemSize,E.offset,E.normalized)}else{const A=Sp(E.type,E.array),M=E.isInstancedBufferAttribute?Fp:zn;T=new M(A,E.itemSize,E.normalized)}E.name!==void 0&&(T.name=E.name),E.usage!==void 0&&T.setUsage(E.usage),u.setAttribute(x,T)}const p=e.data.morphAttributes;if(p)for(const x in p){const E=p[x],T=[];for(let A=0,M=E.length;A<M;A++){const R=E[A];let D;if(R.isInterleavedBufferAttribute){const L=i(e.data,R.data);D=new ya(L,R.itemSize,R.offset,R.normalized)}else{const L=Sp(R.type,R.array);D=new zn(L,R.itemSize,R.normalized)}R.name!==void 0&&(D.name=R.name),T.push(D)}u.morphAttributes[x]=T}e.data.morphTargetsRelative&&(u.morphTargetsRelative=!0);const y=e.data.groups||e.data.drawcalls||e.data.offsets;if(y!==void 0)for(let x=0,E=y.length;x!==E;++x){const T=y[x];u.addGroup(T.start,T.count,T.materialIndex)}const _=e.data.boundingSphere;return _!==void 0&&(u.boundingSphere=new mr().fromJSON(_)),e.name&&(u.name=e.name),e.userData&&(u.userData=e.userData),u}}class R4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=this,u=this.path===""?IM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||u;const c=new Fu(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(e,function(d){let p=null;try{p=JSON.parse(d)}catch(y){i!==void 0&&i(y),y("ObjectLoader: Can't parse "+e+".",y.message);return}const g=p.metadata;if(g===void 0||g.type===void 0||g.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),Ot("ObjectLoader: Can't load "+e);return}a.parse(p,t)},n,i)}async loadAsync(e,t){const n=this,i=this.path===""?IM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new Fu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const u=await a.loadAsync(e,t),c=JSON.parse(u),d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await n.parseAsync(c)}parse(e,t){const n=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),u=this.parseImages(e.images,function(){t!==void 0&&t(p)}),c=this.parseTextures(e.textures,u),d=this.parseMaterials(e.materials,c),p=this.parseObject(e.object,a,d,c,n),g=this.parseSkeletons(e.skeletons,p);if(this.bindSkeletons(p,g),this.bindLightTargets(p),t!==void 0){let y=!1;for(const _ in u)if(u[_].data instanceof HTMLImageElement){y=!0;break}y===!1&&t(p)}return p}async parseAsync(e){const t=this.parseAnimations(e.animations),n=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,n),a=await this.parseImagesAsync(e.images),u=this.parseTextures(e.textures,a),c=this.parseMaterials(e.materials,u),d=this.parseObject(e.object,i,c,u,t),p=this.parseSkeletons(e.skeletons,d);return this.bindSkeletons(d,p),this.bindLightTargets(d),d}parseShapes(e){const t={};if(e!==void 0)for(let n=0,i=e.length;n<i;n++){const a=new Eh().fromJSON(e[n]);t[a.uuid]=a}return t}parseSkeletons(e,t){const n={},i={};if(t.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,u=e.length;a<u;a++){const c=new Vb().fromJSON(e[a],i);n[c.uuid]=c}return n}parseGeometries(e,t){const n={};if(e!==void 0){const i=new yD;for(let a=0,u=e.length;a<u;a++){let c;const d=e[a];switch(d.type){case"BufferGeometry":case"InstancedBufferGeometry":c=i.parse(d);break;default:d.type in LA?c=LA[d.type].fromJSON(d,t):gt(`ObjectLoader: Unsupported geometry type "${d.type}"`)}c.uuid=d.uuid,d.name!==void 0&&(c.name=d.name),d.userData!==void 0&&(c.userData=d.userData),n[d.uuid]=c}}return n}parseMaterials(e,t){const n={},i={};if(e!==void 0){const a=new i1;a.setTextures(t);for(let u=0,c=e.length;u<c;u++){const d=e[u];n[d.uuid]===void 0&&(n[d.uuid]=a.parse(d)),i[d.uuid]=n[d.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let n=0;n<e.length;n++){const i=e[n],a=I0.parse(i);t[a.uuid]=a}return t}parseImages(e,t){const n=this,i={};let a;function u(d){return n.manager.itemStart(d),a.load(d,function(){n.manager.itemEnd(d)},void 0,function(){n.manager.itemError(d),n.manager.itemEnd(d)})}function c(d){if(typeof d=="string"){const p=d,g=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;return u(g)}else return d.data?{data:Sp(d.type,d.data),width:d.width,height:d.height}:null}if(e!==void 0&&e.length>0){const d=new cT(t);a=new P0(d),a.setCrossOrigin(this.crossOrigin);for(let p=0,g=e.length;p<g;p++){const y=e[p],_=y.url;if(Array.isArray(_)){const x=[];for(let E=0,T=_.length;E<T;E++){const A=_[E],M=c(A);M!==null&&(M instanceof HTMLImageElement?x.push(M):x.push(new Po(M.data,M.width,M.height)))}i[y.uuid]=new kc(x)}else{const x=c(y.url);i[y.uuid]=new kc(x)}}}return i}async parseImagesAsync(e){const t=this,n={};let i;async function a(u){if(typeof u=="string"){const c=u,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:t.resourcePath+c;return await i.loadAsync(d)}else return u.data?{data:Sp(u.type,u.data),width:u.width,height:u.height}:null}if(e!==void 0&&e.length>0){i=new P0(this.manager),i.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const d=e[u],p=d.url;if(Array.isArray(p)){const g=[];for(let y=0,_=p.length;y<_;y++){const x=p[y],E=await a(x);E!==null&&(E instanceof HTMLImageElement?g.push(E):g.push(new Po(E.data,E.width,E.height)))}n[d.uuid]=new kc(g)}else{const g=await a(d.url);n[d.uuid]=new kc(g)}}}return n}parseTextures(e,t){function n(a,u){return typeof a=="number"?a:(gt("ObjectLoader.parseTexture: Constant should be in numeric form.",a),u[a])}const i={};if(e!==void 0)for(let a=0,u=e.length;a<u;a++){const c=e[a];c.image===void 0&&gt('ObjectLoader: No "image" specified for',c.uuid),t[c.image]===void 0&&gt("ObjectLoader: Undefined image",c.image);const d=t[c.image],p=d.data;let g;Array.isArray(p)?(g=new J0,p.length===6&&(g.needsUpdate=!0)):(p&&p.data?g=new Po:g=new Bi,p&&(g.needsUpdate=!0)),g.source=d,g.uuid=c.uuid,c.name!==void 0&&(g.name=c.name),c.mapping!==void 0&&(g.mapping=n(c.mapping,D4)),c.channel!==void 0&&(g.channel=c.channel),c.offset!==void 0&&g.offset.fromArray(c.offset),c.repeat!==void 0&&g.repeat.fromArray(c.repeat),c.center!==void 0&&g.center.fromArray(c.center),c.rotation!==void 0&&(g.rotation=c.rotation),c.wrap!==void 0&&(g.wrapS=n(c.wrap[0],PA),g.wrapT=n(c.wrap[1],PA)),c.format!==void 0&&(g.format=c.format),c.internalFormat!==void 0&&(g.internalFormat=c.internalFormat),c.type!==void 0&&(g.type=c.type),c.colorSpace!==void 0&&(g.colorSpace=c.colorSpace),c.minFilter!==void 0&&(g.minFilter=n(c.minFilter,UA)),c.magFilter!==void 0&&(g.magFilter=n(c.magFilter,UA)),c.anisotropy!==void 0&&(g.anisotropy=c.anisotropy),c.flipY!==void 0&&(g.flipY=c.flipY),c.generateMipmaps!==void 0&&(g.generateMipmaps=c.generateMipmaps),c.premultiplyAlpha!==void 0&&(g.premultiplyAlpha=c.premultiplyAlpha),c.unpackAlignment!==void 0&&(g.unpackAlignment=c.unpackAlignment),c.compareFunction!==void 0&&(g.compareFunction=c.compareFunction),c.userData!==void 0&&(g.userData=c.userData),i[c.uuid]=g}return i}parseObject(e,t,n,i,a){let u;function c(_){return t[_]===void 0&&gt("ObjectLoader: Undefined geometry",_),t[_]}function d(_){if(_!==void 0){if(Array.isArray(_)){const x=[];for(let E=0,T=_.length;E<T;E++){const A=_[E];n[A]===void 0&&gt("ObjectLoader: Undefined material",A),x.push(n[A])}return x}return n[_]===void 0&&gt("ObjectLoader: Undefined material",_),n[_]}}function p(_){return i[_]===void 0&&gt("ObjectLoader: Undefined texture",_),i[_]}let g,y;switch(e.type){case"Scene":u=new jE,e.background!==void 0&&(Number.isInteger(e.background)?u.background=new xt(e.background):u.background=p(e.background)),e.environment!==void 0&&(u.environment=p(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?u.fog=new Bb(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(u.fog=new Fb(e.fog.color,e.fog.density)),e.fog.name!==""&&(u.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(u.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(u.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&u.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(u.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&u.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":u=new Ki(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(u.focus=e.focus),e.zoom!==void 0&&(u.zoom=e.zoom),e.filmGauge!==void 0&&(u.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(u.filmOffset=e.filmOffset),e.view!==void 0&&(u.view=Object.assign({},e.view));break;case"OrthographicCamera":u=new Pu(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(u.zoom=e.zoom),e.view!==void 0&&(u.view=Object.assign({},e.view));break;case"AmbientLight":u=new mD(e.color,e.intensity);break;case"DirectionalLight":u=new pD(e.color,e.intensity),u.target=e.target||"";break;case"PointLight":u=new dD(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":u=new gD(e.color,e.intensity,e.width,e.height);break;case"SpotLight":u=new hD(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),u.target=e.target||"";break;case"HemisphereLight":u=new fD(e.color,e.groundColor,e.intensity);break;case"LightProbe":const _=new hT().fromArray(e.sh);u=new vD(_,e.intensity);break;case"SkinnedMesh":g=c(e.geometry),y=d(e.material),u=new PR(g,y),e.bindMode!==void 0&&(u.bindMode=e.bindMode),e.bindMatrix!==void 0&&u.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(u.skeleton=e.skeleton);break;case"Mesh":g=c(e.geometry),y=d(e.material),u=new Qi(g,y);break;case"InstancedMesh":g=c(e.geometry),y=d(e.material);const x=e.count,E=e.instanceMatrix,T=e.instanceColor;u=new UR(g,y,x),u.instanceMatrix=new Fp(new Float32Array(E.array),16),T!==void 0&&(u.instanceColor=new Fp(new Float32Array(T.array),T.itemSize));break;case"BatchedMesh":g=c(e.geometry),y=d(e.material),u=new zR(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,y),u.geometry=g,u.perObjectFrustumCulled=e.perObjectFrustumCulled,u.sortObjects=e.sortObjects,u._drawRanges=e.drawRanges,u._reservedRanges=e.reservedRanges,u._geometryInfo=e.geometryInfo.map(A=>{let M=null,R=null;return A.boundingBox!==void 0&&(M=new pr().fromJSON(A.boundingBox)),A.boundingSphere!==void 0&&(R=new mr().fromJSON(A.boundingSphere)),{...A,boundingBox:M,boundingSphere:R}}),u._instanceInfo=e.instanceInfo,u._availableInstanceIds=e._availableInstanceIds,u._availableGeometryIds=e._availableGeometryIds,u._nextIndexStart=e.nextIndexStart,u._nextVertexStart=e.nextVertexStart,u._geometryCount=e.geometryCount,u._maxInstanceCount=e.maxInstanceCount,u._maxVertexCount=e.maxVertexCount,u._maxIndexCount=e.maxIndexCount,u._geometryInitialized=e.geometryInitialized,u._matricesTexture=p(e.matricesTexture.uuid),u._indirectTexture=p(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(u._colorsTexture=p(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(u.boundingSphere=new mr().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(u.boundingBox=new pr().fromJSON(e.boundingBox));break;case"LOD":u=new IR;break;case"Line":u=new Kc(c(e.geometry),d(e.material));break;case"LineLoop":u=new FR(c(e.geometry),d(e.material));break;case"LineSegments":u=new Fl(c(e.geometry),d(e.material));break;case"PointCloud":case"Points":u=new BR(c(e.geometry),d(e.material));break;case"Sprite":u=new zh(d(e.material));break;case"Group":u=new Mp;break;case"Bone":u=new qE;break;default:u=new Nn}if(u.uuid=e.uuid,e.name!==void 0&&(u.name=e.name),e.matrix!==void 0?(u.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(u.matrixAutoUpdate=e.matrixAutoUpdate),u.matrixAutoUpdate&&u.matrix.decompose(u.position,u.quaternion,u.scale)):(e.position!==void 0&&u.position.fromArray(e.position),e.rotation!==void 0&&u.rotation.fromArray(e.rotation),e.quaternion!==void 0&&u.quaternion.fromArray(e.quaternion),e.scale!==void 0&&u.scale.fromArray(e.scale)),e.up!==void 0&&u.up.fromArray(e.up),e.castShadow!==void 0&&(u.castShadow=e.castShadow),e.receiveShadow!==void 0&&(u.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(u.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(u.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(u.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(u.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&u.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(u.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(u.visible=e.visible),e.frustumCulled!==void 0&&(u.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(u.renderOrder=e.renderOrder),e.userData!==void 0&&(u.userData=e.userData),e.layers!==void 0&&(u.layers.mask=e.layers),e.children!==void 0){const _=e.children;for(let x=0;x<_.length;x++)u.add(this.parseObject(_[x],t,n,i,a))}if(e.animations!==void 0){const _=e.animations;for(let x=0;x<_.length;x++){const E=_[x];u.animations.push(a[E])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(u.autoUpdate=e.autoUpdate);const _=e.levels;for(let x=0;x<_.length;x++){const E=_[x],T=u.getObjectByProperty("uuid",E.object);T!==void 0&&u.addLevel(T,E.distance,E.hysteresis)}}return u}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(n){if(n.isSkinnedMesh===!0&&n.skeleton!==void 0){const i=t[n.skeleton];i===void 0?gt("ObjectLoader: No skeleton found with UUID:",n.skeleton):n.bind(i,n.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const n=t.target,i=e.getObjectByProperty("uuid",n);i!==void 0?t.target=i:t.target=new Nn}})}}const D4={UVMapping:Tb,CubeReflectionMapping:Ll,CubeRefractionMapping:qc,EquirectangularReflectionMapping:_0,EquirectangularRefractionMapping:x0,CubeUVReflectionMapping:Kp},PA={RepeatWrapping:b0,ClampToEdgeWrapping:Js,MirroredRepeatWrapping:S0},UA={NearestFilter:$i,NearestMipmapNearestFilter:OE,NearestMipmapLinearFilter:bp,LinearFilter:di,LinearMipmapNearestFilter:i0,LinearMipmapLinearFilter:Tl},zS=new WeakMap;class N4 extends sa{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&gt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&gt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,n,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,u=wl.get(`image-bitmap:${e}`);if(u!==void 0){if(a.manager.itemStart(e),u.then){u.then(p=>{if(zS.has(u)===!0)i&&i(zS.get(u)),a.manager.itemError(e),a.manager.itemEnd(e);else return t&&t(p),a.manager.itemEnd(e),p});return}return setTimeout(function(){t&&t(u),a.manager.itemEnd(e)},0),u}const c={};c.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",c.headers=this.requestHeader,c.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const d=fetch(e,c).then(function(p){return p.blob()}).then(function(p){return createImageBitmap(p,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(p){return wl.add(`image-bitmap:${e}`,p),t&&t(p),a.manager.itemEnd(e),p}).catch(function(p){i&&i(p),zS.set(d,p),wl.remove(`image-bitmap:${e}`),a.manager.itemError(e),a.manager.itemEnd(e)});wl.add(`image-bitmap:${e}`,d),a.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let D_;class pT{static getContext(){return D_===void 0&&(D_=new(window.AudioContext||window.webkitAudioContext)),D_}static setContext(e){D_=e}}class L4 extends sa{constructor(e){super(e)}load(e,t,n,i){const a=this,u=new Fu(this.manager);u.setResponseType("arraybuffer"),u.setPath(this.path),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(e,function(d){try{const p=d.slice(0);pT.getContext().decodeAudioData(p,function(y){t(y)}).catch(c)}catch(p){c(p)}},n,i);function c(d){i?i(d):Ot(d),a.manager.itemError(e)}}}const zA=new Xt,FA=new Xt,eh=new Xt;class O4{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ki,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ki,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,eh.copy(e.projectionMatrix);const i=t.eyeSep/2,a=i*t.near/t.focus,u=t.near*Math.tan(Mh*t.fov*.5)/t.zoom;let c,d;FA.elements[12]=-i,zA.elements[12]=i,c=-u*t.aspect+a,d=u*t.aspect+a,eh.elements[0]=2*t.near/(d-c),eh.elements[8]=(d+c)/(d-c),this.cameraL.projectionMatrix.copy(eh),c=-u*t.aspect-a,d=u*t.aspect-a,eh.elements[0]=2*t.near/(d-c),eh.elements[8]=(d+c)/(d-c),this.cameraR.projectionMatrix.copy(eh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(FA),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(zA)}}class _D extends Ki{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class mT{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const th=new X,FS=new is,I4=new X,nh=new X,ih=new X;class P4 extends Nn{constructor(){super(),this.type="AudioListener",this.context=pT.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new mT}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(th,FS,I4),nh.set(0,0,-1).applyQuaternion(FS),ih.set(0,1,0).applyQuaternion(FS),t.positionX){const n=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(th.x,n),t.positionY.linearRampToValueAtTime(th.y,n),t.positionZ.linearRampToValueAtTime(th.z,n),t.forwardX.linearRampToValueAtTime(nh.x,n),t.forwardY.linearRampToValueAtTime(nh.y,n),t.forwardZ.linearRampToValueAtTime(nh.z,n),t.upX.linearRampToValueAtTime(ih.x,n),t.upY.linearRampToValueAtTime(ih.y,n),t.upZ.linearRampToValueAtTime(ih.z,n)}else t.setPosition(th.x,th.y,th.z),t.setOrientation(nh.x,nh.y,nh.z,ih.x,ih.y,ih.z)}}class xD extends Nn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){gt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){gt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){gt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){gt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){gt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(gt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){gt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(gt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const rh=new X,BA=new is,U4=new X,sh=new X;class z4 extends xD{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rh,BA,U4),sh.set(0,0,1).applyQuaternion(BA);const t=this.panner;if(t.positionX){const n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(rh.x,n),t.positionY.linearRampToValueAtTime(rh.y,n),t.positionZ.linearRampToValueAtTime(rh.z,n),t.orientationX.linearRampToValueAtTime(sh.x,n),t.orientationY.linearRampToValueAtTime(sh.y,n),t.orientationZ.linearRampToValueAtTime(sh.z,n)}else t.setPosition(rh.x,rh.y,rh.z),t.setOrientation(sh.x,sh.y,sh.z)}}class F4{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}class bD{constructor(e,t,n){this.binding=e,this.valueSize=n;let i,a,u;switch(t){case"quaternion":i=this._slerp,a=this._slerpAdditive,u=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(n*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,u=this._setAdditiveIdentityOther,this.buffer=new Array(n*5);break;default:i=this._lerp,a=this._lerpAdditive,u=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(n*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=u,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const n=this.buffer,i=this.valueSize,a=e*i+i;let u=this.cumulativeWeight;if(u===0){for(let c=0;c!==i;++c)n[a+c]=n[c];u=t}else{u+=t;const c=t/u;this._mixBufferRegion(n,a,0,c,i)}this.cumulativeWeight=u}accumulateAdditive(e){const t=this.buffer,n=this.valueSize,i=n*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,n),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,n=this.buffer,i=e*t+t,a=this.cumulativeWeight,u=this.cumulativeWeightAdditive,c=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const d=t*this._origIndex;this._mixBufferRegion(n,i,d,1-a,t)}u>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*t,1,t);for(let d=t,p=t+t;d!==p;++d)if(n[d]!==n[d+t]){c.setValue(n,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,n=this.valueSize,i=n*this._origIndex;e.getValue(t,i);for(let a=n,u=i;a!==u;++a)t[a]=t[i+a%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}_select(e,t,n,i,a){if(i>=.5)for(let u=0;u!==a;++u)e[t+u]=e[n+u]}_slerp(e,t,n,i){is.slerpFlat(e,t,e,t,e,n,i)}_slerpAdditive(e,t,n,i,a){const u=this._workIndex*a;is.multiplyQuaternionsFlat(e,u,e,t,e,n),is.slerpFlat(e,t,e,t,e,u,i)}_lerp(e,t,n,i,a){const u=1-i;for(let c=0;c!==a;++c){const d=t+c;e[d]=e[d]*u+e[n+c]*i}}_lerpAdditive(e,t,n,i,a){for(let u=0;u!==a;++u){const c=t+u;e[c]=e[c]+e[n+u]*i}}}const gT="\\[\\]\\.:\\/",B4=new RegExp("["+gT+"]","g"),vT="[^"+gT+"]",k4="[^"+gT.replace("\\.","")+"]",V4=/((?:WC+[\/:])*)/.source.replace("WC",vT),H4=/(WCOD+)?/.source.replace("WCOD",k4),G4=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",vT),W4=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",vT),X4=new RegExp("^"+V4+H4+G4+W4+"$"),j4=["material","materials","bones","map"];class q4{constructor(e,t,n){const i=n||Rn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,i=this._bindings[n];i!==void 0&&i.getValue(e,t)}setValue(e,t){const n=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=n.length;i!==a;++i)n[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}class Rn{constructor(e,t,n){this.path=t,this.parsedPath=n||Rn.parseTrackName(t),this.node=Rn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,n){return e&&e.isAnimationObjectGroup?new Rn.Composite(e,t,n):new Rn(e,t,n)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(B4,"")}static parseTrackName(e){const t=X4.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=n.nodeName.substring(i+1);j4.indexOf(a)!==-1&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=a)}if(n.propertyName===null||n.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(n!==void 0)return n}if(e.children){const n=function(a){for(let u=0;u<a.length;u++){const c=a[u];if(c.name===t||c.uuid===t)return c;const d=n(c.children);if(d)return d}return null},i=n(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)e[t++]=n[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const n=this.resolvedProperty;for(let i=0,a=n.length;i!==a;++i)n[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,n=t.objectName,i=t.propertyName;let a=t.propertyIndex;if(e||(e=Rn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){gt("PropertyBinding: No target node found for track: "+this.path+".");return}if(n){let p=t.objectIndex;switch(n){case"materials":if(!e.material){Ot("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){Ot("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){Ot("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let g=0;g<e.length;g++)if(e[g].name===p){p=g;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){Ot("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){Ot("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[n]===void 0){Ot("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[n]}if(p!==void 0){if(e[p]===void 0){Ot("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[p]}}const u=e[i];if(u===void 0){const p=t.nodeName;Ot("PropertyBinding: Trying to update property for track: "+p+"."+i+" but it wasn't found.",e);return}let c=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?c=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(c=this.Versioning.MatrixWorldNeedsUpdate);let d=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){Ot("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){Ot("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}d=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else u.fromArray!==void 0&&u.toArray!==void 0?(d=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(d=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[d],this.setValue=this.SetterByBindingTypeAndVersioning[d][c]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Rn.Composite=q4;Rn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Rn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Rn.prototype.GetterByBindingType=[Rn.prototype._getValue_direct,Rn.prototype._getValue_array,Rn.prototype._getValue_arrayElement,Rn.prototype._getValue_toArray];Rn.prototype.SetterByBindingTypeAndVersioning=[[Rn.prototype._setValue_direct,Rn.prototype._setValue_direct_setNeedsUpdate,Rn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_array,Rn.prototype._setValue_array_setNeedsUpdate,Rn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_arrayElement,Rn.prototype._setValue_arrayElement_setNeedsUpdate,Rn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Rn.prototype._setValue_fromArray,Rn.prototype._setValue_fromArray_setNeedsUpdate,Rn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Y4{constructor(){this.isAnimationObjectGroup=!0,this.uuid=ba(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,n=this._paths,i=this._parsedPaths,a=this._bindings,u=a.length;let c,d=e.length,p=this.nCachedObjects_;for(let g=0,y=arguments.length;g!==y;++g){const _=arguments[g],x=_.uuid;let E=t[x];if(E===void 0){E=d++,t[x]=E,e.push(_);for(let T=0,A=u;T!==A;++T)a[T].push(new Rn(_,n[T],i[T]))}else if(E<p){c=e[E];const T=--p,A=e[T];t[A.uuid]=E,e[E]=A,t[x]=T,e[T]=_;for(let M=0,R=u;M!==R;++M){const D=a[M],L=D[T];let P=D[E];D[E]=L,P===void 0&&(P=new Rn(_,n[M],i[M])),D[T]=P}}else e[E]!==c&&Ot("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=p}remove(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_;for(let u=0,c=arguments.length;u!==c;++u){const d=arguments[u],p=d.uuid,g=t[p];if(g!==void 0&&g>=a){const y=a++,_=e[y];t[_.uuid]=g,e[g]=_,t[p]=y,e[y]=d;for(let x=0,E=i;x!==E;++x){const T=n[x],A=T[y],M=T[g];T[g]=A,T[y]=M}}}this.nCachedObjects_=a}uncache(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,i=n.length;let a=this.nCachedObjects_,u=e.length;for(let c=0,d=arguments.length;c!==d;++c){const p=arguments[c],g=p.uuid,y=t[g];if(y!==void 0)if(delete t[g],y<a){const _=--a,x=e[_],E=--u,T=e[E];t[x.uuid]=y,e[y]=x,t[T.uuid]=_,e[_]=T,e.pop();for(let A=0,M=i;A!==M;++A){const R=n[A],D=R[_],L=R[E];R[y]=D,R[_]=L,R.pop()}}else{const _=--u,x=e[_];_>0&&(t[x.uuid]=y),e[y]=x,e.pop();for(let E=0,T=i;E!==T;++E){const A=n[E];A[y]=A[_],A.pop()}}}this.nCachedObjects_=a}subscribe_(e,t){const n=this._bindingsIndicesByPath;let i=n[e];const a=this._bindings;if(i!==void 0)return a[i];const u=this._paths,c=this._parsedPaths,d=this._objects,p=d.length,g=this.nCachedObjects_,y=new Array(p);i=a.length,n[e]=i,u.push(e),c.push(t),a.push(y);for(let _=g,x=d.length;_!==x;++_){const E=d[_];y[_]=new Rn(E,e,t)}return y}unsubscribe_(e){const t=this._bindingsIndicesByPath,n=t[e];if(n!==void 0){const i=this._paths,a=this._parsedPaths,u=this._bindings,c=u.length-1,d=u[c],p=e[c];t[p]=n,u[n]=d,u.pop(),a[n]=a[c],a.pop(),i[n]=i[c],i.pop()}}}class SD{constructor(e,t,n=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=n,this.blendMode=i;const a=t.tracks,u=a.length,c=new Array(u),d={endingStart:yh,endingEnd:yh};for(let p=0;p!==u;++p){const g=a[p].createInterpolant(null);c[p]=g,g.settings=d}this._interpolantSettings=d,this._interpolants=c,this._propertyBindings=new Array(u),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=mR,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n=!1){if(e.fadeOut(t),this.fadeIn(t),n===!0){const i=this._clip.duration,a=e._clip.duration,u=a/i,c=i/a;e.warp(1,u,t),this.warp(c,1,t)}return this}crossFadeTo(e,t,n=!1){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const i=this._mixer,a=i.time,u=this.timeScale;let c=this._timeScaleInterpolant;c===null&&(c=i._lendControlInterpolant(),this._timeScaleInterpolant=c);const d=c.parameterPositions,p=c.sampleValues;return d[0]=a,d[1]=a+n,p[0]=e/u,p[1]=t/u,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const d=(e-a)*n;d<0||n===0?t=0:(this._startTime=null,t=n*d)}t*=this._updateTimeScale(e);const u=this._updateTime(t),c=this._updateWeight(e);if(c>0){const d=this._interpolants,p=this._propertyBindings;switch(this.blendMode){case kE:for(let g=0,y=d.length;g!==y;++g)d[g].evaluate(u),p[g].accumulateAdditive(c);break;case Lb:default:for(let g=0,y=d.length;g!==y;++g)d[g].evaluate(u),p[g].accumulate(i,c)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(n!==null){const i=n.evaluate(e)[0];t*=i,e>n.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let i=this.time+e,a=this._loopCount;const u=n===gR;if(e===0)return a===-1?i:u&&(a&1)===1?t-i:i;if(n===pR){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,u)):this._setEndings(this.repetitions===0,!0,u)),i>=t||i<0){const c=Math.floor(i/t);i-=t*c,a+=Math.abs(c);const d=this.repetitions-a;if(d<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(d===1){const p=e<0;this._setEndings(p,!p,u)}else this._setEndings(!1,!1,u);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=i;if(u&&(a&1)===1)return t-i}return i}_setEndings(e,t,n){const i=this._interpolantSettings;n?(i.endingStart=_h,i.endingEnd=_h):(e?i.endingStart=this.zeroSlopeAtStart?_h:yh:i.endingStart=E0,t?i.endingEnd=this.zeroSlopeAtEnd?_h:yh:i.endingEnd=E0)}_scheduleFading(e,t,n){const i=this._mixer,a=i.time;let u=this._weightInterpolant;u===null&&(u=i._lendControlInterpolant(),this._weightInterpolant=u);const c=u.parameterPositions,d=u.sampleValues;return c[0]=a,d[0]=t,c[1]=a+e,d[1]=n,this}}const Z4=new Float32Array(1);class K4 extends zl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const n=e._localRoot||this._root,i=e._clip.tracks,a=i.length,u=e._propertyBindings,c=e._interpolants,d=n.uuid,p=this._bindingsByRootAndName;let g=p[d];g===void 0&&(g={},p[d]=g);for(let y=0;y!==a;++y){const _=i[y],x=_.name;let E=g[x];if(E!==void 0)++E.referenceCount,u[y]=E;else{if(E=u[y],E!==void 0){E._cacheIndex===null&&(++E.referenceCount,this._addInactiveBinding(E,d,x));continue}const T=t&&t._propertyBindings[y].binding.parsedPath;E=new bD(Rn.create(n,x,T),_.ValueTypeName,_.getValueSize()),++E.referenceCount,this._addInactiveBinding(E,d,x),u[y]=E}c[y].resultBuffer=E.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const n=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,n)}const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,n){const i=this._actions,a=this._actionsByClip;let u=a[t];if(u===void 0)u={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[t]=u;else{const c=u.knownActions;e._byClipCacheIndex=c.length,c.push(e)}e._cacheIndex=i.length,i.push(e),u.actionByRoot[n]=e}_removeInactiveAction(e){const t=this._actions,n=t[t.length-1],i=e._cacheIndex;n._cacheIndex=i,t[i]=n,t.pop(),e._cacheIndex=null;const a=e._clip.uuid,u=this._actionsByClip,c=u[a],d=c.knownActions,p=d[d.length-1],g=e._byClipCacheIndex;p._byClipCacheIndex=g,d[g]=p,d.pop(),e._byClipCacheIndex=null;const y=c.actionByRoot,_=(e._localRoot||this._root).uuid;delete y[_],d.length===0&&delete u[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let n=0,i=t.length;n!==i;++n){const a=t[n];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const t=this._actions,n=e._cacheIndex,i=this._nActiveActions++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackAction(e){const t=this._actions,n=e._cacheIndex,i=--this._nActiveActions,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_addInactiveBinding(e,t,n){const i=this._bindingsByRootAndName,a=this._bindings;let u=i[t];u===void 0&&(u={},i[t]=u),u[n]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const t=this._bindings,n=e.binding,i=n.rootNode.uuid,a=n.path,u=this._bindingsByRootAndName,c=u[i],d=t[t.length-1],p=e._cacheIndex;d._cacheIndex=p,t[p]=d,t.pop(),delete c[a],Object.keys(c).length===0&&delete u[i]}_lendBinding(e){const t=this._bindings,n=e._cacheIndex,i=this._nActiveBindings++,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_takeBackBinding(e){const t=this._bindings,n=e._cacheIndex,i=--this._nActiveBindings,a=t[i];e._cacheIndex=i,t[i]=e,a._cacheIndex=n,t[n]=a}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return n===void 0&&(n=new lT(new Float32Array(2),new Float32Array(2),1,Z4),n.__cacheIndex=t,e[t]=n),n}_takeBackControlInterpolant(e){const t=this._controlInterpolants,n=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=t[i];e.__cacheIndex=i,t[i]=e,a.__cacheIndex=n,t[n]=a}clipAction(e,t,n){const i=t||this._root,a=i.uuid;let u=typeof e=="string"?I0.findByName(i,e):e;const c=u!==null?u.uuid:e,d=this._actionsByClip[c];let p=null;if(n===void 0&&(u!==null?n=u.blendMode:n=Lb),d!==void 0){const y=d.actionByRoot[a];if(y!==void 0&&y.blendMode===n)return y;p=d.knownActions[0],u===null&&(u=p._clip)}if(u===null)return null;const g=new SD(this,u,t,n);return this._bindAction(g,p),this._addInactiveAction(g,c,a),g}existingAction(e,t){const n=t||this._root,i=n.uuid,a=typeof e=="string"?I0.findByName(n,e):e,u=a?a.uuid:e,c=this._actionsByClip[u];return c!==void 0&&c.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let n=t-1;n>=0;--n)e[n].stop();return this}update(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,i=this.time+=e,a=Math.sign(e),u=this._accuIndex^=1;for(let p=0;p!==n;++p)t[p]._update(i,e,a,u);const c=this._bindings,d=this._nActiveBindings;for(let p=0;p!==d;++p)c[p].apply(u);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,n=e.uuid,i=this._actionsByClip,a=i[n];if(a!==void 0){const u=a.knownActions;for(let c=0,d=u.length;c!==d;++c){const p=u[c];this._deactivateAction(p);const g=p._cacheIndex,y=t[t.length-1];p._cacheIndex=null,p._byClipCacheIndex=null,y._cacheIndex=g,t[g]=y,t.pop(),this._removeInactiveBindingsForAction(p)}delete i[n]}}uncacheRoot(e){const t=e.uuid,n=this._actionsByClip;for(const u in n){const c=n[u].actionByRoot,d=c[t];d!==void 0&&(this._deactivateAction(d),this._removeInactiveAction(d))}const i=this._bindingsByRootAndName,a=i[t];if(a!==void 0)for(const u in a){const c=a[u];c.restoreOriginalState(),this._removeInactiveBinding(c)}}uncacheAction(e,t){const n=this.existingAction(e,t);n!==null&&(this._deactivateAction(n),this._removeInactiveAction(n))}}class $4 extends HE{constructor(e=1,t=1,n=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=n,this.texture=new Ub(null,e,t,n),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class yT{constructor(e){this.value=e}clone(){return new yT(this.value.clone===void 0?this.value:this.value.clone())}}let Q4=0;class J4 extends zl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Q4++}),this.name="",this.usage=w0,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let n=0,i=t.length;n<i;n++){const a=Array.isArray(t[n])?t[n]:[t[n]];for(let u=0;u<a.length;u++)this.uniforms.push(a[u].clone())}return this}clone(){return new this.constructor().copy(this)}}class sb extends kb{constructor(e,t,n=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class ez{constructor(e,t,n,i,a,u=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=i,this.count=a,this.normalized=u,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const kA=new Xt;class MD{constructor(e,t,n=0,i=1/0){this.ray=new Ph(e,t),this.near=n,this.far=i,this.camera=null,this.layers=new Up,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):Ot("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return kA.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(kA),this}intersectObject(e,t=!0,n=[]){return PM(e,this,n,t),n.sort(VA),n}intersectObjects(e,t=!0,n=[]){for(let i=0,a=e.length;i<a;i++)PM(e[i],this,n,t);return n.sort(VA),n}}function VA(r,e){return r.distance-e.distance}function PM(r,e,t,n){let i=!0;if(r.layers.test(e.layers)&&r.raycast(e,t)===!1&&(i=!1),i===!0&&n===!0){const a=r.children;for(let u=0,c=a.length;u<c;u++)PM(a[u],e,t,!0)}}class tz{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=nz.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function nz(){this._document.hidden===!1&&this.reset()}class UM{constructor(e=1,t=0,n=0){this.radius=e,this.phi=t,this.theta=n}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Wt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Wt(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class iz{constructor(e=1,t=0,n=0){this.radius=e,this.theta=t,this.y=n}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}clone(){return new this.constructor().copy(this)}}class _T{constructor(e,t,n,i){_T.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,n,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let n=0;n<4;n++)this.elements[n]=e[n+t];return this}set(e,t,n,i){const a=this.elements;return a[0]=e,a[2]=t,a[1]=n,a[3]=i,this}}const HA=new Ve;class rz{constructor(e=new Ve(1/0,1/0),t=new Ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=HA.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,HA).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const GA=new X,N_=new X,fp=new X,hp=new X,BS=new X,sz=new X,az=new X;class ED{constructor(e=new X,t=new X){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){GA.subVectors(e,this.start),N_.subVectors(this.end,this.start);const n=N_.dot(N_);let a=N_.dot(GA)/n;return t&&(a=Wt(a,0,1)),a}closestPointToPoint(e,t,n){const i=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=sz,n=az){const i=10000000000000001e-32;let a,u;const c=this.start,d=e.start,p=this.end,g=e.end;fp.subVectors(p,c),hp.subVectors(g,d),BS.subVectors(c,d);const y=fp.dot(fp),_=hp.dot(hp),x=hp.dot(BS);if(y<=i&&_<=i)return t.copy(c),n.copy(d),t.sub(n),t.dot(t);if(y<=i)a=0,u=x/_,u=Wt(u,0,1);else{const E=fp.dot(BS);if(_<=i)u=0,a=Wt(-E/y,0,1);else{const T=fp.dot(hp),A=y*_-T*T;A!==0?a=Wt((T*x-E*_)/A,0,1):a=0,u=(T*a+x)/_,u<0?(u=0,a=Wt(-E/y,0,1)):u>1&&(u=1,a=Wt((T-E)/y,0,1))}}return t.copy(c).add(fp.multiplyScalar(a)),n.copy(d).add(hp.multiplyScalar(u)),t.sub(n),t.dot(t)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const WA=new X;class oz extends Nn{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const n=new jt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let u=0,c=1,d=32;u<d;u++,c++){const p=u/d*Math.PI*2,g=c/d*Math.PI*2;i.push(Math.cos(p),Math.sin(p),1,Math.cos(g),Math.sin(g),1)}n.setAttribute("position",new bt(i,3));const a=new Rs({fog:!1,toneMapped:!1});this.cone=new Fl(n,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),WA.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(WA),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Uc=new X,L_=new Xt,kS=new Xt;class lz extends Fl{constructor(e){const t=TD(e),n=new jt,i=[],a=[];for(let p=0;p<t.length;p++){const g=t[p];g.parent&&g.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(0,0,0),a.push(0,0,0))}n.setAttribute("position",new bt(i,3)),n.setAttribute("color",new bt(a,3));const u=new Rs({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(n,u),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const c=new xt(255),d=new xt(65280);this.setColors(c,d)}updateMatrixWorld(e){const t=this.bones,n=this.geometry,i=n.getAttribute("position");kS.copy(this.root.matrixWorld).invert();for(let a=0,u=0;a<t.length;a++){const c=t[a];c.parent&&c.parent.isBone&&(L_.multiplyMatrices(kS,c.matrixWorld),Uc.setFromMatrixPosition(L_),i.setXYZ(u,Uc.x,Uc.y,Uc.z),L_.multiplyMatrices(kS,c.parent.matrixWorld),Uc.setFromMatrixPosition(L_),i.setXYZ(u+1,Uc.x,Uc.y,Uc.z),u+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let a=0;a<i.count;a+=2)i.setXYZ(a,e.r,e.g,e.b),i.setXYZ(a+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function TD(r){const e=[];r.isBone===!0&&e.push(r);for(let t=0;t<r.children.length;t++)e.push(...TD(r.children[t]));return e}class uz extends Qi{constructor(e,t,n){const i=new iv(t,4,2),a=new nf({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const cz=new X,XA=new xt,jA=new xt;class fz extends Nn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="HemisphereLightHelper";const i=new nv(t);i.rotateY(Math.PI*.5),this.material=new nf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),u=new Float32Array(a.count*3);i.setAttribute("color",new zn(u,3)),this.add(new Qi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");XA.copy(this.light.color),jA.copy(this.light.groundColor);for(let n=0,i=t.count;n<i;n++){const a=n<i/2?XA:jA;t.setXYZ(n,a.r,a.g,a.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(cz.setFromMatrixPosition(this.light.matrixWorld).negate())}}class hz extends Fl{constructor(e=10,t=10,n=4473924,i=8947848){n=new xt(n),i=new xt(i);const a=t/2,u=e/t,c=e/2,d=[],p=[];for(let _=0,x=0,E=-c;_<=t;_++,E+=u){d.push(-c,0,E,c,0,E),d.push(E,0,-c,E,0,c);const T=_===a?n:i;T.toArray(p,x),x+=3,T.toArray(p,x),x+=3,T.toArray(p,x),x+=3,T.toArray(p,x),x+=3}const g=new jt;g.setAttribute("position",new bt(d,3)),g.setAttribute("color",new bt(p,3));const y=new Rs({vertexColors:!0,toneMapped:!1});super(g,y),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class dz extends Fl{constructor(e=10,t=16,n=8,i=64,a=4473924,u=8947848){a=new xt(a),u=new xt(u);const c=[],d=[];if(t>1)for(let y=0;y<t;y++){const _=y/t*(Math.PI*2),x=Math.sin(_)*e,E=Math.cos(_)*e;c.push(0,0,0),c.push(x,0,E);const T=y&1?a:u;d.push(T.r,T.g,T.b),d.push(T.r,T.g,T.b)}for(let y=0;y<n;y++){const _=y&1?a:u,x=e-e/n*y;for(let E=0;E<i;E++){let T=E/i*(Math.PI*2),A=Math.sin(T)*x,M=Math.cos(T)*x;c.push(A,0,M),d.push(_.r,_.g,_.b),T=(E+1)/i*(Math.PI*2),A=Math.sin(T)*x,M=Math.cos(T)*x,c.push(A,0,M),d.push(_.r,_.g,_.b)}}const p=new jt;p.setAttribute("position",new bt(c,3)),p.setAttribute("color",new bt(d,3));const g=new Rs({vertexColors:!0,toneMapped:!1});super(p,g),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const qA=new X,O_=new X,YA=new X;class pz extends Nn{constructor(e,t,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new jt;i.setAttribute("position",new bt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const a=new Rs({fog:!1,toneMapped:!1});this.lightPlane=new Kc(i,a),this.add(this.lightPlane),i=new jt,i.setAttribute("position",new bt([0,0,0,0,0,1],3)),this.targetLine=new Kc(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),qA.setFromMatrixPosition(this.light.matrixWorld),O_.setFromMatrixPosition(this.light.target.matrixWorld),YA.subVectors(O_,qA),this.lightPlane.lookAt(O_),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(O_),this.targetLine.scale.z=YA.length()}}const I_=new X,zi=new zb;class mz extends Fl{constructor(e){const t=new jt,n=new Rs({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],u={};c("n1","n2"),c("n2","n4"),c("n4","n3"),c("n3","n1"),c("f1","f2"),c("f2","f4"),c("f4","f3"),c("f3","f1"),c("n1","f1"),c("n2","f2"),c("n3","f3"),c("n4","f4"),c("p","n1"),c("p","n2"),c("p","n3"),c("p","n4"),c("u1","u2"),c("u2","u3"),c("u3","u1"),c("c","t"),c("p","c"),c("cn1","cn2"),c("cn3","cn4"),c("cf1","cf2"),c("cf3","cf4");function c(E,T){d(E),d(T)}function d(E){i.push(0,0,0),a.push(0,0,0),u[E]===void 0&&(u[E]=[]),u[E].push(i.length/3-1)}t.setAttribute("position",new bt(i,3)),t.setAttribute("color",new bt(a,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=u,this.update();const p=new xt(16755200),g=new xt(16711680),y=new xt(43775),_=new xt(16777215),x=new xt(3355443);this.setColors(p,g,y,_,x)}setColors(e,t,n,i,a){const c=this.geometry.getAttribute("color");return c.setXYZ(0,e.r,e.g,e.b),c.setXYZ(1,e.r,e.g,e.b),c.setXYZ(2,e.r,e.g,e.b),c.setXYZ(3,e.r,e.g,e.b),c.setXYZ(4,e.r,e.g,e.b),c.setXYZ(5,e.r,e.g,e.b),c.setXYZ(6,e.r,e.g,e.b),c.setXYZ(7,e.r,e.g,e.b),c.setXYZ(8,e.r,e.g,e.b),c.setXYZ(9,e.r,e.g,e.b),c.setXYZ(10,e.r,e.g,e.b),c.setXYZ(11,e.r,e.g,e.b),c.setXYZ(12,e.r,e.g,e.b),c.setXYZ(13,e.r,e.g,e.b),c.setXYZ(14,e.r,e.g,e.b),c.setXYZ(15,e.r,e.g,e.b),c.setXYZ(16,e.r,e.g,e.b),c.setXYZ(17,e.r,e.g,e.b),c.setXYZ(18,e.r,e.g,e.b),c.setXYZ(19,e.r,e.g,e.b),c.setXYZ(20,e.r,e.g,e.b),c.setXYZ(21,e.r,e.g,e.b),c.setXYZ(22,e.r,e.g,e.b),c.setXYZ(23,e.r,e.g,e.b),c.setXYZ(24,t.r,t.g,t.b),c.setXYZ(25,t.r,t.g,t.b),c.setXYZ(26,t.r,t.g,t.b),c.setXYZ(27,t.r,t.g,t.b),c.setXYZ(28,t.r,t.g,t.b),c.setXYZ(29,t.r,t.g,t.b),c.setXYZ(30,t.r,t.g,t.b),c.setXYZ(31,t.r,t.g,t.b),c.setXYZ(32,n.r,n.g,n.b),c.setXYZ(33,n.r,n.g,n.b),c.setXYZ(34,n.r,n.g,n.b),c.setXYZ(35,n.r,n.g,n.b),c.setXYZ(36,n.r,n.g,n.b),c.setXYZ(37,n.r,n.g,n.b),c.setXYZ(38,i.r,i.g,i.b),c.setXYZ(39,i.r,i.g,i.b),c.setXYZ(40,a.r,a.g,a.b),c.setXYZ(41,a.r,a.g,a.b),c.setXYZ(42,a.r,a.g,a.b),c.setXYZ(43,a.r,a.g,a.b),c.setXYZ(44,a.r,a.g,a.b),c.setXYZ(45,a.r,a.g,a.b),c.setXYZ(46,a.r,a.g,a.b),c.setXYZ(47,a.r,a.g,a.b),c.setXYZ(48,a.r,a.g,a.b),c.setXYZ(49,a.r,a.g,a.b),c.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,n=1,i=1;let a,u;if(zi.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)a=1,u=0;else if(this.camera.coordinateSystem===va)a=-1,u=1;else if(this.camera.coordinateSystem===Op)a=0,u=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Yi("c",t,e,zi,0,0,a),Yi("t",t,e,zi,0,0,u),Yi("n1",t,e,zi,-n,-i,a),Yi("n2",t,e,zi,n,-i,a),Yi("n3",t,e,zi,-n,i,a),Yi("n4",t,e,zi,n,i,a),Yi("f1",t,e,zi,-n,-i,u),Yi("f2",t,e,zi,n,-i,u),Yi("f3",t,e,zi,-n,i,u),Yi("f4",t,e,zi,n,i,u),Yi("u1",t,e,zi,n*.7,i*1.1,a),Yi("u2",t,e,zi,-n*.7,i*1.1,a),Yi("u3",t,e,zi,0,i*2,a),Yi("cf1",t,e,zi,-n,0,u),Yi("cf2",t,e,zi,n,0,u),Yi("cf3",t,e,zi,0,-i,u),Yi("cf4",t,e,zi,0,i,u),Yi("cn1",t,e,zi,-n,0,a),Yi("cn2",t,e,zi,n,0,a),Yi("cn3",t,e,zi,0,-i,a),Yi("cn4",t,e,zi,0,i,a),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Yi(r,e,t,n,i,a,u){I_.set(i,a,u).unproject(n);const c=e[r];if(c!==void 0){const d=t.getAttribute("position");for(let p=0,g=c.length;p<g;p++)d.setXYZ(c[p],I_.x,I_.y,I_.z)}}const P_=new pr;class gz extends Fl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),a=new jt;a.setIndex(new zn(n,1)),a.setAttribute("position",new zn(i,3)),super(a,new Rs({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&P_.setFromObject(this.object),P_.isEmpty())return;const e=P_.min,t=P_.max,n=this.geometry.attributes.position,i=n.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class vz extends Fl{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new jt;a.setIndex(new zn(n,1)),a.setAttribute("position",new bt(i,3)),super(a,new Rs({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class yz extends Kc{constructor(e,t=1,n=16776960){const i=n,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],u=new jt;u.setAttribute("position",new bt(a,3)),u.computeBoundingSphere(),super(u,new Rs({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const c=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new jt;d.setAttribute("position",new bt(c,3)),d.computeBoundingSphere(),this.add(new Qi(d,new nf({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const ZA=new X;let U_,VS;class _z extends Nn{constructor(e=new X(0,0,1),t=new X(0,0,0),n=1,i=16776960,a=n*.2,u=a*.2){super(),this.type="ArrowHelper",U_===void 0&&(U_=new jt,U_.setAttribute("position",new bt([0,0,0,0,1,0],3)),VS=new tv(.5,1,5,1),VS.translate(0,-.5,0)),this.position.copy(t),this.line=new Kc(U_,new Rs({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qi(VS,new nf({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,a,u)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{ZA.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(ZA,t)}}setLength(e,t=e*.2,n=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class xz extends Fl{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new jt;i.setAttribute("position",new bt(t,3)),i.setAttribute("color",new bt(n,3));const a=new Rs({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,t,n){const i=new xt,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(t),i.toArray(a,6),i.toArray(a,9),i.set(n),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class bz{constructor(){this.type="ShapePath",this.color=new xt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new rb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,n,i){return this.currentPath.quadraticCurveTo(e,t,n,i),this}bezierCurveTo(e,t,n,i,a,u){return this.currentPath.bezierCurveTo(e,t,n,i,a,u),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(M){const R=[];for(let D=0,L=M.length;D<L;D++){const P=M[D],z=new Eh;z.curves=P.curves,R.push(z)}return R}function n(M,R){const D=R.length;let L=!1;for(let P=D-1,z=0;z<D;P=z++){let B=R[P],k=R[z],I=k.x-B.x,O=k.y-B.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(B=R[z],I=-I,k=R[P],O=-O),M.y<B.y||M.y>k.y)continue;if(M.y===B.y){if(M.x===B.x)return!0}else{const W=O*(M.x-B.x)-I*(M.y-B.y);if(W===0)return!0;if(W<0)continue;L=!L}}else{if(M.y!==B.y)continue;if(k.x<=M.x&&M.x<=B.x||B.x<=M.x&&M.x<=k.x)return!0}}return L}const i=Io.isClockWise,a=this.subPaths;if(a.length===0)return[];let u,c,d;const p=[];if(a.length===1)return c=a[0],d=new Eh,d.curves=c.curves,p.push(d),p;let g=!i(a[0].getPoints());g=e?!g:g;const y=[],_=[];let x=[],E=0,T;_[E]=void 0,x[E]=[];for(let M=0,R=a.length;M<R;M++)c=a[M],T=c.getPoints(),u=i(T),u=e?!u:u,u?(!g&&_[E]&&E++,_[E]={s:new Eh,p:T},_[E].s.curves=c.curves,g&&E++,x[E]=[]):x[E].push({h:c,p:T[0]});if(!_[0])return t(a);if(_.length>1){let M=!1,R=0;for(let D=0,L=_.length;D<L;D++)y[D]=[];for(let D=0,L=_.length;D<L;D++){const P=x[D];for(let z=0;z<P.length;z++){const B=P[z];let k=!0;for(let I=0;I<_.length;I++)n(B.p,_[I].p)&&(D!==I&&R++,k?(k=!1,y[I].push(B)):M=!0);k&&y[D].push(B)}}R>0&&M===!1&&(x=y)}let A;for(let M=0,R=_.length;M<R;M++){d=_[M].s,p.push(d),A=x[M];for(let D=0,L=A.length;D<L;D++)d.holes.push(A[D].h)}return p}}class Sz extends zl{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){gt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Mz(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2):(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0),r}function Ez(r,e){const t=r.image&&r.image.width?r.image.width/r.image.height:1;return t>e?(r.repeat.x=e/t,r.repeat.y=1,r.offset.x=(1-r.repeat.x)/2,r.offset.y=0):(r.repeat.x=1,r.repeat.y=t/e,r.offset.x=0,r.offset.y=(1-r.repeat.y)/2),r}function Tz(r){return r.repeat.x=1,r.repeat.y=1,r.offset.x=0,r.offset.y=0,r}function zM(r,e,t,n){const i=wz(n);switch(t){case FE:return r*e;case Rb:return r*e/i.components*i.byteLength;case Q0:return r*e/i.components*i.byteLength;case Lh:return r*e*2/i.components*i.byteLength;case Db:return r*e*2/i.components*i.byteLength;case BE:return r*e*3/i.components*i.byteLength;case ns:return r*e*4/i.components*i.byteLength;case Nb:return r*e*4/i.components*i.byteLength;case r0:case s0:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case a0:case o0:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Sx:case Ex:return Math.max(r,16)*Math.max(e,8)/4;case bx:case Mx:return Math.max(r,8)*Math.max(e,8)/2;case Tx:case wx:case Cx:case Rx:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*8;case Ax:case Dx:case Nx:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Lx:return Math.floor((r+3)/4)*Math.floor((e+3)/4)*16;case Ox:return Math.floor((r+4)/5)*Math.floor((e+3)/4)*16;case Ix:return Math.floor((r+4)/5)*Math.floor((e+4)/5)*16;case Px:return Math.floor((r+5)/6)*Math.floor((e+4)/5)*16;case Ux:return Math.floor((r+5)/6)*Math.floor((e+5)/6)*16;case zx:return Math.floor((r+7)/8)*Math.floor((e+4)/5)*16;case Fx:return Math.floor((r+7)/8)*Math.floor((e+5)/6)*16;case Bx:return Math.floor((r+7)/8)*Math.floor((e+7)/8)*16;case kx:return Math.floor((r+9)/10)*Math.floor((e+4)/5)*16;case Vx:return Math.floor((r+9)/10)*Math.floor((e+5)/6)*16;case Hx:return Math.floor((r+9)/10)*Math.floor((e+7)/8)*16;case Gx:return Math.floor((r+9)/10)*Math.floor((e+9)/10)*16;case Wx:return Math.floor((r+11)/12)*Math.floor((e+9)/10)*16;case Xx:return Math.floor((r+11)/12)*Math.floor((e+11)/12)*16;case jx:case qx:case Yx:return Math.ceil(r/4)*Math.ceil(e/4)*16;case Zx:case Kx:return Math.ceil(r/4)*Math.ceil(e/4)*8;case $x:case Qx:return Math.ceil(r/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function wz(r){switch(r){case Es:case IE:return{byteLength:1,components:1};case Np:case PE:case Ol:return{byteLength:2,components:1};case Ab:case Cb:return{byteLength:2,components:4};case ro:case wb:case As:return{byteLength:4,components:1};case UE:case zE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${r}.`)}class Az{static contain(e,t){return Mz(e,t)}static cover(e,t){return Ez(e,t)}static fill(e){return Tz(e)}static getByteLength(e,t,n,i){return zM(e,t,n,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:K0}}));typeof window<"u"&&(window.__THREE__?gt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=K0);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function wD(){let r=null,e=!1,t=null,n=null;function i(a,u){t(a,u),n=r.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(n=r.requestAnimationFrame(i),e=!0)},stop:function(){r.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(a){t=a},setContext:function(a){r=a}}}function Cz(r){const e=new WeakMap;function t(c,d){const p=c.array,g=c.usage,y=p.byteLength,_=r.createBuffer();r.bindBuffer(d,_),r.bufferData(d,p,g),c.onUploadCallback();let x;if(p instanceof Float32Array)x=r.FLOAT;else if(typeof Float16Array<"u"&&p instanceof Float16Array)x=r.HALF_FLOAT;else if(p instanceof Uint16Array)c.isFloat16BufferAttribute?x=r.HALF_FLOAT:x=r.UNSIGNED_SHORT;else if(p instanceof Int16Array)x=r.SHORT;else if(p instanceof Uint32Array)x=r.UNSIGNED_INT;else if(p instanceof Int32Array)x=r.INT;else if(p instanceof Int8Array)x=r.BYTE;else if(p instanceof Uint8Array)x=r.UNSIGNED_BYTE;else if(p instanceof Uint8ClampedArray)x=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+p);return{buffer:_,type:x,bytesPerElement:p.BYTES_PER_ELEMENT,version:c.version,size:y}}function n(c,d,p){const g=d.array,y=d.updateRanges;if(r.bindBuffer(p,c),y.length===0)r.bufferSubData(p,0,g);else{y.sort((x,E)=>x.start-E.start);let _=0;for(let x=1;x<y.length;x++){const E=y[_],T=y[x];T.start<=E.start+E.count+1?E.count=Math.max(E.count,T.start+T.count-E.start):(++_,y[_]=T)}y.length=_+1;for(let x=0,E=y.length;x<E;x++){const T=y[x];r.bufferSubData(p,T.start*g.BYTES_PER_ELEMENT,g,T.start,T.count)}d.clearUpdateRanges()}d.onUploadCallback()}function i(c){return c.isInterleavedBufferAttribute&&(c=c.data),e.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const d=e.get(c);d&&(r.deleteBuffer(d.buffer),e.delete(c))}function u(c,d){if(c.isInterleavedBufferAttribute&&(c=c.data),c.isGLBufferAttribute){const g=e.get(c);(!g||g.version<c.version)&&e.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}const p=e.get(c);if(p===void 0)e.set(c,t(c,d));else if(p.version<c.version){if(p.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");n(p.buffer,c,d),p.version=c.version}}return{get:i,remove:a,update:u}}var Rz=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Dz=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Nz=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Lz=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Oz=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Iz=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Pz=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Uz=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,zz=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Fz=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Bz=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,kz=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Vz=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Hz=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Gz=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Wz=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Xz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,jz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,qz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Yz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Zz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Kz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,$z=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Qz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Jz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,e5=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,t5=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,n5=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,i5=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,r5=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,s5="gl_FragColor = linearToOutputTexel( gl_FragColor );",a5=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,o5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,l5=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,u5=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,c5=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,f5=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,h5=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,d5=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,p5=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,m5=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,g5=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,v5=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,y5=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,_5=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,x5=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,b5=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,S5=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,M5=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,E5=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,T5=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,w5=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,A5=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( vec3( 1.0 ) - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,C5=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,R5=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,D5=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,N5=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,L5=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,O5=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,I5=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,P5=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,U5=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,z5=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,F5=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,B5=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,k5=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,V5=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,H5=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,G5=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,W5=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,X5=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,j5=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,q5=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Y5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Z5=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,K5=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$5=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Q5=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,J5=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,eF=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,tF=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,nF=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,iF=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,rF=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,sF=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,aF=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,oF=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,lF=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,uF=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,cF=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * 6.28318530718;
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 0, 5, phi ).x + bitangent * vogelDiskSample( 0, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 1, 5, phi ).x + bitangent * vogelDiskSample( 1, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 2, 5, phi ).x + bitangent * vogelDiskSample( 2, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 3, 5, phi ).x + bitangent * vogelDiskSample( 3, 5, phi ).y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * vogelDiskSample( 4, 5, phi ).x + bitangent * vogelDiskSample( 4, 5, phi ).y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadow = step( depth, dp );
			#else
				shadow = step( dp, depth );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,fF=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,hF=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dF=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,pF=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,mF=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,gF=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,vF=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,yF=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,_F=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,xF=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,bF=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,SF=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,MF=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,EF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,TF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,wF=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,AF=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const CF=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,RF=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,DF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,NF=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,LF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,OF=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,IF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,PF=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,UF=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,zF=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,FF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,BF=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,kF=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,VF=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,HF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,GF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WF=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XF=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,qF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,ZF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,KF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$F=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,JF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eB=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,tB=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,nB=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,iB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,rB=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,sB=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,aB=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,oB=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,cn={alphahash_fragment:Rz,alphahash_pars_fragment:Dz,alphamap_fragment:Nz,alphamap_pars_fragment:Lz,alphatest_fragment:Oz,alphatest_pars_fragment:Iz,aomap_fragment:Pz,aomap_pars_fragment:Uz,batching_pars_vertex:zz,batching_vertex:Fz,begin_vertex:Bz,beginnormal_vertex:kz,bsdfs:Vz,iridescence_fragment:Hz,bumpmap_pars_fragment:Gz,clipping_planes_fragment:Wz,clipping_planes_pars_fragment:Xz,clipping_planes_pars_vertex:jz,clipping_planes_vertex:qz,color_fragment:Yz,color_pars_fragment:Zz,color_pars_vertex:Kz,color_vertex:$z,common:Qz,cube_uv_reflection_fragment:Jz,defaultnormal_vertex:e5,displacementmap_pars_vertex:t5,displacementmap_vertex:n5,emissivemap_fragment:i5,emissivemap_pars_fragment:r5,colorspace_fragment:s5,colorspace_pars_fragment:a5,envmap_fragment:o5,envmap_common_pars_fragment:l5,envmap_pars_fragment:u5,envmap_pars_vertex:c5,envmap_physical_pars_fragment:b5,envmap_vertex:f5,fog_vertex:h5,fog_pars_vertex:d5,fog_fragment:p5,fog_pars_fragment:m5,gradientmap_pars_fragment:g5,lightmap_pars_fragment:v5,lights_lambert_fragment:y5,lights_lambert_pars_fragment:_5,lights_pars_begin:x5,lights_toon_fragment:S5,lights_toon_pars_fragment:M5,lights_phong_fragment:E5,lights_phong_pars_fragment:T5,lights_physical_fragment:w5,lights_physical_pars_fragment:A5,lights_fragment_begin:C5,lights_fragment_maps:R5,lights_fragment_end:D5,logdepthbuf_fragment:N5,logdepthbuf_pars_fragment:L5,logdepthbuf_pars_vertex:O5,logdepthbuf_vertex:I5,map_fragment:P5,map_pars_fragment:U5,map_particle_fragment:z5,map_particle_pars_fragment:F5,metalnessmap_fragment:B5,metalnessmap_pars_fragment:k5,morphinstance_vertex:V5,morphcolor_vertex:H5,morphnormal_vertex:G5,morphtarget_pars_vertex:W5,morphtarget_vertex:X5,normal_fragment_begin:j5,normal_fragment_maps:q5,normal_pars_fragment:Y5,normal_pars_vertex:Z5,normal_vertex:K5,normalmap_pars_fragment:$5,clearcoat_normal_fragment_begin:Q5,clearcoat_normal_fragment_maps:J5,clearcoat_pars_fragment:eF,iridescence_pars_fragment:tF,opaque_fragment:nF,packing:iF,premultiplied_alpha_fragment:rF,project_vertex:sF,dithering_fragment:aF,dithering_pars_fragment:oF,roughnessmap_fragment:lF,roughnessmap_pars_fragment:uF,shadowmap_pars_fragment:cF,shadowmap_pars_vertex:fF,shadowmap_vertex:hF,shadowmask_pars_fragment:dF,skinbase_vertex:pF,skinning_pars_vertex:mF,skinning_vertex:gF,skinnormal_vertex:vF,specularmap_fragment:yF,specularmap_pars_fragment:_F,tonemapping_fragment:xF,tonemapping_pars_fragment:bF,transmission_fragment:SF,transmission_pars_fragment:MF,uv_pars_fragment:EF,uv_pars_vertex:TF,uv_vertex:wF,worldpos_vertex:AF,background_vert:CF,background_frag:RF,backgroundCube_vert:DF,backgroundCube_frag:NF,cube_vert:LF,cube_frag:OF,depth_vert:IF,depth_frag:PF,distance_vert:UF,distance_frag:zF,equirect_vert:FF,equirect_frag:BF,linedashed_vert:kF,linedashed_frag:VF,meshbasic_vert:HF,meshbasic_frag:GF,meshlambert_vert:WF,meshlambert_frag:XF,meshmatcap_vert:jF,meshmatcap_frag:qF,meshnormal_vert:YF,meshnormal_frag:ZF,meshphong_vert:KF,meshphong_frag:$F,meshphysical_vert:QF,meshphysical_frag:JF,meshtoon_vert:eB,meshtoon_frag:tB,points_vert:nB,points_frag:iB,shadow_vert:rB,shadow_frag:sB,sprite_vert:aB,sprite_frag:oB},mt={common:{diffuse:{value:new xt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new nn}},envmap:{envMap:{value:null},envMapRotation:{value:new nn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new nn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new nn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new nn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new nn},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new nn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new nn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new nn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new nn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new xt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new xt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0},uvTransform:{value:new nn}},sprite:{diffuse:{value:new xt(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new nn},alphaMap:{value:null},alphaMapTransform:{value:new nn},alphaTest:{value:0}}},Oo={basic:{uniforms:Ss([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.fog]),vertexShader:cn.meshbasic_vert,fragmentShader:cn.meshbasic_frag},lambert:{uniforms:Ss([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new xt(0)}}]),vertexShader:cn.meshlambert_vert,fragmentShader:cn.meshlambert_frag},phong:{uniforms:Ss([mt.common,mt.specularmap,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,mt.lights,{emissive:{value:new xt(0)},specular:{value:new xt(1118481)},shininess:{value:30}}]),vertexShader:cn.meshphong_vert,fragmentShader:cn.meshphong_frag},standard:{uniforms:Ss([mt.common,mt.envmap,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.roughnessmap,mt.metalnessmap,mt.fog,mt.lights,{emissive:{value:new xt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag},toon:{uniforms:Ss([mt.common,mt.aomap,mt.lightmap,mt.emissivemap,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.gradientmap,mt.fog,mt.lights,{emissive:{value:new xt(0)}}]),vertexShader:cn.meshtoon_vert,fragmentShader:cn.meshtoon_frag},matcap:{uniforms:Ss([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,mt.fog,{matcap:{value:null}}]),vertexShader:cn.meshmatcap_vert,fragmentShader:cn.meshmatcap_frag},points:{uniforms:Ss([mt.points,mt.fog]),vertexShader:cn.points_vert,fragmentShader:cn.points_frag},dashed:{uniforms:Ss([mt.common,mt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:cn.linedashed_vert,fragmentShader:cn.linedashed_frag},depth:{uniforms:Ss([mt.common,mt.displacementmap]),vertexShader:cn.depth_vert,fragmentShader:cn.depth_frag},normal:{uniforms:Ss([mt.common,mt.bumpmap,mt.normalmap,mt.displacementmap,{opacity:{value:1}}]),vertexShader:cn.meshnormal_vert,fragmentShader:cn.meshnormal_frag},sprite:{uniforms:Ss([mt.sprite,mt.fog]),vertexShader:cn.sprite_vert,fragmentShader:cn.sprite_frag},background:{uniforms:{uvTransform:{value:new nn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:cn.background_vert,fragmentShader:cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new nn}},vertexShader:cn.backgroundCube_vert,fragmentShader:cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:cn.cube_vert,fragmentShader:cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:cn.equirect_vert,fragmentShader:cn.equirect_frag},distance:{uniforms:Ss([mt.common,mt.displacementmap,{referencePosition:{value:new X},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:cn.distance_vert,fragmentShader:cn.distance_frag},shadow:{uniforms:Ss([mt.lights,mt.fog,{color:{value:new xt(0)},opacity:{value:1}}]),vertexShader:cn.shadow_vert,fragmentShader:cn.shadow_frag}};Oo.physical={uniforms:Ss([Oo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new nn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new nn},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new nn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new nn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new nn},sheen:{value:0},sheenColor:{value:new xt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new nn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new nn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new nn},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new nn},attenuationDistance:{value:0},attenuationColor:{value:new xt(0)},specularColor:{value:new xt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new nn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new nn},anisotropyVector:{value:new Ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new nn}}]),vertexShader:cn.meshphysical_vert,fragmentShader:cn.meshphysical_frag};const z_={r:0,b:0,g:0},ah=new Ea,lB=new Xt;function uB(r,e,t,n,i,a,u){const c=new xt(0);let d=a===!0?0:1,p,g,y=null,_=0,x=null;function E(D){let L=D.isScene===!0?D.background:null;return L&&L.isTexture&&(L=(D.backgroundBlurriness>0?t:e).get(L)),L}function T(D){let L=!1;const P=E(D);P===null?M(c,d):P&&P.isColor&&(M(P,1),L=!0);const z=r.xr.getEnvironmentBlendMode();z==="additive"?n.buffers.color.setClear(0,0,0,1,u):z==="alpha-blend"&&n.buffers.color.setClear(0,0,0,0,u),(r.autoClear||L)&&(n.buffers.depth.setTest(!0),n.buffers.depth.setMask(!0),n.buffers.color.setMask(!0),r.clear(r.autoClearColor,r.autoClearDepth,r.autoClearStencil))}function A(D,L){const P=E(L);P&&(P.isCubeTexture||P.mapping===Kp)?(g===void 0&&(g=new Qi(new Uh(1,1,1),new Ta({name:"BackgroundCubeMaterial",uniforms:zp(Oo.backgroundCube.uniforms),vertexShader:Oo.backgroundCube.vertexShader,fragmentShader:Oo.backgroundCube.fragmentShader,side:Cs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),g.geometry.deleteAttribute("normal"),g.geometry.deleteAttribute("uv"),g.onBeforeRender=function(z,B,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(g.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(g)),ah.copy(L.backgroundRotation),ah.x*=-1,ah.y*=-1,ah.z*=-1,P.isCubeTexture&&P.isRenderTargetTexture===!1&&(ah.y*=-1,ah.z*=-1),g.material.uniforms.envMap.value=P,g.material.uniforms.flipEnvMap.value=P.isCubeTexture&&P.isRenderTargetTexture===!1?-1:1,g.material.uniforms.backgroundBlurriness.value=L.backgroundBlurriness,g.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,g.material.uniforms.backgroundRotation.value.setFromMatrix4(lB.makeRotationFromEuler(ah)),g.material.toneMapped=Mn.getTransfer(P.colorSpace)!==Vn,(y!==P||_!==P.version||x!==r.toneMapping)&&(g.material.needsUpdate=!0,y=P,_=P.version,x=r.toneMapping),g.layers.enableAll(),D.unshift(g,g.geometry,g.material,0,0,null)):P&&P.isTexture&&(p===void 0&&(p=new Qi(new Jp(2,2),new Ta({name:"BackgroundMaterial",uniforms:zp(Oo.background.uniforms),vertexShader:Oo.background.vertexShader,fragmentShader:Oo.background.fragmentShader,side:zu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),p.geometry.deleteAttribute("normal"),Object.defineProperty(p.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(p)),p.material.uniforms.t2D.value=P,p.material.uniforms.backgroundIntensity.value=L.backgroundIntensity,p.material.toneMapped=Mn.getTransfer(P.colorSpace)!==Vn,P.matrixAutoUpdate===!0&&P.updateMatrix(),p.material.uniforms.uvTransform.value.copy(P.matrix),(y!==P||_!==P.version||x!==r.toneMapping)&&(p.material.needsUpdate=!0,y=P,_=P.version,x=r.toneMapping),p.layers.enableAll(),D.unshift(p,p.geometry,p.material,0,0,null))}function M(D,L){D.getRGB(z_,NR(r)),n.buffers.color.setClear(z_.r,z_.g,z_.b,L,u)}function R(){g!==void 0&&(g.geometry.dispose(),g.material.dispose(),g=void 0),p!==void 0&&(p.geometry.dispose(),p.material.dispose(),p=void 0)}return{getClearColor:function(){return c},setClearColor:function(D,L=1){c.set(D),d=L,M(c,d)},getClearAlpha:function(){return d},setClearAlpha:function(D){d=D,M(c,d)},render:T,addToRenderList:A,dispose:R}}function cB(r,e){const t=r.getParameter(r.MAX_VERTEX_ATTRIBS),n={},i=_(null);let a=i,u=!1;function c(O,W,ee,Q,fe){let ue=!1;const Z=y(Q,ee,W);a!==Z&&(a=Z,p(a.object)),ue=x(O,Q,ee,fe),ue&&E(O,Q,ee,fe),fe!==null&&e.update(fe,r.ELEMENT_ARRAY_BUFFER),(ue||u)&&(u=!1,L(O,W,ee,Q),fe!==null&&r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,e.get(fe).buffer))}function d(){return r.createVertexArray()}function p(O){return r.bindVertexArray(O)}function g(O){return r.deleteVertexArray(O)}function y(O,W,ee){const Q=ee.wireframe===!0;let fe=n[O.id];fe===void 0&&(fe={},n[O.id]=fe);let ue=fe[W.id];ue===void 0&&(ue={},fe[W.id]=ue);let Z=ue[Q];return Z===void 0&&(Z=_(d()),ue[Q]=Z),Z}function _(O){const W=[],ee=[],Q=[];for(let fe=0;fe<t;fe++)W[fe]=0,ee[fe]=0,Q[fe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:W,enabledAttributes:ee,attributeDivisors:Q,object:O,attributes:{},index:null}}function x(O,W,ee,Q){const fe=a.attributes,ue=W.attributes;let Z=0;const J=ee.getAttributes();for(const he in J)if(J[he].location>=0){const Ue=fe[he];let j=ue[he];if(j===void 0&&(he==="instanceMatrix"&&O.instanceMatrix&&(j=O.instanceMatrix),he==="instanceColor"&&O.instanceColor&&(j=O.instanceColor)),Ue===void 0||Ue.attribute!==j||j&&Ue.data!==j.data)return!0;Z++}return a.attributesNum!==Z||a.index!==Q}function E(O,W,ee,Q){const fe={},ue=W.attributes;let Z=0;const J=ee.getAttributes();for(const he in J)if(J[he].location>=0){let Ue=ue[he];Ue===void 0&&(he==="instanceMatrix"&&O.instanceMatrix&&(Ue=O.instanceMatrix),he==="instanceColor"&&O.instanceColor&&(Ue=O.instanceColor));const j={};j.attribute=Ue,Ue&&Ue.data&&(j.data=Ue.data),fe[he]=j,Z++}a.attributes=fe,a.attributesNum=Z,a.index=Q}function T(){const O=a.newAttributes;for(let W=0,ee=O.length;W<ee;W++)O[W]=0}function A(O){M(O,0)}function M(O,W){const ee=a.newAttributes,Q=a.enabledAttributes,fe=a.attributeDivisors;ee[O]=1,Q[O]===0&&(r.enableVertexAttribArray(O),Q[O]=1),fe[O]!==W&&(r.vertexAttribDivisor(O,W),fe[O]=W)}function R(){const O=a.newAttributes,W=a.enabledAttributes;for(let ee=0,Q=W.length;ee<Q;ee++)W[ee]!==O[ee]&&(r.disableVertexAttribArray(ee),W[ee]=0)}function D(O,W,ee,Q,fe,ue,Z){Z===!0?r.vertexAttribIPointer(O,W,ee,fe,ue):r.vertexAttribPointer(O,W,ee,Q,fe,ue)}function L(O,W,ee,Q){T();const fe=Q.attributes,ue=ee.getAttributes(),Z=W.defaultAttributeValues;for(const J in ue){const he=ue[J];if(he.location>=0){let Pe=fe[J];if(Pe===void 0&&(J==="instanceMatrix"&&O.instanceMatrix&&(Pe=O.instanceMatrix),J==="instanceColor"&&O.instanceColor&&(Pe=O.instanceColor)),Pe!==void 0){const Ue=Pe.normalized,j=Pe.itemSize,le=e.get(Pe);if(le===void 0)continue;const Re=le.buffer,ze=le.type,rt=le.bytesPerElement,ge=ze===r.INT||ze===r.UNSIGNED_INT||Pe.gpuType===wb;if(Pe.isInterleavedBufferAttribute){const De=Pe.data,it=De.stride,ne=Pe.offset;if(De.isInstancedInterleavedBuffer){for(let ft=0;ft<he.locationSize;ft++)M(he.location+ft,De.meshPerAttribute);O.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=De.meshPerAttribute*De.count)}else for(let ft=0;ft<he.locationSize;ft++)A(he.location+ft);r.bindBuffer(r.ARRAY_BUFFER,Re);for(let ft=0;ft<he.locationSize;ft++)D(he.location+ft,j/he.locationSize,ze,Ue,it*rt,(ne+j/he.locationSize*ft)*rt,ge)}else{if(Pe.isInstancedBufferAttribute){for(let De=0;De<he.locationSize;De++)M(he.location+De,Pe.meshPerAttribute);O.isInstancedMesh!==!0&&Q._maxInstanceCount===void 0&&(Q._maxInstanceCount=Pe.meshPerAttribute*Pe.count)}else for(let De=0;De<he.locationSize;De++)A(he.location+De);r.bindBuffer(r.ARRAY_BUFFER,Re);for(let De=0;De<he.locationSize;De++)D(he.location+De,j/he.locationSize,ze,Ue,j*rt,j/he.locationSize*De*rt,ge)}}else if(Z!==void 0){const Ue=Z[J];if(Ue!==void 0)switch(Ue.length){case 2:r.vertexAttrib2fv(he.location,Ue);break;case 3:r.vertexAttrib3fv(he.location,Ue);break;case 4:r.vertexAttrib4fv(he.location,Ue);break;default:r.vertexAttrib1fv(he.location,Ue)}}}}R()}function P(){k();for(const O in n){const W=n[O];for(const ee in W){const Q=W[ee];for(const fe in Q)g(Q[fe].object),delete Q[fe];delete W[ee]}delete n[O]}}function z(O){if(n[O.id]===void 0)return;const W=n[O.id];for(const ee in W){const Q=W[ee];for(const fe in Q)g(Q[fe].object),delete Q[fe];delete W[ee]}delete n[O.id]}function B(O){for(const W in n){const ee=n[W];if(ee[O.id]===void 0)continue;const Q=ee[O.id];for(const fe in Q)g(Q[fe].object),delete Q[fe];delete ee[O.id]}}function k(){I(),u=!0,a!==i&&(a=i,p(a.object))}function I(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:c,reset:k,resetDefaultState:I,dispose:P,releaseStatesOfGeometry:z,releaseStatesOfProgram:B,initAttributes:T,enableAttribute:A,disableUnusedAttributes:R}}function fB(r,e,t){let n;function i(p){n=p}function a(p,g){r.drawArrays(n,p,g),t.update(g,n,1)}function u(p,g,y){y!==0&&(r.drawArraysInstanced(n,p,g,y),t.update(g,n,y))}function c(p,g,y){if(y===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(n,p,0,g,0,y);let x=0;for(let E=0;E<y;E++)x+=g[E];t.update(x,n,1)}function d(p,g,y,_){if(y===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let E=0;E<p.length;E++)u(p[E],g[E],_[E]);else{x.multiDrawArraysInstancedWEBGL(n,p,0,g,0,_,0,y);let E=0;for(let T=0;T<y;T++)E+=g[T]*_[T];t.update(E,n,1)}}this.setMode=i,this.render=a,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=d}function hB(r,e,t,n){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=r.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function u(B){return!(B!==ns&&n.convert(B)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_FORMAT))}function c(B){const k=B===Ol&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Es&&n.convert(B)!==r.getParameter(r.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==As&&!k)}function d(B){if(B==="highp"){if(r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.HIGH_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&r.getShaderPrecisionFormat(r.VERTEX_SHADER,r.MEDIUM_FLOAT).precision>0&&r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let p=t.precision!==void 0?t.precision:"highp";const g=d(p);g!==p&&(gt("WebGLRenderer:",p,"not supported, using",g,"instead."),p=g);const y=t.logarithmicDepthBuffer===!0,_=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),x=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),E=r.getParameter(r.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=r.getParameter(r.MAX_TEXTURE_SIZE),A=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),M=r.getParameter(r.MAX_VERTEX_ATTRIBS),R=r.getParameter(r.MAX_VERTEX_UNIFORM_VECTORS),D=r.getParameter(r.MAX_VARYING_VECTORS),L=r.getParameter(r.MAX_FRAGMENT_UNIFORM_VECTORS),P=r.getParameter(r.MAX_SAMPLES),z=r.getParameter(r.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:d,textureFormatReadable:u,textureTypeReadable:c,precision:p,logarithmicDepthBuffer:y,reversedDepthBuffer:_,maxTextures:x,maxVertexTextures:E,maxTextureSize:T,maxCubemapSize:A,maxAttributes:M,maxVertexUniforms:R,maxVaryings:D,maxFragmentUniforms:L,maxSamples:P,samples:z}}function dB(r){const e=this;let t=null,n=0,i=!1,a=!1;const u=new Au,c=new nn,d={value:null,needsUpdate:!1};this.uniform=d,this.numPlanes=0,this.numIntersection=0,this.init=function(y,_){const x=y.length!==0||_||n!==0||i;return i=_,n=y.length,x},this.beginShadows=function(){a=!0,g(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(y,_){t=g(y,_,0)},this.setState=function(y,_,x){const E=y.clippingPlanes,T=y.clipIntersection,A=y.clipShadows,M=r.get(y);if(!i||E===null||E.length===0||a&&!A)a?g(null):p();else{const R=a?0:n,D=R*4;let L=M.clippingState||null;d.value=L,L=g(E,_,D,x);for(let P=0;P!==D;++P)L[P]=t[P];M.clippingState=L,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function p(){d.value!==t&&(d.value=t,d.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function g(y,_,x,E){const T=y!==null?y.length:0;let A=null;if(T!==0){if(A=d.value,E!==!0||A===null){const M=x+T*4,R=_.matrixWorldInverse;c.getNormalMatrix(R),(A===null||A.length<M)&&(A=new Float32Array(M));for(let D=0,L=x;D!==T;++D,L+=4)u.copy(y[D]).applyMatrix4(R,c),u.normal.toArray(A,L),A[L+3]=u.constant}d.value=A,d.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,A}}function pB(r){let e=new WeakMap;function t(u,c){return c===_0?u.mapping=Ll:c===x0&&(u.mapping=qc),u}function n(u){if(u&&u.isTexture){const c=u.mapping;if(c===_0||c===x0)if(e.has(u)){const d=e.get(u).texture;return t(d,u.mapping)}else{const d=u.image;if(d&&d.height>0){const p=new XE(d.height);return p.fromEquirectangularTexture(r,u),e.set(u,p),u.addEventListener("dispose",i),t(p.texture,u.mapping)}else return null}}return u}function i(u){const c=u.target;c.removeEventListener("dispose",i);const d=e.get(c);d!==void 0&&(e.delete(c),d.dispose())}function a(){e=new WeakMap}return{get:n,dispose:a}}const Vc=4,KA=[.125,.215,.35,.446,.526,.582],gh=20,mB=256,Gg=new Pu,$A=new xt;let HS=null,GS=0,WS=0,XS=!1;const gB=new X;class FM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,n=.1,i=100,a={}){const{size:u=256,position:c=gB}=a;HS=this._renderer.getRenderTarget(),GS=this._renderer.getActiveCubeFace(),WS=this._renderer.getActiveMipmapLevel(),XS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(u);const d=this._allocateTargets();return d.depthBuffer=!0,this._sceneToCubeUV(e,n,i,d,c),t>0&&this._blur(d,0,0,t),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=e3(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=JA(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(HS,GS,WS),this._renderer.xr.enabled=XS,e.scissorTest=!1,dp(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ll||e.mapping===qc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),HS=this._renderer.getRenderTarget(),GS=this._renderer.getActiveCubeFace(),WS=this._renderer.getActiveMipmapLevel(),XS=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,n={magFilter:di,minFilter:di,generateMipmaps:!1,type:Ol,format:ns,colorSpace:Yc,depthBuffer:!1},i=QA(e,t,n);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=QA(e,t,n);const{_lodMax:a}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=vB(a)),this._blurMaterial=_B(a,e,t),this._ggxMaterial=yB(a,e,t)}return i}_compileMaterial(e){const t=new Qi(new jt,e);this._renderer.compile(t,Gg)}_sceneToCubeUV(e,t,n,i,a){const d=new Ki(90,1,t,n),p=[1,-1,1,1,1,1],g=[1,1,1,-1,-1,-1],y=this._renderer,_=y.autoClear,x=y.toneMapping;y.getClearColor($A),y.toneMapping=io,y.autoClear=!1,y.state.buffers.depth.getReversed()&&(y.setRenderTarget(i),y.clearDepth(),y.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Qi(new Uh,new nf({name:"PMREM.Background",side:Cs,depthWrite:!1,depthTest:!1})));const T=this._backgroundBox,A=T.material;let M=!1;const R=e.background;R?R.isColor&&(A.color.copy(R),e.background=null,M=!0):(A.color.copy($A),M=!0);for(let D=0;D<6;D++){const L=D%3;L===0?(d.up.set(0,p[D],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x+g[D],a.y,a.z)):L===1?(d.up.set(0,0,p[D]),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y+g[D],a.z)):(d.up.set(0,p[D],0),d.position.set(a.x,a.y,a.z),d.lookAt(a.x,a.y,a.z+g[D]));const P=this._cubeSize;dp(i,L*P,D>2?P:0,P,P),y.setRenderTarget(i),M&&y.render(T,d),y.render(e,d)}y.toneMapping=x,y.autoClear=_,e.background=R}_textureToCubeUV(e,t){const n=this._renderer,i=e.mapping===Ll||e.mapping===qc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=e3()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=JA());const a=i?this._cubemapMaterial:this._equirectMaterial,u=this._lodMeshes[0];u.material=a;const c=a.uniforms;c.envMap.value=e;const d=this._cubeSize;dp(t,0,0,3*d,2*d),n.setRenderTarget(t),n.render(u,Gg)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let a=1;a<i;a++)this._applyGGXFilter(e,a-1,a);t.autoClear=n}_applyGGXFilter(e,t,n){const i=this._renderer,a=this._pingPongRenderTarget,u=this._ggxMaterial,c=this._lodMeshes[n];c.material=u;const d=u.uniforms,p=n/(this._lodMeshes.length-1),g=t/(this._lodMeshes.length-1),y=Math.sqrt(p*p-g*g),_=0+p*1.25,x=y*_,{_lodMax:E}=this,T=this._sizeLods[n],A=3*T*(n>E-Vc?n-E+Vc:0),M=4*(this._cubeSize-T);d.envMap.value=e.texture,d.roughness.value=x,d.mipInt.value=E-t,dp(a,A,M,3*T,2*T),i.setRenderTarget(a),i.render(c,Gg),d.envMap.value=a.texture,d.roughness.value=0,d.mipInt.value=E-n,dp(e,A,M,3*T,2*T),i.setRenderTarget(e),i.render(c,Gg)}_blur(e,t,n,i,a){const u=this._pingPongRenderTarget;this._halfBlur(e,u,t,n,i,"latitudinal",a),this._halfBlur(u,e,n,n,i,"longitudinal",a)}_halfBlur(e,t,n,i,a,u,c){const d=this._renderer,p=this._blurMaterial;u!=="latitudinal"&&u!=="longitudinal"&&Ot("blur direction must be either latitudinal or longitudinal!");const g=3,y=this._lodMeshes[i];y.material=p;const _=p.uniforms,x=this._sizeLods[n]-1,E=isFinite(a)?Math.PI/(2*x):2*Math.PI/(2*gh-1),T=a/E,A=isFinite(a)?1+Math.floor(g*T):gh;A>gh&&gt(`sigmaRadians, ${a}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${gh}`);const M=[];let R=0;for(let B=0;B<gh;++B){const k=B/T,I=Math.exp(-k*k/2);M.push(I),B===0?R+=I:B<A&&(R+=2*I)}for(let B=0;B<M.length;B++)M[B]=M[B]/R;_.envMap.value=e.texture,_.samples.value=A,_.weights.value=M,_.latitudinal.value=u==="latitudinal",c&&(_.poleAxis.value=c);const{_lodMax:D}=this;_.dTheta.value=E,_.mipInt.value=D-n;const L=this._sizeLods[i],P=3*L*(i>D-Vc?i-D+Vc:0),z=4*(this._cubeSize-L);dp(t,P,z,3*L,2*L),d.setRenderTarget(t),d.render(y,Gg)}}function vB(r){const e=[],t=[],n=[];let i=r;const a=r-Vc+1+KA.length;for(let u=0;u<a;u++){const c=Math.pow(2,i);e.push(c);let d=1/c;u>r-Vc?d=KA[u-r+Vc-1]:u===0&&(d=0),t.push(d);const p=1/(c-2),g=-p,y=1+p,_=[g,g,y,g,y,y,g,g,y,y,g,y],x=6,E=6,T=3,A=2,M=1,R=new Float32Array(T*E*x),D=new Float32Array(A*E*x),L=new Float32Array(M*E*x);for(let z=0;z<x;z++){const B=z%3*2/3-1,k=z>2?0:-1,I=[B,k,0,B+2/3,k,0,B+2/3,k+1,0,B,k,0,B+2/3,k+1,0,B,k+1,0];R.set(I,T*E*z),D.set(_,A*E*z);const O=[z,z,z,z,z,z];L.set(O,M*E*z)}const P=new jt;P.setAttribute("position",new zn(R,T)),P.setAttribute("uv",new zn(D,A)),P.setAttribute("faceIndex",new zn(L,M)),n.push(new Qi(P,null)),i>Vc&&i--}return{lodMeshes:n,sizeLods:e,sigmas:t}}function QA(r,e,t){const n=new Sa(r,e,t);return n.texture.mapping=Kp,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function dp(r,e,t,n,i){r.viewport.set(e,t,n,i),r.scissor.set(e,t,n,i)}function yB(r,e,t){return new Ta({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:mB,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:r1(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Cl,depthTest:!1,depthWrite:!1})}function _B(r,e,t){const n=new Float32Array(gh),i=new X(0,1,0);return new Ta({name:"SphericalGaussianBlur",defines:{n:gh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${r}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:r1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Cl,depthTest:!1,depthWrite:!1})}function JA(){return new Ta({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:r1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Cl,depthTest:!1,depthWrite:!1})}function e3(){return new Ta({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:r1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Cl,depthTest:!1,depthWrite:!1})}function r1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function xB(r){let e=new WeakMap,t=null;function n(c){if(c&&c.isTexture){const d=c.mapping,p=d===_0||d===x0,g=d===Ll||d===qc;if(p||g){let y=e.get(c);const _=y!==void 0?y.texture.pmremVersion:0;if(c.isRenderTargetTexture&&c.pmremVersion!==_)return t===null&&(t=new FM(r)),y=p?t.fromEquirectangular(c,y):t.fromCubemap(c,y),y.texture.pmremVersion=c.pmremVersion,e.set(c,y),y.texture;if(y!==void 0)return y.texture;{const x=c.image;return p&&x&&x.height>0||g&&x&&i(x)?(t===null&&(t=new FM(r)),y=p?t.fromEquirectangular(c):t.fromCubemap(c),y.texture.pmremVersion=c.pmremVersion,e.set(c,y),c.addEventListener("dispose",a),y.texture):null}}}return c}function i(c){let d=0;const p=6;for(let g=0;g<p;g++)c[g]!==void 0&&d++;return d===p}function a(c){const d=c.target;d.removeEventListener("dispose",a);const p=e.get(d);p!==void 0&&(e.delete(d),p.dispose())}function u(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:n,dispose:u}}function bB(r){const e={};function t(n){if(e[n]!==void 0)return e[n];const i=r.getExtension(n);return e[n]=i,i}return{has:function(n){return t(n)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(n){const i=t(n);return i===null&&Ip("WebGLRenderer: "+n+" extension not supported."),i}}}function SB(r,e,t,n){const i={},a=new WeakMap;function u(y){const _=y.target;_.index!==null&&e.remove(_.index);for(const E in _.attributes)e.remove(_.attributes[E]);_.removeEventListener("dispose",u),delete i[_.id];const x=a.get(_);x&&(e.remove(x),a.delete(_)),n.releaseStatesOfGeometry(_),_.isInstancedBufferGeometry===!0&&delete _._maxInstanceCount,t.memory.geometries--}function c(y,_){return i[_.id]===!0||(_.addEventListener("dispose",u),i[_.id]=!0,t.memory.geometries++),_}function d(y){const _=y.attributes;for(const x in _)e.update(_[x],r.ARRAY_BUFFER)}function p(y){const _=[],x=y.index,E=y.attributes.position;let T=0;if(x!==null){const R=x.array;T=x.version;for(let D=0,L=R.length;D<L;D+=3){const P=R[D+0],z=R[D+1],B=R[D+2];_.push(P,z,z,B,B,P)}}else if(E!==void 0){const R=E.array;T=E.version;for(let D=0,L=R.length/3-1;D<L;D+=3){const P=D+0,z=D+1,B=D+2;_.push(P,z,z,B,B,P)}}else return;const A=new(TR(_)?WE:GE)(_,1);A.version=T;const M=a.get(y);M&&e.remove(M),a.set(y,A)}function g(y){const _=a.get(y);if(_){const x=y.index;x!==null&&_.version<x.version&&p(y)}else p(y);return a.get(y)}return{get:c,update:d,getWireframeAttribute:g}}function MB(r,e,t){let n;function i(_){n=_}let a,u;function c(_){a=_.type,u=_.bytesPerElement}function d(_,x){r.drawElements(n,x,a,_*u),t.update(x,n,1)}function p(_,x,E){E!==0&&(r.drawElementsInstanced(n,x,a,_*u,E),t.update(x,n,E))}function g(_,x,E){if(E===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(n,x,0,a,_,0,E);let A=0;for(let M=0;M<E;M++)A+=x[M];t.update(A,n,1)}function y(_,x,E,T){if(E===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let M=0;M<_.length;M++)p(_[M]/u,x[M],T[M]);else{A.multiDrawElementsInstancedWEBGL(n,x,0,a,_,0,T,0,E);let M=0;for(let R=0;R<E;R++)M+=x[R]*T[R];t.update(M,n,1)}}this.setMode=i,this.setIndex=c,this.render=d,this.renderInstances=p,this.renderMultiDraw=g,this.renderMultiDrawInstances=y}function EB(r){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function n(a,u,c){switch(t.calls++,u){case r.TRIANGLES:t.triangles+=c*(a/3);break;case r.LINES:t.lines+=c*(a/2);break;case r.LINE_STRIP:t.lines+=c*(a-1);break;case r.LINE_LOOP:t.lines+=c*a;break;case r.POINTS:t.points+=c*a;break;default:Ot("WebGLInfo: Unknown draw mode:",u);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:n}}function TB(r,e,t){const n=new WeakMap,i=new Dn;function a(u,c,d){const p=u.morphTargetInfluences,g=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,y=g!==void 0?g.length:0;let _=n.get(c);if(_===void 0||_.count!==y){let O=function(){k.dispose(),n.delete(c),c.removeEventListener("dispose",O)};var x=O;_!==void 0&&_.texture.dispose();const E=c.morphAttributes.position!==void 0,T=c.morphAttributes.normal!==void 0,A=c.morphAttributes.color!==void 0,M=c.morphAttributes.position||[],R=c.morphAttributes.normal||[],D=c.morphAttributes.color||[];let L=0;E===!0&&(L=1),T===!0&&(L=2),A===!0&&(L=3);let P=c.attributes.position.count*L,z=1;P>e.maxTextureSize&&(z=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const B=new Float32Array(P*z*4*y),k=new Pb(B,P,z,y);k.type=As,k.needsUpdate=!0;const I=L*4;for(let W=0;W<y;W++){const ee=M[W],Q=R[W],fe=D[W],ue=P*z*4*W;for(let Z=0;Z<ee.count;Z++){const J=Z*I;E===!0&&(i.fromBufferAttribute(ee,Z),B[ue+J+0]=i.x,B[ue+J+1]=i.y,B[ue+J+2]=i.z,B[ue+J+3]=0),T===!0&&(i.fromBufferAttribute(Q,Z),B[ue+J+4]=i.x,B[ue+J+5]=i.y,B[ue+J+6]=i.z,B[ue+J+7]=0),A===!0&&(i.fromBufferAttribute(fe,Z),B[ue+J+8]=i.x,B[ue+J+9]=i.y,B[ue+J+10]=i.z,B[ue+J+11]=fe.itemSize===4?i.w:1)}}_={count:y,texture:k,size:new Ve(P,z)},n.set(c,_),c.addEventListener("dispose",O)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)d.getUniforms().setValue(r,"morphTexture",u.morphTexture,t);else{let E=0;for(let A=0;A<p.length;A++)E+=p[A];const T=c.morphTargetsRelative?1:1-E;d.getUniforms().setValue(r,"morphTargetBaseInfluence",T),d.getUniforms().setValue(r,"morphTargetInfluences",p)}d.getUniforms().setValue(r,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(r,"morphTargetsTextureSize",_.size)}return{update:a}}function wB(r,e,t,n){let i=new WeakMap;function a(d){const p=n.render.frame,g=d.geometry,y=e.get(d,g);if(i.get(y)!==p&&(e.update(y),i.set(y,p)),d.isInstancedMesh&&(d.hasEventListener("dispose",c)===!1&&d.addEventListener("dispose",c),i.get(d)!==p&&(t.update(d.instanceMatrix,r.ARRAY_BUFFER),d.instanceColor!==null&&t.update(d.instanceColor,r.ARRAY_BUFFER),i.set(d,p))),d.isSkinnedMesh){const _=d.skeleton;i.get(_)!==p&&(_.update(),i.set(_,p))}return y}function u(){i=new WeakMap}function c(d){const p=d.target;p.removeEventListener("dispose",c),t.remove(p.instanceMatrix),p.instanceColor!==null&&t.remove(p.instanceColor)}return{update:a,dispose:u}}const AB={[AE]:"LINEAR_TONE_MAPPING",[CE]:"REINHARD_TONE_MAPPING",[RE]:"CINEON_TONE_MAPPING",[Eb]:"ACES_FILMIC_TONE_MAPPING",[NE]:"AGX_TONE_MAPPING",[LE]:"NEUTRAL_TONE_MAPPING",[DE]:"CUSTOM_TONE_MAPPING"};function CB(r,e,t,n,i){const a=new Sa(e,t,{type:r,depthBuffer:n,stencilBuffer:i}),u=new Sa(e,t,{type:Ol,depthBuffer:!1,stencilBuffer:!1}),c=new jt;c.setAttribute("position",new bt([-1,3,0,-1,-1,0,3,-1,0],3)),c.setAttribute("uv",new bt([0,2,0,0,2,0],2));const d=new iT({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),p=new Qi(c,d),g=new Pu(-1,1,1,-1,0,1);let y=null,_=null,x=!1,E,T=null,A=[],M=!1;this.setSize=function(R,D){a.setSize(R,D),u.setSize(R,D);for(let L=0;L<A.length;L++){const P=A[L];P.setSize&&P.setSize(R,D)}},this.setEffects=function(R){A=R,M=A.length>0&&A[0].isRenderPass===!0;const D=a.width,L=a.height;for(let P=0;P<A.length;P++){const z=A[P];z.setSize&&z.setSize(D,L)}},this.begin=function(R,D){if(x||R.toneMapping===io&&A.length===0)return!1;if(T=D,D!==null){const L=D.width,P=D.height;(a.width!==L||a.height!==P)&&this.setSize(L,P)}return M===!1&&R.setRenderTarget(a),E=R.toneMapping,R.toneMapping=io,!0},this.hasRenderPass=function(){return M},this.end=function(R,D){R.toneMapping=E,x=!0;let L=a,P=u;for(let z=0;z<A.length;z++){const B=A[z];if(B.enabled!==!1&&(B.render(R,P,L,D),B.needsSwap!==!1)){const k=L;L=P,P=k}}if(y!==R.outputColorSpace||_!==R.toneMapping){y=R.outputColorSpace,_=R.toneMapping,d.defines={},Mn.getTransfer(y)===Vn&&(d.defines.SRGB_TRANSFER="");const z=AB[_];z&&(d.defines[z]=""),d.needsUpdate=!0}d.uniforms.tDiffuse.value=L.texture,R.setRenderTarget(T),R.render(p,g),T=null,x=!1},this.isCompositing=function(){return x},this.dispose=function(){a.dispose(),u.dispose(),c.dispose(),d.dispose()}}const AD=new Bi,BM=new Bp(1,1),CD=new Pb,RD=new Ub,DD=new J0,t3=[],n3=[],i3=new Float32Array(16),r3=new Float32Array(9),s3=new Float32Array(4);function em(r,e,t){const n=r[0];if(n<=0||n>0)return r;const i=e*t;let a=t3[i];if(a===void 0&&(a=new Float32Array(i),t3[i]=a),e!==0){n.toArray(a,0);for(let u=1,c=0;u!==e;++u)c+=t,r[u].toArray(a,c)}return a}function gr(r,e){if(r.length!==e.length)return!1;for(let t=0,n=r.length;t<n;t++)if(r[t]!==e[t])return!1;return!0}function vr(r,e){for(let t=0,n=e.length;t<n;t++)r[t]=e[t]}function s1(r,e){let t=n3[e];t===void 0&&(t=new Int32Array(e),n3[e]=t);for(let n=0;n!==e;++n)t[n]=r.allocateTextureUnit();return t}function RB(r,e){const t=this.cache;t[0]!==e&&(r.uniform1f(this.addr,e),t[0]=e)}function DB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(gr(t,e))return;r.uniform2fv(this.addr,e),vr(t,e)}}function NB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(r.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(gr(t,e))return;r.uniform3fv(this.addr,e),vr(t,e)}}function LB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(gr(t,e))return;r.uniform4fv(this.addr,e),vr(t,e)}}function OB(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(gr(t,e))return;r.uniformMatrix2fv(this.addr,!1,e),vr(t,e)}else{if(gr(t,n))return;s3.set(n),r.uniformMatrix2fv(this.addr,!1,s3),vr(t,n)}}function IB(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(gr(t,e))return;r.uniformMatrix3fv(this.addr,!1,e),vr(t,e)}else{if(gr(t,n))return;r3.set(n),r.uniformMatrix3fv(this.addr,!1,r3),vr(t,n)}}function PB(r,e){const t=this.cache,n=e.elements;if(n===void 0){if(gr(t,e))return;r.uniformMatrix4fv(this.addr,!1,e),vr(t,e)}else{if(gr(t,n))return;i3.set(n),r.uniformMatrix4fv(this.addr,!1,i3),vr(t,n)}}function UB(r,e){const t=this.cache;t[0]!==e&&(r.uniform1i(this.addr,e),t[0]=e)}function zB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(gr(t,e))return;r.uniform2iv(this.addr,e),vr(t,e)}}function FB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(gr(t,e))return;r.uniform3iv(this.addr,e),vr(t,e)}}function BB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(gr(t,e))return;r.uniform4iv(this.addr,e),vr(t,e)}}function kB(r,e){const t=this.cache;t[0]!==e&&(r.uniform1ui(this.addr,e),t[0]=e)}function VB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(r.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(gr(t,e))return;r.uniform2uiv(this.addr,e),vr(t,e)}}function HB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(r.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(gr(t,e))return;r.uniform3uiv(this.addr,e),vr(t,e)}}function GB(r,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(r.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(gr(t,e))return;r.uniform4uiv(this.addr,e),vr(t,e)}}function WB(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i);let a;this.type===r.SAMPLER_2D_SHADOW?(BM.compareFunction=t.isReversedDepthBuffer()?Ib:Ob,a=BM):a=AD,t.setTexture2D(e||a,i)}function XB(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture3D(e||RD,i)}function jB(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTextureCube(e||DD,i)}function qB(r,e,t){const n=this.cache,i=t.allocateTextureUnit();n[0]!==i&&(r.uniform1i(this.addr,i),n[0]=i),t.setTexture2DArray(e||CD,i)}function YB(r){switch(r){case 5126:return RB;case 35664:return DB;case 35665:return NB;case 35666:return LB;case 35674:return OB;case 35675:return IB;case 35676:return PB;case 5124:case 35670:return UB;case 35667:case 35671:return zB;case 35668:case 35672:return FB;case 35669:case 35673:return BB;case 5125:return kB;case 36294:return VB;case 36295:return HB;case 36296:return GB;case 35678:case 36198:case 36298:case 36306:case 35682:return WB;case 35679:case 36299:case 36307:return XB;case 35680:case 36300:case 36308:case 36293:return jB;case 36289:case 36303:case 36311:case 36292:return qB}}function ZB(r,e){r.uniform1fv(this.addr,e)}function KB(r,e){const t=em(e,this.size,2);r.uniform2fv(this.addr,t)}function $B(r,e){const t=em(e,this.size,3);r.uniform3fv(this.addr,t)}function QB(r,e){const t=em(e,this.size,4);r.uniform4fv(this.addr,t)}function JB(r,e){const t=em(e,this.size,4);r.uniformMatrix2fv(this.addr,!1,t)}function ek(r,e){const t=em(e,this.size,9);r.uniformMatrix3fv(this.addr,!1,t)}function tk(r,e){const t=em(e,this.size,16);r.uniformMatrix4fv(this.addr,!1,t)}function nk(r,e){r.uniform1iv(this.addr,e)}function ik(r,e){r.uniform2iv(this.addr,e)}function rk(r,e){r.uniform3iv(this.addr,e)}function sk(r,e){r.uniform4iv(this.addr,e)}function ak(r,e){r.uniform1uiv(this.addr,e)}function ok(r,e){r.uniform2uiv(this.addr,e)}function lk(r,e){r.uniform3uiv(this.addr,e)}function uk(r,e){r.uniform4uiv(this.addr,e)}function ck(r,e,t){const n=this.cache,i=e.length,a=s1(t,i);gr(n,a)||(r.uniform1iv(this.addr,a),vr(n,a));let u;this.type===r.SAMPLER_2D_SHADOW?u=BM:u=AD;for(let c=0;c!==i;++c)t.setTexture2D(e[c]||u,a[c])}function fk(r,e,t){const n=this.cache,i=e.length,a=s1(t,i);gr(n,a)||(r.uniform1iv(this.addr,a),vr(n,a));for(let u=0;u!==i;++u)t.setTexture3D(e[u]||RD,a[u])}function hk(r,e,t){const n=this.cache,i=e.length,a=s1(t,i);gr(n,a)||(r.uniform1iv(this.addr,a),vr(n,a));for(let u=0;u!==i;++u)t.setTextureCube(e[u]||DD,a[u])}function dk(r,e,t){const n=this.cache,i=e.length,a=s1(t,i);gr(n,a)||(r.uniform1iv(this.addr,a),vr(n,a));for(let u=0;u!==i;++u)t.setTexture2DArray(e[u]||CD,a[u])}function pk(r){switch(r){case 5126:return ZB;case 35664:return KB;case 35665:return $B;case 35666:return QB;case 35674:return JB;case 35675:return ek;case 35676:return tk;case 5124:case 35670:return nk;case 35667:case 35671:return ik;case 35668:case 35672:return rk;case 35669:case 35673:return sk;case 5125:return ak;case 36294:return ok;case 36295:return lk;case 36296:return uk;case 35678:case 36198:case 36298:case 36306:case 35682:return ck;case 35679:case 36299:case 36307:return fk;case 35680:case 36300:case 36308:case 36293:return hk;case 36289:case 36303:case 36311:case 36292:return dk}}class mk{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.setValue=YB(t.type)}}class gk{constructor(e,t,n){this.id=e,this.addr=n,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=pk(t.type)}}class vk{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,n){const i=this.seq;for(let a=0,u=i.length;a!==u;++a){const c=i[a];c.setValue(e,t[c.id],n)}}}const jS=/(\w+)(\])?(\[|\.)?/g;function a3(r,e){r.seq.push(e),r.map[e.id]=e}function yk(r,e,t){const n=r.name,i=n.length;for(jS.lastIndex=0;;){const a=jS.exec(n),u=jS.lastIndex;let c=a[1];const d=a[2]==="]",p=a[3];if(d&&(c=c|0),p===void 0||p==="["&&u+2===i){a3(t,p===void 0?new mk(c,r,e):new gk(c,r,e));break}else{let y=t.map[c];y===void 0&&(y=new vk(c),a3(t,y)),t=y}}}class J_{constructor(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let u=0;u<n;++u){const c=e.getActiveUniform(t,u),d=e.getUniformLocation(t,c.name);yk(c,d,this)}const i=[],a=[];for(const u of this.seq)u.type===e.SAMPLER_2D_SHADOW||u.type===e.SAMPLER_CUBE_SHADOW||u.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(u):a.push(u);i.length>0&&(this.seq=i.concat(a))}setValue(e,t,n,i){const a=this.map[t];a!==void 0&&a.setValue(e,n,i)}setOptional(e,t,n){const i=t[n];i!==void 0&&this.setValue(e,n,i)}static upload(e,t,n,i){for(let a=0,u=t.length;a!==u;++a){const c=t[a],d=n[c.id];d.needsUpdate!==!1&&c.setValue(e,d.value,i)}}static seqWithValue(e,t){const n=[];for(let i=0,a=e.length;i!==a;++i){const u=e[i];u.id in t&&n.push(u)}return n}}function o3(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}const _k=37297;let xk=0;function bk(r,e){const t=r.split(`
`),n=[],i=Math.max(e-6,0),a=Math.min(e+6,t.length);for(let u=i;u<a;u++){const c=u+1;n.push(`${c===e?">":" "} ${c}: ${t[u]}`)}return n.join(`
`)}const l3=new nn;function Sk(r){Mn._getMatrix(l3,Mn.workingColorSpace,r);const e=`mat3( ${l3.elements.map(t=>t.toFixed(4))} )`;switch(Mn.getTransfer(r)){case T0:return[e,"LinearTransferOETF"];case Vn:return[e,"sRGBTransferOETF"];default:return gt("WebGLProgram: Unsupported color space: ",r),[e,"LinearTransferOETF"]}}function u3(r,e,t){const n=r.getShaderParameter(e,r.COMPILE_STATUS),a=(r.getShaderInfoLog(e)||"").trim();if(n&&a==="")return"";const u=/ERROR: 0:(\d+)/.exec(a);if(u){const c=parseInt(u[1]);return t.toUpperCase()+`

`+a+`

`+bk(r.getShaderSource(e),c)}else return a}function Mk(r,e){const t=Sk(e);return[`vec4 ${r}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const Ek={[AE]:"Linear",[CE]:"Reinhard",[RE]:"Cineon",[Eb]:"ACESFilmic",[NE]:"AgX",[LE]:"Neutral",[DE]:"Custom"};function Tk(r,e){const t=Ek[e];return t===void 0?(gt("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+r+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+r+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const F_=new X;function wk(){Mn.getLuminanceCoefficients(F_);const r=F_.x.toFixed(4),e=F_.y.toFixed(4),t=F_.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${r}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Ak(r){return[r.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",r.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Qg).join(`
`)}function Ck(r){const e=[];for(const t in r){const n=r[t];n!==!1&&e.push("#define "+t+" "+n)}return e.join(`
`)}function Rk(r,e){const t={},n=r.getProgramParameter(e,r.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const a=r.getActiveAttrib(e,i),u=a.name;let c=1;a.type===r.FLOAT_MAT2&&(c=2),a.type===r.FLOAT_MAT3&&(c=3),a.type===r.FLOAT_MAT4&&(c=4),t[u]={type:a.type,location:r.getAttribLocation(e,u),locationSize:c}}return t}function Qg(r){return r!==""}function c3(r,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return r.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function f3(r,e){return r.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Dk=/^[ \t]*#include +<([\w\d./]+)>/gm;function kM(r){return r.replace(Dk,Lk)}const Nk=new Map;function Lk(r,e){let t=cn[e];if(t===void 0){const n=Nk.get(e);if(n!==void 0)t=cn[n],gt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,n);else throw new Error("Can not resolve #include <"+e+">")}return kM(t)}const Ok=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function h3(r){return r.replace(Ok,Ik)}function Ik(r,e,t,n){let i="";for(let a=parseInt(e);a<parseInt(t);a++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function d3(r){let e=`precision ${r.precision} float;
	precision ${r.precision} int;
	precision ${r.precision} sampler2D;
	precision ${r.precision} samplerCube;
	precision ${r.precision} sampler3D;
	precision ${r.precision} sampler2DArray;
	precision ${r.precision} sampler2DShadow;
	precision ${r.precision} samplerCubeShadow;
	precision ${r.precision} sampler2DArrayShadow;
	precision ${r.precision} isampler2D;
	precision ${r.precision} isampler3D;
	precision ${r.precision} isamplerCube;
	precision ${r.precision} isampler2DArray;
	precision ${r.precision} usampler2D;
	precision ${r.precision} usampler3D;
	precision ${r.precision} usamplerCube;
	precision ${r.precision} usampler2DArray;
	`;return r.precision==="highp"?e+=`
#define HIGH_PRECISION`:r.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:r.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const Pk={[wp]:"SHADOWMAP_TYPE_PCF",[vh]:"SHADOWMAP_TYPE_VSM"};function Uk(r){return Pk[r.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const zk={[Ll]:"ENVMAP_TYPE_CUBE",[qc]:"ENVMAP_TYPE_CUBE",[Kp]:"ENVMAP_TYPE_CUBE_UV"};function Fk(r){return r.envMap===!1?"ENVMAP_TYPE_CUBE":zk[r.envMapMode]||"ENVMAP_TYPE_CUBE"}const Bk={[qc]:"ENVMAP_MODE_REFRACTION"};function kk(r){return r.envMap===!1?"ENVMAP_MODE_REFLECTION":Bk[r.envMapMode]||"ENVMAP_MODE_REFLECTION"}const Vk={[$0]:"ENVMAP_BLENDING_MULTIPLY",[fR]:"ENVMAP_BLENDING_MIX",[hR]:"ENVMAP_BLENDING_ADD"};function Hk(r){return r.envMap===!1?"ENVMAP_BLENDING_NONE":Vk[r.combine]||"ENVMAP_BLENDING_NONE"}function Gk(r){const e=r.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,n=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:n,maxMip:t}}function Wk(r,e,t,n){const i=r.getContext(),a=t.defines;let u=t.vertexShader,c=t.fragmentShader;const d=Uk(t),p=Fk(t),g=kk(t),y=Hk(t),_=Gk(t),x=Ak(t),E=Ck(a),T=i.createProgram();let A,M,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E].filter(Qg).join(`
`),A.length>0&&(A+=`
`),M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E].filter(Qg).join(`
`),M.length>0&&(M+=`
`)):(A=[d3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+g:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Qg).join(`
`),M=[d3(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,E,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+p:"",t.envMap?"#define "+g:"",t.envMap?"#define "+y:"",_?"#define CUBEUV_TEXEL_WIDTH "+_.texelWidth:"",_?"#define CUBEUV_TEXEL_HEIGHT "+_.texelHeight:"",_?"#define CUBEUV_MAX_MIP "+_.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+d:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==io?"#define TONE_MAPPING":"",t.toneMapping!==io?cn.tonemapping_pars_fragment:"",t.toneMapping!==io?Tk("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",cn.colorspace_pars_fragment,Mk("linearToOutputTexel",t.outputColorSpace),wk(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Qg).join(`
`)),u=kM(u),u=c3(u,t),u=f3(u,t),c=kM(c),c=c3(c,t),c=f3(c,t),u=h3(u),c=h3(c),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,A=[x,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,M=["#define varying in",t.glslVersion===RM?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===RM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+M);const D=R+A+u,L=R+M+c,P=o3(i,i.VERTEX_SHADER,D),z=o3(i,i.FRAGMENT_SHADER,L);i.attachShader(T,P),i.attachShader(T,z),t.index0AttributeName!==void 0?i.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(T,0,"position"),i.linkProgram(T);function B(W){if(r.debug.checkShaderErrors){const ee=i.getProgramInfoLog(T)||"",Q=i.getShaderInfoLog(P)||"",fe=i.getShaderInfoLog(z)||"",ue=ee.trim(),Z=Q.trim(),J=fe.trim();let he=!0,Pe=!0;if(i.getProgramParameter(T,i.LINK_STATUS)===!1)if(he=!1,typeof r.debug.onShaderError=="function")r.debug.onShaderError(i,T,P,z);else{const Ue=u3(i,P,"vertex"),j=u3(i,z,"fragment");Ot("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(T,i.VALIDATE_STATUS)+`

Material Name: `+W.name+`
Material Type: `+W.type+`

Program Info Log: `+ue+`
`+Ue+`
`+j)}else ue!==""?gt("WebGLProgram: Program Info Log:",ue):(Z===""||J==="")&&(Pe=!1);Pe&&(W.diagnostics={runnable:he,programLog:ue,vertexShader:{log:Z,prefix:A},fragmentShader:{log:J,prefix:M}})}i.deleteShader(P),i.deleteShader(z),k=new J_(i,T),I=Rk(i,T)}let k;this.getUniforms=function(){return k===void 0&&B(this),k};let I;this.getAttributes=function(){return I===void 0&&B(this),I};let O=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(T,_k)),O},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=xk++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=P,this.fragmentShader=z,this}let Xk=0;class jk{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,n=e.fragmentShader,i=this._getShaderStage(t),a=this._getShaderStage(n),u=this._getShaderCacheForMaterial(e);return u.has(i)===!1&&(u.add(i),i.usedTimes++),u.has(a)===!1&&(u.add(a),a.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const n of t)n.usedTimes--,n.usedTimes===0&&this.shaderCache.delete(n.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let n=t.get(e);return n===void 0&&(n=new Set,t.set(e,n)),n}_getShaderStage(e){const t=this.shaderCache;let n=t.get(e);return n===void 0&&(n=new qk(e),t.set(e,n)),n}}class qk{constructor(e){this.id=Xk++,this.code=e,this.usedTimes=0}}function Yk(r,e,t,n,i,a,u){const c=new Up,d=new jk,p=new Set,g=[],y=new Map,_=i.logarithmicDepthBuffer;let x=i.precision;const E={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(I){return p.add(I),I===0?"uv":`uv${I}`}function A(I,O,W,ee,Q){const fe=ee.fog,ue=Q.geometry,Z=I.isMeshStandardMaterial?ee.environment:null,J=(I.isMeshStandardMaterial?t:e).get(I.envMap||Z),he=J&&J.mapping===Kp?J.image.height:null,Pe=E[I.type];I.precision!==null&&(x=i.getMaxPrecision(I.precision),x!==I.precision&&gt("WebGLProgram.getParameters:",I.precision,"not supported, using",x,"instead."));const Ue=ue.morphAttributes.position||ue.morphAttributes.normal||ue.morphAttributes.color,j=Ue!==void 0?Ue.length:0;let le=0;ue.morphAttributes.position!==void 0&&(le=1),ue.morphAttributes.normal!==void 0&&(le=2),ue.morphAttributes.color!==void 0&&(le=3);let Re,ze,rt,ge;if(Pe){const rn=Oo[Pe];Re=rn.vertexShader,ze=rn.fragmentShader}else Re=I.vertexShader,ze=I.fragmentShader,d.update(I),rt=d.getVertexShaderID(I),ge=d.getFragmentShaderID(I);const De=r.getRenderTarget(),it=r.state.buffers.depth.getReversed(),ne=Q.isInstancedMesh===!0,ft=Q.isBatchedMesh===!0,_t=!!I.map,Yt=!!I.matcap,Et=!!J,ve=!!I.aoMap,Xe=!!I.lightMap,Ae=!!I.bumpMap,be=!!I.normalMap,Y=!!I.displacementMap,dt=!!I.emissiveMap,Te=!!I.metalnessMap,Ct=!!I.roughnessMap,Je=I.anisotropy>0,q=I.clearcoat>0,F=I.dispersion>0,oe=I.iridescence>0,Le=I.sheen>0,Be=I.transmission>0,_e=Je&&!!I.anisotropyMap,st=q&&!!I.clearcoatMap,Ge=q&&!!I.clearcoatNormalMap,Ke=q&&!!I.clearcoatRoughnessMap,Mt=oe&&!!I.iridescenceMap,qe=oe&&!!I.iridescenceThicknessMap,nt=Le&&!!I.sheenColorMap,pt=Le&&!!I.sheenRoughnessMap,te=!!I.specularMap,ye=!!I.specularColorMap,lt=!!I.specularIntensityMap,ie=Be&&!!I.transmissionMap,et=Be&&!!I.thicknessMap,Ye=!!I.gradientMap,ct=!!I.alphaMap,Ze=I.alphaTest>0,ke=!!I.alphaHash,tt=!!I.extensions;let Nt=io;I.toneMapped&&(De===null||De.isXRRenderTarget===!0)&&(Nt=r.toneMapping);const en={shaderID:Pe,shaderType:I.type,shaderName:I.name,vertexShader:Re,fragmentShader:ze,defines:I.defines,customVertexShaderID:rt,customFragmentShaderID:ge,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:x,batching:ft,batchingColor:ft&&Q._colorsTexture!==null,instancing:ne,instancingColor:ne&&Q.instanceColor!==null,instancingMorph:ne&&Q.morphTexture!==null,outputColorSpace:De===null?r.outputColorSpace:De.isXRRenderTarget===!0?De.texture.colorSpace:Yc,alphaToCoverage:!!I.alphaToCoverage,map:_t,matcap:Yt,envMap:Et,envMapMode:Et&&J.mapping,envMapCubeUVHeight:he,aoMap:ve,lightMap:Xe,bumpMap:Ae,normalMap:be,displacementMap:Y,emissiveMap:dt,normalMapObjectSpace:be&&I.normalMapType===yR,normalMapTangentSpace:be&&I.normalMapType===tf,metalnessMap:Te,roughnessMap:Ct,anisotropy:Je,anisotropyMap:_e,clearcoat:q,clearcoatMap:st,clearcoatNormalMap:Ge,clearcoatRoughnessMap:Ke,dispersion:F,iridescence:oe,iridescenceMap:Mt,iridescenceThicknessMap:qe,sheen:Le,sheenColorMap:nt,sheenRoughnessMap:pt,specularMap:te,specularColorMap:ye,specularIntensityMap:lt,transmission:Be,transmissionMap:ie,thicknessMap:et,gradientMap:Ye,opaque:I.transparent===!1&&I.blending===Sh&&I.alphaToCoverage===!1,alphaMap:ct,alphaTest:Ze,alphaHash:ke,combine:I.combine,mapUv:_t&&T(I.map.channel),aoMapUv:ve&&T(I.aoMap.channel),lightMapUv:Xe&&T(I.lightMap.channel),bumpMapUv:Ae&&T(I.bumpMap.channel),normalMapUv:be&&T(I.normalMap.channel),displacementMapUv:Y&&T(I.displacementMap.channel),emissiveMapUv:dt&&T(I.emissiveMap.channel),metalnessMapUv:Te&&T(I.metalnessMap.channel),roughnessMapUv:Ct&&T(I.roughnessMap.channel),anisotropyMapUv:_e&&T(I.anisotropyMap.channel),clearcoatMapUv:st&&T(I.clearcoatMap.channel),clearcoatNormalMapUv:Ge&&T(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ke&&T(I.clearcoatRoughnessMap.channel),iridescenceMapUv:Mt&&T(I.iridescenceMap.channel),iridescenceThicknessMapUv:qe&&T(I.iridescenceThicknessMap.channel),sheenColorMapUv:nt&&T(I.sheenColorMap.channel),sheenRoughnessMapUv:pt&&T(I.sheenRoughnessMap.channel),specularMapUv:te&&T(I.specularMap.channel),specularColorMapUv:ye&&T(I.specularColorMap.channel),specularIntensityMapUv:lt&&T(I.specularIntensityMap.channel),transmissionMapUv:ie&&T(I.transmissionMap.channel),thicknessMapUv:et&&T(I.thicknessMap.channel),alphaMapUv:ct&&T(I.alphaMap.channel),vertexTangents:!!ue.attributes.tangent&&(be||Je),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!ue.attributes.color&&ue.attributes.color.itemSize===4,pointsUvs:Q.isPoints===!0&&!!ue.attributes.uv&&(_t||ct),fog:!!fe,useFog:I.fog===!0,fogExp2:!!fe&&fe.isFogExp2,flatShading:I.flatShading===!0&&I.wireframe===!1,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:_,reversedDepthBuffer:it,skinning:Q.isSkinnedMesh===!0,morphTargets:ue.morphAttributes.position!==void 0,morphNormals:ue.morphAttributes.normal!==void 0,morphColors:ue.morphAttributes.color!==void 0,morphTargetsCount:j,morphTextureStride:le,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,dithering:I.dithering,shadowMapEnabled:r.shadowMap.enabled&&W.length>0,shadowMapType:r.shadowMap.type,toneMapping:Nt,decodeVideoTexture:_t&&I.map.isVideoTexture===!0&&Mn.getTransfer(I.map.colorSpace)===Vn,decodeVideoTextureEmissive:dt&&I.emissiveMap.isVideoTexture===!0&&Mn.getTransfer(I.emissiveMap.colorSpace)===Vn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===Ms,flipSided:I.side===Cs,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:tt&&I.extensions.clipCullDistance===!0&&n.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(tt&&I.extensions.multiDraw===!0||ft)&&n.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:n.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return en.vertexUv1s=p.has(1),en.vertexUv2s=p.has(2),en.vertexUv3s=p.has(3),p.clear(),en}function M(I){const O=[];if(I.shaderID?O.push(I.shaderID):(O.push(I.customVertexShaderID),O.push(I.customFragmentShaderID)),I.defines!==void 0)for(const W in I.defines)O.push(W),O.push(I.defines[W]);return I.isRawShaderMaterial===!1&&(R(O,I),D(O,I),O.push(r.outputColorSpace)),O.push(I.customProgramCacheKey),O.join()}function R(I,O){I.push(O.precision),I.push(O.outputColorSpace),I.push(O.envMapMode),I.push(O.envMapCubeUVHeight),I.push(O.mapUv),I.push(O.alphaMapUv),I.push(O.lightMapUv),I.push(O.aoMapUv),I.push(O.bumpMapUv),I.push(O.normalMapUv),I.push(O.displacementMapUv),I.push(O.emissiveMapUv),I.push(O.metalnessMapUv),I.push(O.roughnessMapUv),I.push(O.anisotropyMapUv),I.push(O.clearcoatMapUv),I.push(O.clearcoatNormalMapUv),I.push(O.clearcoatRoughnessMapUv),I.push(O.iridescenceMapUv),I.push(O.iridescenceThicknessMapUv),I.push(O.sheenColorMapUv),I.push(O.sheenRoughnessMapUv),I.push(O.specularMapUv),I.push(O.specularColorMapUv),I.push(O.specularIntensityMapUv),I.push(O.transmissionMapUv),I.push(O.thicknessMapUv),I.push(O.combine),I.push(O.fogExp2),I.push(O.sizeAttenuation),I.push(O.morphTargetsCount),I.push(O.morphAttributeCount),I.push(O.numDirLights),I.push(O.numPointLights),I.push(O.numSpotLights),I.push(O.numSpotLightMaps),I.push(O.numHemiLights),I.push(O.numRectAreaLights),I.push(O.numDirLightShadows),I.push(O.numPointLightShadows),I.push(O.numSpotLightShadows),I.push(O.numSpotLightShadowsWithMaps),I.push(O.numLightProbes),I.push(O.shadowMapType),I.push(O.toneMapping),I.push(O.numClippingPlanes),I.push(O.numClipIntersection),I.push(O.depthPacking)}function D(I,O){c.disableAll(),O.instancing&&c.enable(0),O.instancingColor&&c.enable(1),O.instancingMorph&&c.enable(2),O.matcap&&c.enable(3),O.envMap&&c.enable(4),O.normalMapObjectSpace&&c.enable(5),O.normalMapTangentSpace&&c.enable(6),O.clearcoat&&c.enable(7),O.iridescence&&c.enable(8),O.alphaTest&&c.enable(9),O.vertexColors&&c.enable(10),O.vertexAlphas&&c.enable(11),O.vertexUv1s&&c.enable(12),O.vertexUv2s&&c.enable(13),O.vertexUv3s&&c.enable(14),O.vertexTangents&&c.enable(15),O.anisotropy&&c.enable(16),O.alphaHash&&c.enable(17),O.batching&&c.enable(18),O.dispersion&&c.enable(19),O.batchingColor&&c.enable(20),O.gradientMap&&c.enable(21),I.push(c.mask),c.disableAll(),O.fog&&c.enable(0),O.useFog&&c.enable(1),O.flatShading&&c.enable(2),O.logarithmicDepthBuffer&&c.enable(3),O.reversedDepthBuffer&&c.enable(4),O.skinning&&c.enable(5),O.morphTargets&&c.enable(6),O.morphNormals&&c.enable(7),O.morphColors&&c.enable(8),O.premultipliedAlpha&&c.enable(9),O.shadowMapEnabled&&c.enable(10),O.doubleSided&&c.enable(11),O.flipSided&&c.enable(12),O.useDepthPacking&&c.enable(13),O.dithering&&c.enable(14),O.transmission&&c.enable(15),O.sheen&&c.enable(16),O.opaque&&c.enable(17),O.pointsUvs&&c.enable(18),O.decodeVideoTexture&&c.enable(19),O.decodeVideoTextureEmissive&&c.enable(20),O.alphaToCoverage&&c.enable(21),I.push(c.mask)}function L(I){const O=E[I.type];let W;if(O){const ee=Oo[O];W=eb.clone(ee.uniforms)}else W=I.uniforms;return W}function P(I,O){let W=y.get(O);return W!==void 0?++W.usedTimes:(W=new Wk(r,O,I,a),g.push(W),y.set(O,W)),W}function z(I){if(--I.usedTimes===0){const O=g.indexOf(I);g[O]=g[g.length-1],g.pop(),y.delete(I.cacheKey),I.destroy()}}function B(I){d.remove(I)}function k(){d.dispose()}return{getParameters:A,getProgramCacheKey:M,getUniforms:L,acquireProgram:P,releaseProgram:z,releaseShaderCache:B,programs:g,dispose:k}}function Zk(){let r=new WeakMap;function e(u){return r.has(u)}function t(u){let c=r.get(u);return c===void 0&&(c={},r.set(u,c)),c}function n(u){r.delete(u)}function i(u,c,d){r.get(u)[c]=d}function a(){r=new WeakMap}return{has:e,get:t,remove:n,update:i,dispose:a}}function Kk(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.material.id!==e.material.id?r.material.id-e.material.id:r.z!==e.z?r.z-e.z:r.id-e.id}function p3(r,e){return r.groupOrder!==e.groupOrder?r.groupOrder-e.groupOrder:r.renderOrder!==e.renderOrder?r.renderOrder-e.renderOrder:r.z!==e.z?e.z-r.z:r.id-e.id}function m3(){const r=[];let e=0;const t=[],n=[],i=[];function a(){e=0,t.length=0,n.length=0,i.length=0}function u(y,_,x,E,T,A){let M=r[e];return M===void 0?(M={id:y.id,object:y,geometry:_,material:x,groupOrder:E,renderOrder:y.renderOrder,z:T,group:A},r[e]=M):(M.id=y.id,M.object=y,M.geometry=_,M.material=x,M.groupOrder=E,M.renderOrder=y.renderOrder,M.z=T,M.group=A),e++,M}function c(y,_,x,E,T,A){const M=u(y,_,x,E,T,A);x.transmission>0?n.push(M):x.transparent===!0?i.push(M):t.push(M)}function d(y,_,x,E,T,A){const M=u(y,_,x,E,T,A);x.transmission>0?n.unshift(M):x.transparent===!0?i.unshift(M):t.unshift(M)}function p(y,_){t.length>1&&t.sort(y||Kk),n.length>1&&n.sort(_||p3),i.length>1&&i.sort(_||p3)}function g(){for(let y=e,_=r.length;y<_;y++){const x=r[y];if(x.id===null)break;x.id=null,x.object=null,x.geometry=null,x.material=null,x.group=null}}return{opaque:t,transmissive:n,transparent:i,init:a,push:c,unshift:d,finish:g,sort:p}}function $k(){let r=new WeakMap;function e(n,i){const a=r.get(n);let u;return a===void 0?(u=new m3,r.set(n,[u])):i>=a.length?(u=new m3,a.push(u)):u=a[i],u}function t(){r=new WeakMap}return{get:e,dispose:t}}function Qk(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new X,color:new xt};break;case"SpotLight":t={position:new X,direction:new X,color:new xt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new X,color:new xt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new X,skyColor:new xt,groundColor:new xt};break;case"RectAreaLight":t={color:new xt,position:new X,halfWidth:new X,halfHeight:new X};break}return r[e.id]=t,t}}}function Jk(){const r={};return{get:function(e){if(r[e.id]!==void 0)return r[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return r[e.id]=t,t}}}let e6=0;function t6(r,e){return(e.castShadow?2:0)-(r.castShadow?2:0)+(e.map?1:0)-(r.map?1:0)}function n6(r){const e=new Qk,t=Jk(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let p=0;p<9;p++)n.probe.push(new X);const i=new X,a=new Xt,u=new Xt;function c(p){let g=0,y=0,_=0;for(let I=0;I<9;I++)n.probe[I].set(0,0,0);let x=0,E=0,T=0,A=0,M=0,R=0,D=0,L=0,P=0,z=0,B=0;p.sort(t6);for(let I=0,O=p.length;I<O;I++){const W=p[I],ee=W.color,Q=W.intensity,fe=W.distance;let ue=null;if(W.shadow&&W.shadow.map&&(W.shadow.map.texture.format===Lh?ue=W.shadow.map.texture:ue=W.shadow.map.depthTexture||W.shadow.map.texture),W.isAmbientLight)g+=ee.r*Q,y+=ee.g*Q,_+=ee.b*Q;else if(W.isLightProbe){for(let Z=0;Z<9;Z++)n.probe[Z].addScaledVector(W.sh.coefficients[Z],Q);B++}else if(W.isDirectionalLight){const Z=e.get(W);if(Z.color.copy(W.color).multiplyScalar(W.intensity),W.castShadow){const J=W.shadow,he=t.get(W);he.shadowIntensity=J.intensity,he.shadowBias=J.bias,he.shadowNormalBias=J.normalBias,he.shadowRadius=J.radius,he.shadowMapSize=J.mapSize,n.directionalShadow[x]=he,n.directionalShadowMap[x]=ue,n.directionalShadowMatrix[x]=W.shadow.matrix,R++}n.directional[x]=Z,x++}else if(W.isSpotLight){const Z=e.get(W);Z.position.setFromMatrixPosition(W.matrixWorld),Z.color.copy(ee).multiplyScalar(Q),Z.distance=fe,Z.coneCos=Math.cos(W.angle),Z.penumbraCos=Math.cos(W.angle*(1-W.penumbra)),Z.decay=W.decay,n.spot[T]=Z;const J=W.shadow;if(W.map&&(n.spotLightMap[P]=W.map,P++,J.updateMatrices(W),W.castShadow&&z++),n.spotLightMatrix[T]=J.matrix,W.castShadow){const he=t.get(W);he.shadowIntensity=J.intensity,he.shadowBias=J.bias,he.shadowNormalBias=J.normalBias,he.shadowRadius=J.radius,he.shadowMapSize=J.mapSize,n.spotShadow[T]=he,n.spotShadowMap[T]=ue,L++}T++}else if(W.isRectAreaLight){const Z=e.get(W);Z.color.copy(ee).multiplyScalar(Q),Z.halfWidth.set(W.width*.5,0,0),Z.halfHeight.set(0,W.height*.5,0),n.rectArea[A]=Z,A++}else if(W.isPointLight){const Z=e.get(W);if(Z.color.copy(W.color).multiplyScalar(W.intensity),Z.distance=W.distance,Z.decay=W.decay,W.castShadow){const J=W.shadow,he=t.get(W);he.shadowIntensity=J.intensity,he.shadowBias=J.bias,he.shadowNormalBias=J.normalBias,he.shadowRadius=J.radius,he.shadowMapSize=J.mapSize,he.shadowCameraNear=J.camera.near,he.shadowCameraFar=J.camera.far,n.pointShadow[E]=he,n.pointShadowMap[E]=ue,n.pointShadowMatrix[E]=W.shadow.matrix,D++}n.point[E]=Z,E++}else if(W.isHemisphereLight){const Z=e.get(W);Z.skyColor.copy(W.color).multiplyScalar(Q),Z.groundColor.copy(W.groundColor).multiplyScalar(Q),n.hemi[M]=Z,M++}}A>0&&(r.has("OES_texture_float_linear")===!0?(n.rectAreaLTC1=mt.LTC_FLOAT_1,n.rectAreaLTC2=mt.LTC_FLOAT_2):(n.rectAreaLTC1=mt.LTC_HALF_1,n.rectAreaLTC2=mt.LTC_HALF_2)),n.ambient[0]=g,n.ambient[1]=y,n.ambient[2]=_;const k=n.hash;(k.directionalLength!==x||k.pointLength!==E||k.spotLength!==T||k.rectAreaLength!==A||k.hemiLength!==M||k.numDirectionalShadows!==R||k.numPointShadows!==D||k.numSpotShadows!==L||k.numSpotMaps!==P||k.numLightProbes!==B)&&(n.directional.length=x,n.spot.length=T,n.rectArea.length=A,n.point.length=E,n.hemi.length=M,n.directionalShadow.length=R,n.directionalShadowMap.length=R,n.pointShadow.length=D,n.pointShadowMap.length=D,n.spotShadow.length=L,n.spotShadowMap.length=L,n.directionalShadowMatrix.length=R,n.pointShadowMatrix.length=D,n.spotLightMatrix.length=L+P-z,n.spotLightMap.length=P,n.numSpotLightShadowsWithMaps=z,n.numLightProbes=B,k.directionalLength=x,k.pointLength=E,k.spotLength=T,k.rectAreaLength=A,k.hemiLength=M,k.numDirectionalShadows=R,k.numPointShadows=D,k.numSpotShadows=L,k.numSpotMaps=P,k.numLightProbes=B,n.version=e6++)}function d(p,g){let y=0,_=0,x=0,E=0,T=0;const A=g.matrixWorldInverse;for(let M=0,R=p.length;M<R;M++){const D=p[M];if(D.isDirectionalLight){const L=n.directional[y];L.direction.setFromMatrixPosition(D.matrixWorld),i.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(A),y++}else if(D.isSpotLight){const L=n.spot[x];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(A),L.direction.setFromMatrixPosition(D.matrixWorld),i.setFromMatrixPosition(D.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(A),x++}else if(D.isRectAreaLight){const L=n.rectArea[E];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(A),u.identity(),a.copy(D.matrixWorld),a.premultiply(A),u.extractRotation(a),L.halfWidth.set(D.width*.5,0,0),L.halfHeight.set(0,D.height*.5,0),L.halfWidth.applyMatrix4(u),L.halfHeight.applyMatrix4(u),E++}else if(D.isPointLight){const L=n.point[_];L.position.setFromMatrixPosition(D.matrixWorld),L.position.applyMatrix4(A),_++}else if(D.isHemisphereLight){const L=n.hemi[T];L.direction.setFromMatrixPosition(D.matrixWorld),L.direction.transformDirection(A),T++}}}return{setup:c,setupView:d,state:n}}function g3(r){const e=new n6(r),t=[],n=[];function i(g){p.camera=g,t.length=0,n.length=0}function a(g){t.push(g)}function u(g){n.push(g)}function c(){e.setup(t)}function d(g){e.setupView(t,g)}const p={lightsArray:t,shadowsArray:n,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:p,setupLights:c,setupLightsView:d,pushLight:a,pushShadow:u}}function i6(r){let e=new WeakMap;function t(i,a=0){const u=e.get(i);let c;return u===void 0?(c=new g3(r),e.set(i,[c])):a>=u.length?(c=new g3(r),u.push(c)):c=u[a],c}function n(){e=new WeakMap}return{get:t,dispose:n}}const r6=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,s6=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,a6=[new X(1,0,0),new X(-1,0,0),new X(0,1,0),new X(0,-1,0),new X(0,0,1),new X(0,0,-1)],o6=[new X(0,-1,0),new X(0,-1,0),new X(0,0,1),new X(0,0,-1),new X(0,-1,0),new X(0,-1,0)],v3=new Xt,Wg=new X,qS=new X;function l6(r,e,t){let n=new $p;const i=new Ve,a=new Ve,u=new Dn,c=new sT,d=new aT,p={},g=t.maxTextureSize,y={[zu]:Cs,[Cs]:zu,[Ms]:Ms},_=new Ta({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:r6,fragmentShader:s6}),x=_.clone();x.defines.HORIZONTAL_PASS=1;const E=new jt;E.setAttribute("position",new zn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new Qi(E,_),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=wp;let M=this.type;this.render=function(z,B,k){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||z.length===0)return;z.type===n0&&(gt("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),z.type=wp);const I=r.getRenderTarget(),O=r.getActiveCubeFace(),W=r.getActiveMipmapLevel(),ee=r.state;ee.setBlending(Cl),ee.buffers.depth.getReversed()===!0?ee.buffers.color.setClear(0,0,0,0):ee.buffers.color.setClear(1,1,1,1),ee.buffers.depth.setTest(!0),ee.setScissorTest(!1);const Q=M!==this.type;Q&&B.traverse(function(fe){fe.material&&(Array.isArray(fe.material)?fe.material.forEach(ue=>ue.needsUpdate=!0):fe.material.needsUpdate=!0)});for(let fe=0,ue=z.length;fe<ue;fe++){const Z=z[fe],J=Z.shadow;if(J===void 0){gt("WebGLShadowMap:",Z,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const he=J.getFrameExtents();if(i.multiply(he),a.copy(J.mapSize),(i.x>g||i.y>g)&&(i.x>g&&(a.x=Math.floor(g/he.x),i.x=a.x*he.x,J.mapSize.x=a.x),i.y>g&&(a.y=Math.floor(g/he.y),i.y=a.y*he.y,J.mapSize.y=a.y)),J.map===null||Q===!0){if(J.map!==null&&(J.map.depthTexture!==null&&(J.map.depthTexture.dispose(),J.map.depthTexture=null),J.map.dispose()),this.type===vh){if(Z.isPointLight){gt("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}J.map=new Sa(i.x,i.y,{format:Lh,type:Ol,minFilter:di,magFilter:di,generateMipmaps:!1}),J.map.texture.name=Z.name+".shadowMap",J.map.depthTexture=new Bp(i.x,i.y,As),J.map.depthTexture.name=Z.name+".shadowMapDepth",J.map.depthTexture.format=Il,J.map.depthTexture.compareFunction=null,J.map.depthTexture.minFilter=$i,J.map.depthTexture.magFilter=$i}else{Z.isPointLight?(J.map=new XE(i.x),J.map.depthTexture=new VR(i.x,ro)):(J.map=new Sa(i.x,i.y),J.map.depthTexture=new Bp(i.x,i.y,ro)),J.map.depthTexture.name=Z.name+".shadowMap",J.map.depthTexture.format=Il;const Ue=r.state.buffers.depth.getReversed();this.type===wp?(J.map.depthTexture.compareFunction=Ue?Ib:Ob,J.map.depthTexture.minFilter=di,J.map.depthTexture.magFilter=di):(J.map.depthTexture.compareFunction=null,J.map.depthTexture.minFilter=$i,J.map.depthTexture.magFilter=$i)}J.camera.updateProjectionMatrix()}const Pe=J.map.isWebGLCubeRenderTarget?6:1;for(let Ue=0;Ue<Pe;Ue++){if(J.map.isWebGLCubeRenderTarget)r.setRenderTarget(J.map,Ue),r.clear();else{Ue===0&&(r.setRenderTarget(J.map),r.clear());const j=J.getViewport(Ue);u.set(a.x*j.x,a.y*j.y,a.x*j.z,a.y*j.w),ee.viewport(u)}if(Z.isPointLight){const j=J.camera,le=J.matrix,Re=Z.distance||j.far;Re!==j.far&&(j.far=Re,j.updateProjectionMatrix()),Wg.setFromMatrixPosition(Z.matrixWorld),j.position.copy(Wg),qS.copy(j.position),qS.add(a6[Ue]),j.up.copy(o6[Ue]),j.lookAt(qS),j.updateMatrixWorld(),le.makeTranslation(-Wg.x,-Wg.y,-Wg.z),v3.multiplyMatrices(j.projectionMatrix,j.matrixWorldInverse),J._frustum.setFromProjectionMatrix(v3,j.coordinateSystem,j.reversedDepth)}else J.updateMatrices(Z);n=J.getFrustum(),L(B,k,J.camera,Z,this.type)}J.isPointLightShadow!==!0&&this.type===vh&&R(J,k),J.needsUpdate=!1}M=this.type,A.needsUpdate=!1,r.setRenderTarget(I,O,W)};function R(z,B){const k=e.update(T);_.defines.VSM_SAMPLES!==z.blurSamples&&(_.defines.VSM_SAMPLES=z.blurSamples,x.defines.VSM_SAMPLES=z.blurSamples,_.needsUpdate=!0,x.needsUpdate=!0),z.mapPass===null&&(z.mapPass=new Sa(i.x,i.y,{format:Lh,type:Ol})),_.uniforms.shadow_pass.value=z.map.depthTexture,_.uniforms.resolution.value=z.mapSize,_.uniforms.radius.value=z.radius,r.setRenderTarget(z.mapPass),r.clear(),r.renderBufferDirect(B,null,k,_,T,null),x.uniforms.shadow_pass.value=z.mapPass.texture,x.uniforms.resolution.value=z.mapSize,x.uniforms.radius.value=z.radius,r.setRenderTarget(z.map),r.clear(),r.renderBufferDirect(B,null,k,x,T,null)}function D(z,B,k,I){let O=null;const W=k.isPointLight===!0?z.customDistanceMaterial:z.customDepthMaterial;if(W!==void 0)O=W;else if(O=k.isPointLight===!0?d:c,r.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const ee=O.uuid,Q=B.uuid;let fe=p[ee];fe===void 0&&(fe={},p[ee]=fe);let ue=fe[Q];ue===void 0&&(ue=O.clone(),fe[Q]=ue,B.addEventListener("dispose",P)),O=ue}if(O.visible=B.visible,O.wireframe=B.wireframe,I===vh?O.side=B.shadowSide!==null?B.shadowSide:B.side:O.side=B.shadowSide!==null?B.shadowSide:y[B.side],O.alphaMap=B.alphaMap,O.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,O.map=B.map,O.clipShadows=B.clipShadows,O.clippingPlanes=B.clippingPlanes,O.clipIntersection=B.clipIntersection,O.displacementMap=B.displacementMap,O.displacementScale=B.displacementScale,O.displacementBias=B.displacementBias,O.wireframeLinewidth=B.wireframeLinewidth,O.linewidth=B.linewidth,k.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const ee=r.properties.get(O);ee.light=k}return O}function L(z,B,k,I,O){if(z.visible===!1)return;if(z.layers.test(B.layers)&&(z.isMesh||z.isLine||z.isPoints)&&(z.castShadow||z.receiveShadow&&O===vh)&&(!z.frustumCulled||n.intersectsObject(z))){z.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,z.matrixWorld);const Q=e.update(z),fe=z.material;if(Array.isArray(fe)){const ue=Q.groups;for(let Z=0,J=ue.length;Z<J;Z++){const he=ue[Z],Pe=fe[he.materialIndex];if(Pe&&Pe.visible){const Ue=D(z,Pe,I,O);z.onBeforeShadow(r,z,B,k,Q,Ue,he),r.renderBufferDirect(k,null,Q,Ue,z,he),z.onAfterShadow(r,z,B,k,Q,Ue,he)}}}else if(fe.visible){const ue=D(z,fe,I,O);z.onBeforeShadow(r,z,B,k,Q,ue,null),r.renderBufferDirect(k,null,Q,ue,z,null),z.onAfterShadow(r,z,B,k,Q,ue,null)}}const ee=z.children;for(let Q=0,fe=ee.length;Q<fe;Q++)L(ee[Q],B,k,I,O)}function P(z){z.target.removeEventListener("dispose",P);for(const k in p){const I=p[k],O=z.target.uuid;O in I&&(I[O].dispose(),delete I[O])}}}const u6={[px]:mx,[gx]:_x,[vx]:xx,[Nh]:yx,[mx]:px,[_x]:gx,[xx]:vx,[yx]:Nh};function c6(r,e){function t(){let ie=!1;const et=new Dn;let Ye=null;const ct=new Dn(0,0,0,0);return{setMask:function(Ze){Ye!==Ze&&!ie&&(r.colorMask(Ze,Ze,Ze,Ze),Ye=Ze)},setLocked:function(Ze){ie=Ze},setClear:function(Ze,ke,tt,Nt,en){en===!0&&(Ze*=Nt,ke*=Nt,tt*=Nt),et.set(Ze,ke,tt,Nt),ct.equals(et)===!1&&(r.clearColor(Ze,ke,tt,Nt),ct.copy(et))},reset:function(){ie=!1,Ye=null,ct.set(-1,0,0,0)}}}function n(){let ie=!1,et=!1,Ye=null,ct=null,Ze=null;return{setReversed:function(ke){if(et!==ke){const tt=e.get("EXT_clip_control");ke?tt.clipControlEXT(tt.LOWER_LEFT_EXT,tt.ZERO_TO_ONE_EXT):tt.clipControlEXT(tt.LOWER_LEFT_EXT,tt.NEGATIVE_ONE_TO_ONE_EXT),et=ke;const Nt=Ze;Ze=null,this.setClear(Nt)}},getReversed:function(){return et},setTest:function(ke){ke?De(r.DEPTH_TEST):it(r.DEPTH_TEST)},setMask:function(ke){Ye!==ke&&!ie&&(r.depthMask(ke),Ye=ke)},setFunc:function(ke){if(et&&(ke=u6[ke]),ct!==ke){switch(ke){case px:r.depthFunc(r.NEVER);break;case mx:r.depthFunc(r.ALWAYS);break;case gx:r.depthFunc(r.LESS);break;case Nh:r.depthFunc(r.LEQUAL);break;case vx:r.depthFunc(r.EQUAL);break;case yx:r.depthFunc(r.GEQUAL);break;case _x:r.depthFunc(r.GREATER);break;case xx:r.depthFunc(r.NOTEQUAL);break;default:r.depthFunc(r.LEQUAL)}ct=ke}},setLocked:function(ke){ie=ke},setClear:function(ke){Ze!==ke&&(et&&(ke=1-ke),r.clearDepth(ke),Ze=ke)},reset:function(){ie=!1,Ye=null,ct=null,Ze=null,et=!1}}}function i(){let ie=!1,et=null,Ye=null,ct=null,Ze=null,ke=null,tt=null,Nt=null,en=null;return{setTest:function(rn){ie||(rn?De(r.STENCIL_TEST):it(r.STENCIL_TEST))},setMask:function(rn){et!==rn&&!ie&&(r.stencilMask(rn),et=rn)},setFunc:function(rn,ri,ki){(Ye!==rn||ct!==ri||Ze!==ki)&&(r.stencilFunc(rn,ri,ki),Ye=rn,ct=ri,Ze=ki)},setOp:function(rn,ri,ki){(ke!==rn||tt!==ri||Nt!==ki)&&(r.stencilOp(rn,ri,ki),ke=rn,tt=ri,Nt=ki)},setLocked:function(rn){ie=rn},setClear:function(rn){en!==rn&&(r.clearStencil(rn),en=rn)},reset:function(){ie=!1,et=null,Ye=null,ct=null,Ze=null,ke=null,tt=null,Nt=null,en=null}}}const a=new t,u=new n,c=new i,d=new WeakMap,p=new WeakMap;let g={},y={},_=new WeakMap,x=[],E=null,T=!1,A=null,M=null,R=null,D=null,L=null,P=null,z=null,B=new xt(0,0,0),k=0,I=!1,O=null,W=null,ee=null,Q=null,fe=null;const ue=r.getParameter(r.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Z=!1,J=0;const he=r.getParameter(r.VERSION);he.indexOf("WebGL")!==-1?(J=parseFloat(/^WebGL (\d)/.exec(he)[1]),Z=J>=1):he.indexOf("OpenGL ES")!==-1&&(J=parseFloat(/^OpenGL ES (\d)/.exec(he)[1]),Z=J>=2);let Pe=null,Ue={};const j=r.getParameter(r.SCISSOR_BOX),le=r.getParameter(r.VIEWPORT),Re=new Dn().fromArray(j),ze=new Dn().fromArray(le);function rt(ie,et,Ye,ct){const Ze=new Uint8Array(4),ke=r.createTexture();r.bindTexture(ie,ke),r.texParameteri(ie,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(ie,r.TEXTURE_MAG_FILTER,r.NEAREST);for(let tt=0;tt<Ye;tt++)ie===r.TEXTURE_3D||ie===r.TEXTURE_2D_ARRAY?r.texImage3D(et,0,r.RGBA,1,1,ct,0,r.RGBA,r.UNSIGNED_BYTE,Ze):r.texImage2D(et+tt,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,Ze);return ke}const ge={};ge[r.TEXTURE_2D]=rt(r.TEXTURE_2D,r.TEXTURE_2D,1),ge[r.TEXTURE_CUBE_MAP]=rt(r.TEXTURE_CUBE_MAP,r.TEXTURE_CUBE_MAP_POSITIVE_X,6),ge[r.TEXTURE_2D_ARRAY]=rt(r.TEXTURE_2D_ARRAY,r.TEXTURE_2D_ARRAY,1,1),ge[r.TEXTURE_3D]=rt(r.TEXTURE_3D,r.TEXTURE_3D,1,1),a.setClear(0,0,0,1),u.setClear(1),c.setClear(0),De(r.DEPTH_TEST),u.setFunc(Nh),Ae(!1),be(MM),De(r.CULL_FACE),ve(Cl);function De(ie){g[ie]!==!0&&(r.enable(ie),g[ie]=!0)}function it(ie){g[ie]!==!1&&(r.disable(ie),g[ie]=!1)}function ne(ie,et){return y[ie]!==et?(r.bindFramebuffer(ie,et),y[ie]=et,ie===r.DRAW_FRAMEBUFFER&&(y[r.FRAMEBUFFER]=et),ie===r.FRAMEBUFFER&&(y[r.DRAW_FRAMEBUFFER]=et),!0):!1}function ft(ie,et){let Ye=x,ct=!1;if(ie){Ye=_.get(et),Ye===void 0&&(Ye=[],_.set(et,Ye));const Ze=ie.textures;if(Ye.length!==Ze.length||Ye[0]!==r.COLOR_ATTACHMENT0){for(let ke=0,tt=Ze.length;ke<tt;ke++)Ye[ke]=r.COLOR_ATTACHMENT0+ke;Ye.length=Ze.length,ct=!0}}else Ye[0]!==r.BACK&&(Ye[0]=r.BACK,ct=!0);ct&&r.drawBuffers(Ye)}function _t(ie){return E!==ie?(r.useProgram(ie),E=ie,!0):!1}const Yt={[zc]:r.FUNC_ADD,[YC]:r.FUNC_SUBTRACT,[ZC]:r.FUNC_REVERSE_SUBTRACT};Yt[KC]=r.MIN,Yt[$C]=r.MAX;const Et={[QC]:r.ZERO,[JC]:r.ONE,[eR]:r.SRC_COLOR,[hx]:r.SRC_ALPHA,[aR]:r.SRC_ALPHA_SATURATE,[rR]:r.DST_COLOR,[nR]:r.DST_ALPHA,[tR]:r.ONE_MINUS_SRC_COLOR,[dx]:r.ONE_MINUS_SRC_ALPHA,[sR]:r.ONE_MINUS_DST_COLOR,[iR]:r.ONE_MINUS_DST_ALPHA,[oR]:r.CONSTANT_COLOR,[lR]:r.ONE_MINUS_CONSTANT_COLOR,[uR]:r.CONSTANT_ALPHA,[cR]:r.ONE_MINUS_CONSTANT_ALPHA};function ve(ie,et,Ye,ct,Ze,ke,tt,Nt,en,rn){if(ie===Cl){T===!0&&(it(r.BLEND),T=!1);return}if(T===!1&&(De(r.BLEND),T=!0),ie!==qC){if(ie!==A||rn!==I){if((M!==zc||L!==zc)&&(r.blendEquation(r.FUNC_ADD),M=zc,L=zc),rn)switch(ie){case Sh:r.blendFuncSeparate(r.ONE,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case EM:r.blendFunc(r.ONE,r.ONE);break;case TM:r.blendFuncSeparate(r.ZERO,r.ONE_MINUS_SRC_COLOR,r.ZERO,r.ONE);break;case wM:r.blendFuncSeparate(r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ZERO,r.ONE);break;default:Ot("WebGLState: Invalid blending: ",ie);break}else switch(ie){case Sh:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA);break;case EM:r.blendFuncSeparate(r.SRC_ALPHA,r.ONE,r.ONE,r.ONE);break;case TM:Ot("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case wM:Ot("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:Ot("WebGLState: Invalid blending: ",ie);break}R=null,D=null,P=null,z=null,B.set(0,0,0),k=0,A=ie,I=rn}return}Ze=Ze||et,ke=ke||Ye,tt=tt||ct,(et!==M||Ze!==L)&&(r.blendEquationSeparate(Yt[et],Yt[Ze]),M=et,L=Ze),(Ye!==R||ct!==D||ke!==P||tt!==z)&&(r.blendFuncSeparate(Et[Ye],Et[ct],Et[ke],Et[tt]),R=Ye,D=ct,P=ke,z=tt),(Nt.equals(B)===!1||en!==k)&&(r.blendColor(Nt.r,Nt.g,Nt.b,en),B.copy(Nt),k=en),A=ie,I=!1}function Xe(ie,et){ie.side===Ms?it(r.CULL_FACE):De(r.CULL_FACE);let Ye=ie.side===Cs;et&&(Ye=!Ye),Ae(Ye),ie.blending===Sh&&ie.transparent===!1?ve(Cl):ve(ie.blending,ie.blendEquation,ie.blendSrc,ie.blendDst,ie.blendEquationAlpha,ie.blendSrcAlpha,ie.blendDstAlpha,ie.blendColor,ie.blendAlpha,ie.premultipliedAlpha),u.setFunc(ie.depthFunc),u.setTest(ie.depthTest),u.setMask(ie.depthWrite),a.setMask(ie.colorWrite);const ct=ie.stencilWrite;c.setTest(ct),ct&&(c.setMask(ie.stencilWriteMask),c.setFunc(ie.stencilFunc,ie.stencilRef,ie.stencilFuncMask),c.setOp(ie.stencilFail,ie.stencilZFail,ie.stencilZPass)),dt(ie.polygonOffset,ie.polygonOffsetFactor,ie.polygonOffsetUnits),ie.alphaToCoverage===!0?De(r.SAMPLE_ALPHA_TO_COVERAGE):it(r.SAMPLE_ALPHA_TO_COVERAGE)}function Ae(ie){O!==ie&&(ie?r.frontFace(r.CW):r.frontFace(r.CCW),O=ie)}function be(ie){ie!==WC?(De(r.CULL_FACE),ie!==W&&(ie===MM?r.cullFace(r.BACK):ie===XC?r.cullFace(r.FRONT):r.cullFace(r.FRONT_AND_BACK))):it(r.CULL_FACE),W=ie}function Y(ie){ie!==ee&&(Z&&r.lineWidth(ie),ee=ie)}function dt(ie,et,Ye){ie?(De(r.POLYGON_OFFSET_FILL),(Q!==et||fe!==Ye)&&(r.polygonOffset(et,Ye),Q=et,fe=Ye)):it(r.POLYGON_OFFSET_FILL)}function Te(ie){ie?De(r.SCISSOR_TEST):it(r.SCISSOR_TEST)}function Ct(ie){ie===void 0&&(ie=r.TEXTURE0+ue-1),Pe!==ie&&(r.activeTexture(ie),Pe=ie)}function Je(ie,et,Ye){Ye===void 0&&(Pe===null?Ye=r.TEXTURE0+ue-1:Ye=Pe);let ct=Ue[Ye];ct===void 0&&(ct={type:void 0,texture:void 0},Ue[Ye]=ct),(ct.type!==ie||ct.texture!==et)&&(Pe!==Ye&&(r.activeTexture(Ye),Pe=Ye),r.bindTexture(ie,et||ge[ie]),ct.type=ie,ct.texture=et)}function q(){const ie=Ue[Pe];ie!==void 0&&ie.type!==void 0&&(r.bindTexture(ie.type,null),ie.type=void 0,ie.texture=void 0)}function F(){try{r.compressedTexImage2D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function oe(){try{r.compressedTexImage3D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function Le(){try{r.texSubImage2D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function Be(){try{r.texSubImage3D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function _e(){try{r.compressedTexSubImage2D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function st(){try{r.compressedTexSubImage3D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function Ge(){try{r.texStorage2D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function Ke(){try{r.texStorage3D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function Mt(){try{r.texImage2D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function qe(){try{r.texImage3D(...arguments)}catch(ie){Ot("WebGLState:",ie)}}function nt(ie){Re.equals(ie)===!1&&(r.scissor(ie.x,ie.y,ie.z,ie.w),Re.copy(ie))}function pt(ie){ze.equals(ie)===!1&&(r.viewport(ie.x,ie.y,ie.z,ie.w),ze.copy(ie))}function te(ie,et){let Ye=p.get(et);Ye===void 0&&(Ye=new WeakMap,p.set(et,Ye));let ct=Ye.get(ie);ct===void 0&&(ct=r.getUniformBlockIndex(et,ie.name),Ye.set(ie,ct))}function ye(ie,et){const ct=p.get(et).get(ie);d.get(et)!==ct&&(r.uniformBlockBinding(et,ct,ie.__bindingPointIndex),d.set(et,ct))}function lt(){r.disable(r.BLEND),r.disable(r.CULL_FACE),r.disable(r.DEPTH_TEST),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SCISSOR_TEST),r.disable(r.STENCIL_TEST),r.disable(r.SAMPLE_ALPHA_TO_COVERAGE),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ZERO),r.blendFuncSeparate(r.ONE,r.ZERO,r.ONE,r.ZERO),r.blendColor(0,0,0,0),r.colorMask(!0,!0,!0,!0),r.clearColor(0,0,0,0),r.depthMask(!0),r.depthFunc(r.LESS),u.setReversed(!1),r.clearDepth(1),r.stencilMask(4294967295),r.stencilFunc(r.ALWAYS,0,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),r.clearStencil(0),r.cullFace(r.BACK),r.frontFace(r.CCW),r.polygonOffset(0,0),r.activeTexture(r.TEXTURE0),r.bindFramebuffer(r.FRAMEBUFFER,null),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.bindFramebuffer(r.READ_FRAMEBUFFER,null),r.useProgram(null),r.lineWidth(1),r.scissor(0,0,r.canvas.width,r.canvas.height),r.viewport(0,0,r.canvas.width,r.canvas.height),g={},Pe=null,Ue={},y={},_=new WeakMap,x=[],E=null,T=!1,A=null,M=null,R=null,D=null,L=null,P=null,z=null,B=new xt(0,0,0),k=0,I=!1,O=null,W=null,ee=null,Q=null,fe=null,Re.set(0,0,r.canvas.width,r.canvas.height),ze.set(0,0,r.canvas.width,r.canvas.height),a.reset(),u.reset(),c.reset()}return{buffers:{color:a,depth:u,stencil:c},enable:De,disable:it,bindFramebuffer:ne,drawBuffers:ft,useProgram:_t,setBlending:ve,setMaterial:Xe,setFlipSided:Ae,setCullFace:be,setLineWidth:Y,setPolygonOffset:dt,setScissorTest:Te,activeTexture:Ct,bindTexture:Je,unbindTexture:q,compressedTexImage2D:F,compressedTexImage3D:oe,texImage2D:Mt,texImage3D:qe,updateUBOMapping:te,uniformBlockBinding:ye,texStorage2D:Ge,texStorage3D:Ke,texSubImage2D:Le,texSubImage3D:Be,compressedTexSubImage2D:_e,compressedTexSubImage3D:st,scissor:nt,viewport:pt,reset:lt}}function f6(r,e,t,n,i,a,u){const c=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,d=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new Ve,g=new WeakMap;let y;const _=new WeakMap;let x=!1;try{x=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(q,F){return x?new OffscreenCanvas(q,F):A0("canvas")}function T(q,F,oe){let Le=1;const Be=Je(q);if((Be.width>oe||Be.height>oe)&&(Le=oe/Math.max(Be.width,Be.height)),Le<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const _e=Math.floor(Le*Be.width),st=Math.floor(Le*Be.height);y===void 0&&(y=E(_e,st));const Ge=F?E(_e,st):y;return Ge.width=_e,Ge.height=st,Ge.getContext("2d").drawImage(q,0,0,_e,st),gt("WebGLRenderer: Texture has been resized from ("+Be.width+"x"+Be.height+") to ("+_e+"x"+st+")."),Ge}else return"data"in q&&gt("WebGLRenderer: Image in DataTexture is too big ("+Be.width+"x"+Be.height+")."),q;return q}function A(q){return q.generateMipmaps}function M(q){r.generateMipmap(q)}function R(q){return q.isWebGLCubeRenderTarget?r.TEXTURE_CUBE_MAP:q.isWebGL3DRenderTarget?r.TEXTURE_3D:q.isWebGLArrayRenderTarget||q.isCompressedArrayTexture?r.TEXTURE_2D_ARRAY:r.TEXTURE_2D}function D(q,F,oe,Le,Be=!1){if(q!==null){if(r[q]!==void 0)return r[q];gt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let _e=F;if(F===r.RED&&(oe===r.FLOAT&&(_e=r.R32F),oe===r.HALF_FLOAT&&(_e=r.R16F),oe===r.UNSIGNED_BYTE&&(_e=r.R8)),F===r.RED_INTEGER&&(oe===r.UNSIGNED_BYTE&&(_e=r.R8UI),oe===r.UNSIGNED_SHORT&&(_e=r.R16UI),oe===r.UNSIGNED_INT&&(_e=r.R32UI),oe===r.BYTE&&(_e=r.R8I),oe===r.SHORT&&(_e=r.R16I),oe===r.INT&&(_e=r.R32I)),F===r.RG&&(oe===r.FLOAT&&(_e=r.RG32F),oe===r.HALF_FLOAT&&(_e=r.RG16F),oe===r.UNSIGNED_BYTE&&(_e=r.RG8)),F===r.RG_INTEGER&&(oe===r.UNSIGNED_BYTE&&(_e=r.RG8UI),oe===r.UNSIGNED_SHORT&&(_e=r.RG16UI),oe===r.UNSIGNED_INT&&(_e=r.RG32UI),oe===r.BYTE&&(_e=r.RG8I),oe===r.SHORT&&(_e=r.RG16I),oe===r.INT&&(_e=r.RG32I)),F===r.RGB_INTEGER&&(oe===r.UNSIGNED_BYTE&&(_e=r.RGB8UI),oe===r.UNSIGNED_SHORT&&(_e=r.RGB16UI),oe===r.UNSIGNED_INT&&(_e=r.RGB32UI),oe===r.BYTE&&(_e=r.RGB8I),oe===r.SHORT&&(_e=r.RGB16I),oe===r.INT&&(_e=r.RGB32I)),F===r.RGBA_INTEGER&&(oe===r.UNSIGNED_BYTE&&(_e=r.RGBA8UI),oe===r.UNSIGNED_SHORT&&(_e=r.RGBA16UI),oe===r.UNSIGNED_INT&&(_e=r.RGBA32UI),oe===r.BYTE&&(_e=r.RGBA8I),oe===r.SHORT&&(_e=r.RGBA16I),oe===r.INT&&(_e=r.RGBA32I)),F===r.RGB&&(oe===r.UNSIGNED_INT_5_9_9_9_REV&&(_e=r.RGB9_E5),oe===r.UNSIGNED_INT_10F_11F_11F_REV&&(_e=r.R11F_G11F_B10F)),F===r.RGBA){const st=Be?T0:Mn.getTransfer(Le);oe===r.FLOAT&&(_e=r.RGBA32F),oe===r.HALF_FLOAT&&(_e=r.RGBA16F),oe===r.UNSIGNED_BYTE&&(_e=st===Vn?r.SRGB8_ALPHA8:r.RGBA8),oe===r.UNSIGNED_SHORT_4_4_4_4&&(_e=r.RGBA4),oe===r.UNSIGNED_SHORT_5_5_5_1&&(_e=r.RGB5_A1)}return(_e===r.R16F||_e===r.R32F||_e===r.RG16F||_e===r.RG32F||_e===r.RGBA16F||_e===r.RGBA32F)&&e.get("EXT_color_buffer_float"),_e}function L(q,F){let oe;return q?F===null||F===ro||F===Lp?oe=r.DEPTH24_STENCIL8:F===As?oe=r.DEPTH32F_STENCIL8:F===Np&&(oe=r.DEPTH24_STENCIL8,gt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):F===null||F===ro||F===Lp?oe=r.DEPTH_COMPONENT24:F===As?oe=r.DEPTH_COMPONENT32F:F===Np&&(oe=r.DEPTH_COMPONENT16),oe}function P(q,F){return A(q)===!0||q.isFramebufferTexture&&q.minFilter!==$i&&q.minFilter!==di?Math.log2(Math.max(F.width,F.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?F.mipmaps.length:1}function z(q){const F=q.target;F.removeEventListener("dispose",z),k(F),F.isVideoTexture&&g.delete(F)}function B(q){const F=q.target;F.removeEventListener("dispose",B),O(F)}function k(q){const F=n.get(q);if(F.__webglInit===void 0)return;const oe=q.source,Le=_.get(oe);if(Le){const Be=Le[F.__cacheKey];Be.usedTimes--,Be.usedTimes===0&&I(q),Object.keys(Le).length===0&&_.delete(oe)}n.remove(q)}function I(q){const F=n.get(q);r.deleteTexture(F.__webglTexture);const oe=q.source,Le=_.get(oe);delete Le[F.__cacheKey],u.memory.textures--}function O(q){const F=n.get(q);if(q.depthTexture&&(q.depthTexture.dispose(),n.remove(q.depthTexture)),q.isWebGLCubeRenderTarget)for(let Le=0;Le<6;Le++){if(Array.isArray(F.__webglFramebuffer[Le]))for(let Be=0;Be<F.__webglFramebuffer[Le].length;Be++)r.deleteFramebuffer(F.__webglFramebuffer[Le][Be]);else r.deleteFramebuffer(F.__webglFramebuffer[Le]);F.__webglDepthbuffer&&r.deleteRenderbuffer(F.__webglDepthbuffer[Le])}else{if(Array.isArray(F.__webglFramebuffer))for(let Le=0;Le<F.__webglFramebuffer.length;Le++)r.deleteFramebuffer(F.__webglFramebuffer[Le]);else r.deleteFramebuffer(F.__webglFramebuffer);if(F.__webglDepthbuffer&&r.deleteRenderbuffer(F.__webglDepthbuffer),F.__webglMultisampledFramebuffer&&r.deleteFramebuffer(F.__webglMultisampledFramebuffer),F.__webglColorRenderbuffer)for(let Le=0;Le<F.__webglColorRenderbuffer.length;Le++)F.__webglColorRenderbuffer[Le]&&r.deleteRenderbuffer(F.__webglColorRenderbuffer[Le]);F.__webglDepthRenderbuffer&&r.deleteRenderbuffer(F.__webglDepthRenderbuffer)}const oe=q.textures;for(let Le=0,Be=oe.length;Le<Be;Le++){const _e=n.get(oe[Le]);_e.__webglTexture&&(r.deleteTexture(_e.__webglTexture),u.memory.textures--),n.remove(oe[Le])}n.remove(q)}let W=0;function ee(){W=0}function Q(){const q=W;return q>=i.maxTextures&&gt("WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+i.maxTextures),W+=1,q}function fe(q){const F=[];return F.push(q.wrapS),F.push(q.wrapT),F.push(q.wrapR||0),F.push(q.magFilter),F.push(q.minFilter),F.push(q.anisotropy),F.push(q.internalFormat),F.push(q.format),F.push(q.type),F.push(q.generateMipmaps),F.push(q.premultiplyAlpha),F.push(q.flipY),F.push(q.unpackAlignment),F.push(q.colorSpace),F.join()}function ue(q,F){const oe=n.get(q);if(q.isVideoTexture&&Te(q),q.isRenderTargetTexture===!1&&q.isExternalTexture!==!0&&q.version>0&&oe.__version!==q.version){const Le=q.image;if(Le===null)gt("WebGLRenderer: Texture marked for update but no image data found.");else if(Le.complete===!1)gt("WebGLRenderer: Texture marked for update but image is incomplete");else{ge(oe,q,F);return}}else q.isExternalTexture&&(oe.__webglTexture=q.sourceTexture?q.sourceTexture:null);t.bindTexture(r.TEXTURE_2D,oe.__webglTexture,r.TEXTURE0+F)}function Z(q,F){const oe=n.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&oe.__version!==q.version){ge(oe,q,F);return}else q.isExternalTexture&&(oe.__webglTexture=q.sourceTexture?q.sourceTexture:null);t.bindTexture(r.TEXTURE_2D_ARRAY,oe.__webglTexture,r.TEXTURE0+F)}function J(q,F){const oe=n.get(q);if(q.isRenderTargetTexture===!1&&q.version>0&&oe.__version!==q.version){ge(oe,q,F);return}t.bindTexture(r.TEXTURE_3D,oe.__webglTexture,r.TEXTURE0+F)}function he(q,F){const oe=n.get(q);if(q.isCubeDepthTexture!==!0&&q.version>0&&oe.__version!==q.version){De(oe,q,F);return}t.bindTexture(r.TEXTURE_CUBE_MAP,oe.__webglTexture,r.TEXTURE0+F)}const Pe={[b0]:r.REPEAT,[Js]:r.CLAMP_TO_EDGE,[S0]:r.MIRRORED_REPEAT},Ue={[$i]:r.NEAREST,[OE]:r.NEAREST_MIPMAP_NEAREST,[bp]:r.NEAREST_MIPMAP_LINEAR,[di]:r.LINEAR,[i0]:r.LINEAR_MIPMAP_NEAREST,[Tl]:r.LINEAR_MIPMAP_LINEAR},j={[_R]:r.NEVER,[ER]:r.ALWAYS,[xR]:r.LESS,[Ob]:r.LEQUAL,[bR]:r.EQUAL,[Ib]:r.GEQUAL,[SR]:r.GREATER,[MR]:r.NOTEQUAL};function le(q,F){if(F.type===As&&e.has("OES_texture_float_linear")===!1&&(F.magFilter===di||F.magFilter===i0||F.magFilter===bp||F.magFilter===Tl||F.minFilter===di||F.minFilter===i0||F.minFilter===bp||F.minFilter===Tl)&&gt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),r.texParameteri(q,r.TEXTURE_WRAP_S,Pe[F.wrapS]),r.texParameteri(q,r.TEXTURE_WRAP_T,Pe[F.wrapT]),(q===r.TEXTURE_3D||q===r.TEXTURE_2D_ARRAY)&&r.texParameteri(q,r.TEXTURE_WRAP_R,Pe[F.wrapR]),r.texParameteri(q,r.TEXTURE_MAG_FILTER,Ue[F.magFilter]),r.texParameteri(q,r.TEXTURE_MIN_FILTER,Ue[F.minFilter]),F.compareFunction&&(r.texParameteri(q,r.TEXTURE_COMPARE_MODE,r.COMPARE_REF_TO_TEXTURE),r.texParameteri(q,r.TEXTURE_COMPARE_FUNC,j[F.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(F.magFilter===$i||F.minFilter!==bp&&F.minFilter!==Tl||F.type===As&&e.has("OES_texture_float_linear")===!1)return;if(F.anisotropy>1||n.get(F).__currentAnisotropy){const oe=e.get("EXT_texture_filter_anisotropic");r.texParameterf(q,oe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(F.anisotropy,i.getMaxAnisotropy())),n.get(F).__currentAnisotropy=F.anisotropy}}}function Re(q,F){let oe=!1;q.__webglInit===void 0&&(q.__webglInit=!0,F.addEventListener("dispose",z));const Le=F.source;let Be=_.get(Le);Be===void 0&&(Be={},_.set(Le,Be));const _e=fe(F);if(_e!==q.__cacheKey){Be[_e]===void 0&&(Be[_e]={texture:r.createTexture(),usedTimes:0},u.memory.textures++,oe=!0),Be[_e].usedTimes++;const st=Be[q.__cacheKey];st!==void 0&&(Be[q.__cacheKey].usedTimes--,st.usedTimes===0&&I(F)),q.__cacheKey=_e,q.__webglTexture=Be[_e].texture}return oe}function ze(q,F,oe){return Math.floor(Math.floor(q/oe)/F)}function rt(q,F,oe,Le){const _e=q.updateRanges;if(_e.length===0)t.texSubImage2D(r.TEXTURE_2D,0,0,0,F.width,F.height,oe,Le,F.data);else{_e.sort((qe,nt)=>qe.start-nt.start);let st=0;for(let qe=1;qe<_e.length;qe++){const nt=_e[st],pt=_e[qe],te=nt.start+nt.count,ye=ze(pt.start,F.width,4),lt=ze(nt.start,F.width,4);pt.start<=te+1&&ye===lt&&ze(pt.start+pt.count-1,F.width,4)===ye?nt.count=Math.max(nt.count,pt.start+pt.count-nt.start):(++st,_e[st]=pt)}_e.length=st+1;const Ge=r.getParameter(r.UNPACK_ROW_LENGTH),Ke=r.getParameter(r.UNPACK_SKIP_PIXELS),Mt=r.getParameter(r.UNPACK_SKIP_ROWS);r.pixelStorei(r.UNPACK_ROW_LENGTH,F.width);for(let qe=0,nt=_e.length;qe<nt;qe++){const pt=_e[qe],te=Math.floor(pt.start/4),ye=Math.ceil(pt.count/4),lt=te%F.width,ie=Math.floor(te/F.width),et=ye,Ye=1;r.pixelStorei(r.UNPACK_SKIP_PIXELS,lt),r.pixelStorei(r.UNPACK_SKIP_ROWS,ie),t.texSubImage2D(r.TEXTURE_2D,0,lt,ie,et,Ye,oe,Le,F.data)}q.clearUpdateRanges(),r.pixelStorei(r.UNPACK_ROW_LENGTH,Ge),r.pixelStorei(r.UNPACK_SKIP_PIXELS,Ke),r.pixelStorei(r.UNPACK_SKIP_ROWS,Mt)}}function ge(q,F,oe){let Le=r.TEXTURE_2D;(F.isDataArrayTexture||F.isCompressedArrayTexture)&&(Le=r.TEXTURE_2D_ARRAY),F.isData3DTexture&&(Le=r.TEXTURE_3D);const Be=Re(q,F),_e=F.source;t.bindTexture(Le,q.__webglTexture,r.TEXTURE0+oe);const st=n.get(_e);if(_e.version!==st.__version||Be===!0){t.activeTexture(r.TEXTURE0+oe);const Ge=Mn.getPrimaries(Mn.workingColorSpace),Ke=F.colorSpace===Du?null:Mn.getPrimaries(F.colorSpace),Mt=F.colorSpace===Du||Ge===Ke?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,F.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,F.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Mt);let qe=T(F.image,!1,i.maxTextureSize);qe=Ct(F,qe);const nt=a.convert(F.format,F.colorSpace),pt=a.convert(F.type);let te=D(F.internalFormat,nt,pt,F.colorSpace,F.isVideoTexture);le(Le,F);let ye;const lt=F.mipmaps,ie=F.isVideoTexture!==!0,et=st.__version===void 0||Be===!0,Ye=_e.dataReady,ct=P(F,qe);if(F.isDepthTexture)te=L(F.format===Bc,F.type),et&&(ie?t.texStorage2D(r.TEXTURE_2D,1,te,qe.width,qe.height):t.texImage2D(r.TEXTURE_2D,0,te,qe.width,qe.height,0,nt,pt,null));else if(F.isDataTexture)if(lt.length>0){ie&&et&&t.texStorage2D(r.TEXTURE_2D,ct,te,lt[0].width,lt[0].height);for(let Ze=0,ke=lt.length;Ze<ke;Ze++)ye=lt[Ze],ie?Ye&&t.texSubImage2D(r.TEXTURE_2D,Ze,0,0,ye.width,ye.height,nt,pt,ye.data):t.texImage2D(r.TEXTURE_2D,Ze,te,ye.width,ye.height,0,nt,pt,ye.data);F.generateMipmaps=!1}else ie?(et&&t.texStorage2D(r.TEXTURE_2D,ct,te,qe.width,qe.height),Ye&&rt(F,qe,nt,pt)):t.texImage2D(r.TEXTURE_2D,0,te,qe.width,qe.height,0,nt,pt,qe.data);else if(F.isCompressedTexture)if(F.isCompressedArrayTexture){ie&&et&&t.texStorage3D(r.TEXTURE_2D_ARRAY,ct,te,lt[0].width,lt[0].height,qe.depth);for(let Ze=0,ke=lt.length;Ze<ke;Ze++)if(ye=lt[Ze],F.format!==ns)if(nt!==null)if(ie){if(Ye)if(F.layerUpdates.size>0){const tt=zM(ye.width,ye.height,F.format,F.type);for(const Nt of F.layerUpdates){const en=ye.data.subarray(Nt*tt/ye.data.BYTES_PER_ELEMENT,(Nt+1)*tt/ye.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Ze,0,0,Nt,ye.width,ye.height,1,nt,en)}F.clearLayerUpdates()}else t.compressedTexSubImage3D(r.TEXTURE_2D_ARRAY,Ze,0,0,0,ye.width,ye.height,qe.depth,nt,ye.data)}else t.compressedTexImage3D(r.TEXTURE_2D_ARRAY,Ze,te,ye.width,ye.height,qe.depth,0,ye.data,0,0);else gt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ie?Ye&&t.texSubImage3D(r.TEXTURE_2D_ARRAY,Ze,0,0,0,ye.width,ye.height,qe.depth,nt,pt,ye.data):t.texImage3D(r.TEXTURE_2D_ARRAY,Ze,te,ye.width,ye.height,qe.depth,0,nt,pt,ye.data)}else{ie&&et&&t.texStorage2D(r.TEXTURE_2D,ct,te,lt[0].width,lt[0].height);for(let Ze=0,ke=lt.length;Ze<ke;Ze++)ye=lt[Ze],F.format!==ns?nt!==null?ie?Ye&&t.compressedTexSubImage2D(r.TEXTURE_2D,Ze,0,0,ye.width,ye.height,nt,ye.data):t.compressedTexImage2D(r.TEXTURE_2D,Ze,te,ye.width,ye.height,0,ye.data):gt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ie?Ye&&t.texSubImage2D(r.TEXTURE_2D,Ze,0,0,ye.width,ye.height,nt,pt,ye.data):t.texImage2D(r.TEXTURE_2D,Ze,te,ye.width,ye.height,0,nt,pt,ye.data)}else if(F.isDataArrayTexture)if(ie){if(et&&t.texStorage3D(r.TEXTURE_2D_ARRAY,ct,te,qe.width,qe.height,qe.depth),Ye)if(F.layerUpdates.size>0){const Ze=zM(qe.width,qe.height,F.format,F.type);for(const ke of F.layerUpdates){const tt=qe.data.subarray(ke*Ze/qe.data.BYTES_PER_ELEMENT,(ke+1)*Ze/qe.data.BYTES_PER_ELEMENT);t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,ke,qe.width,qe.height,1,nt,pt,tt)}F.clearLayerUpdates()}else t.texSubImage3D(r.TEXTURE_2D_ARRAY,0,0,0,0,qe.width,qe.height,qe.depth,nt,pt,qe.data)}else t.texImage3D(r.TEXTURE_2D_ARRAY,0,te,qe.width,qe.height,qe.depth,0,nt,pt,qe.data);else if(F.isData3DTexture)ie?(et&&t.texStorage3D(r.TEXTURE_3D,ct,te,qe.width,qe.height,qe.depth),Ye&&t.texSubImage3D(r.TEXTURE_3D,0,0,0,0,qe.width,qe.height,qe.depth,nt,pt,qe.data)):t.texImage3D(r.TEXTURE_3D,0,te,qe.width,qe.height,qe.depth,0,nt,pt,qe.data);else if(F.isFramebufferTexture){if(et)if(ie)t.texStorage2D(r.TEXTURE_2D,ct,te,qe.width,qe.height);else{let Ze=qe.width,ke=qe.height;for(let tt=0;tt<ct;tt++)t.texImage2D(r.TEXTURE_2D,tt,te,Ze,ke,0,nt,pt,null),Ze>>=1,ke>>=1}}else if(lt.length>0){if(ie&&et){const Ze=Je(lt[0]);t.texStorage2D(r.TEXTURE_2D,ct,te,Ze.width,Ze.height)}for(let Ze=0,ke=lt.length;Ze<ke;Ze++)ye=lt[Ze],ie?Ye&&t.texSubImage2D(r.TEXTURE_2D,Ze,0,0,nt,pt,ye):t.texImage2D(r.TEXTURE_2D,Ze,te,nt,pt,ye);F.generateMipmaps=!1}else if(ie){if(et){const Ze=Je(qe);t.texStorage2D(r.TEXTURE_2D,ct,te,Ze.width,Ze.height)}Ye&&t.texSubImage2D(r.TEXTURE_2D,0,0,0,nt,pt,qe)}else t.texImage2D(r.TEXTURE_2D,0,te,nt,pt,qe);A(F)&&M(Le),st.__version=_e.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function De(q,F,oe){if(F.image.length!==6)return;const Le=Re(q,F),Be=F.source;t.bindTexture(r.TEXTURE_CUBE_MAP,q.__webglTexture,r.TEXTURE0+oe);const _e=n.get(Be);if(Be.version!==_e.__version||Le===!0){t.activeTexture(r.TEXTURE0+oe);const st=Mn.getPrimaries(Mn.workingColorSpace),Ge=F.colorSpace===Du?null:Mn.getPrimaries(F.colorSpace),Ke=F.colorSpace===Du||st===Ge?r.NONE:r.BROWSER_DEFAULT_WEBGL;r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,F.flipY),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,F.premultiplyAlpha),r.pixelStorei(r.UNPACK_ALIGNMENT,F.unpackAlignment),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ke);const Mt=F.isCompressedTexture||F.image[0].isCompressedTexture,qe=F.image[0]&&F.image[0].isDataTexture,nt=[];for(let ke=0;ke<6;ke++)!Mt&&!qe?nt[ke]=T(F.image[ke],!0,i.maxCubemapSize):nt[ke]=qe?F.image[ke].image:F.image[ke],nt[ke]=Ct(F,nt[ke]);const pt=nt[0],te=a.convert(F.format,F.colorSpace),ye=a.convert(F.type),lt=D(F.internalFormat,te,ye,F.colorSpace),ie=F.isVideoTexture!==!0,et=_e.__version===void 0||Le===!0,Ye=Be.dataReady;let ct=P(F,pt);le(r.TEXTURE_CUBE_MAP,F);let Ze;if(Mt){ie&&et&&t.texStorage2D(r.TEXTURE_CUBE_MAP,ct,lt,pt.width,pt.height);for(let ke=0;ke<6;ke++){Ze=nt[ke].mipmaps;for(let tt=0;tt<Ze.length;tt++){const Nt=Ze[tt];F.format!==ns?te!==null?ie?Ye&&t.compressedTexSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt,0,0,Nt.width,Nt.height,te,Nt.data):t.compressedTexImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt,lt,Nt.width,Nt.height,0,Nt.data):gt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ie?Ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt,0,0,Nt.width,Nt.height,te,ye,Nt.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt,lt,Nt.width,Nt.height,0,te,ye,Nt.data)}}}else{if(Ze=F.mipmaps,ie&&et){Ze.length>0&&ct++;const ke=Je(nt[0]);t.texStorage2D(r.TEXTURE_CUBE_MAP,ct,lt,ke.width,ke.height)}for(let ke=0;ke<6;ke++)if(qe){ie?Ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,0,0,nt[ke].width,nt[ke].height,te,ye,nt[ke].data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,lt,nt[ke].width,nt[ke].height,0,te,ye,nt[ke].data);for(let tt=0;tt<Ze.length;tt++){const en=Ze[tt].image[ke].image;ie?Ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt+1,0,0,en.width,en.height,te,ye,en.data):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt+1,lt,en.width,en.height,0,te,ye,en.data)}}else{ie?Ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,0,0,te,ye,nt[ke]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0,lt,te,ye,nt[ke]);for(let tt=0;tt<Ze.length;tt++){const Nt=Ze[tt];ie?Ye&&t.texSubImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt+1,0,0,te,ye,Nt.image[ke]):t.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+ke,tt+1,lt,te,ye,Nt.image[ke])}}}A(F)&&M(r.TEXTURE_CUBE_MAP),_e.__version=Be.version,F.onUpdate&&F.onUpdate(F)}q.__version=F.version}function it(q,F,oe,Le,Be,_e){const st=a.convert(oe.format,oe.colorSpace),Ge=a.convert(oe.type),Ke=D(oe.internalFormat,st,Ge,oe.colorSpace),Mt=n.get(F),qe=n.get(oe);if(qe.__renderTarget=F,!Mt.__hasExternalTextures){const nt=Math.max(1,F.width>>_e),pt=Math.max(1,F.height>>_e);Be===r.TEXTURE_3D||Be===r.TEXTURE_2D_ARRAY?t.texImage3D(Be,_e,Ke,nt,pt,F.depth,0,st,Ge,null):t.texImage2D(Be,_e,Ke,nt,pt,0,st,Ge,null)}t.bindFramebuffer(r.FRAMEBUFFER,q),dt(F)?c.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Le,Be,qe.__webglTexture,0,Y(F)):(Be===r.TEXTURE_2D||Be>=r.TEXTURE_CUBE_MAP_POSITIVE_X&&Be<=r.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&r.framebufferTexture2D(r.FRAMEBUFFER,Le,Be,qe.__webglTexture,_e),t.bindFramebuffer(r.FRAMEBUFFER,null)}function ne(q,F,oe){if(r.bindRenderbuffer(r.RENDERBUFFER,q),F.depthBuffer){const Le=F.depthTexture,Be=Le&&Le.isDepthTexture?Le.type:null,_e=L(F.stencilBuffer,Be),st=F.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;dt(F)?c.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Y(F),_e,F.width,F.height):oe?r.renderbufferStorageMultisample(r.RENDERBUFFER,Y(F),_e,F.width,F.height):r.renderbufferStorage(r.RENDERBUFFER,_e,F.width,F.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,st,r.RENDERBUFFER,q)}else{const Le=F.textures;for(let Be=0;Be<Le.length;Be++){const _e=Le[Be],st=a.convert(_e.format,_e.colorSpace),Ge=a.convert(_e.type),Ke=D(_e.internalFormat,st,Ge,_e.colorSpace);dt(F)?c.renderbufferStorageMultisampleEXT(r.RENDERBUFFER,Y(F),Ke,F.width,F.height):oe?r.renderbufferStorageMultisample(r.RENDERBUFFER,Y(F),Ke,F.width,F.height):r.renderbufferStorage(r.RENDERBUFFER,Ke,F.width,F.height)}}r.bindRenderbuffer(r.RENDERBUFFER,null)}function ft(q,F,oe){const Le=F.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(r.FRAMEBUFFER,q),!(F.depthTexture&&F.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Be=n.get(F.depthTexture);if(Be.__renderTarget=F,(!Be.__webglTexture||F.depthTexture.image.width!==F.width||F.depthTexture.image.height!==F.height)&&(F.depthTexture.image.width=F.width,F.depthTexture.image.height=F.height,F.depthTexture.needsUpdate=!0),Le){if(Be.__webglInit===void 0&&(Be.__webglInit=!0,F.depthTexture.addEventListener("dispose",z)),Be.__webglTexture===void 0){Be.__webglTexture=r.createTexture(),t.bindTexture(r.TEXTURE_CUBE_MAP,Be.__webglTexture),le(r.TEXTURE_CUBE_MAP,F.depthTexture);const Mt=a.convert(F.depthTexture.format),qe=a.convert(F.depthTexture.type);let nt;F.depthTexture.format===Il?nt=r.DEPTH_COMPONENT24:F.depthTexture.format===Bc&&(nt=r.DEPTH24_STENCIL8);for(let pt=0;pt<6;pt++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+pt,0,nt,F.width,F.height,0,Mt,qe,null)}}else ue(F.depthTexture,0);const _e=Be.__webglTexture,st=Y(F),Ge=Le?r.TEXTURE_CUBE_MAP_POSITIVE_X+oe:r.TEXTURE_2D,Ke=F.depthTexture.format===Bc?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;if(F.depthTexture.format===Il)dt(F)?c.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Ke,Ge,_e,0,st):r.framebufferTexture2D(r.FRAMEBUFFER,Ke,Ge,_e,0);else if(F.depthTexture.format===Bc)dt(F)?c.framebufferTexture2DMultisampleEXT(r.FRAMEBUFFER,Ke,Ge,_e,0,st):r.framebufferTexture2D(r.FRAMEBUFFER,Ke,Ge,_e,0);else throw new Error("Unknown depthTexture format")}function _t(q){const F=n.get(q),oe=q.isWebGLCubeRenderTarget===!0;if(F.__boundDepthTexture!==q.depthTexture){const Le=q.depthTexture;if(F.__depthDisposeCallback&&F.__depthDisposeCallback(),Le){const Be=()=>{delete F.__boundDepthTexture,delete F.__depthDisposeCallback,Le.removeEventListener("dispose",Be)};Le.addEventListener("dispose",Be),F.__depthDisposeCallback=Be}F.__boundDepthTexture=Le}if(q.depthTexture&&!F.__autoAllocateDepthBuffer)if(oe)for(let Le=0;Le<6;Le++)ft(F.__webglFramebuffer[Le],q,Le);else{const Le=q.texture.mipmaps;Le&&Le.length>0?ft(F.__webglFramebuffer[0],q,0):ft(F.__webglFramebuffer,q,0)}else if(oe){F.__webglDepthbuffer=[];for(let Le=0;Le<6;Le++)if(t.bindFramebuffer(r.FRAMEBUFFER,F.__webglFramebuffer[Le]),F.__webglDepthbuffer[Le]===void 0)F.__webglDepthbuffer[Le]=r.createRenderbuffer(),ne(F.__webglDepthbuffer[Le],q,!1);else{const Be=q.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,_e=F.__webglDepthbuffer[Le];r.bindRenderbuffer(r.RENDERBUFFER,_e),r.framebufferRenderbuffer(r.FRAMEBUFFER,Be,r.RENDERBUFFER,_e)}}else{const Le=q.texture.mipmaps;if(Le&&Le.length>0?t.bindFramebuffer(r.FRAMEBUFFER,F.__webglFramebuffer[0]):t.bindFramebuffer(r.FRAMEBUFFER,F.__webglFramebuffer),F.__webglDepthbuffer===void 0)F.__webglDepthbuffer=r.createRenderbuffer(),ne(F.__webglDepthbuffer,q,!1);else{const Be=q.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,_e=F.__webglDepthbuffer;r.bindRenderbuffer(r.RENDERBUFFER,_e),r.framebufferRenderbuffer(r.FRAMEBUFFER,Be,r.RENDERBUFFER,_e)}}t.bindFramebuffer(r.FRAMEBUFFER,null)}function Yt(q,F,oe){const Le=n.get(q);F!==void 0&&it(Le.__webglFramebuffer,q,q.texture,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,0),oe!==void 0&&_t(q)}function Et(q){const F=q.texture,oe=n.get(q),Le=n.get(F);q.addEventListener("dispose",B);const Be=q.textures,_e=q.isWebGLCubeRenderTarget===!0,st=Be.length>1;if(st||(Le.__webglTexture===void 0&&(Le.__webglTexture=r.createTexture()),Le.__version=F.version,u.memory.textures++),_e){oe.__webglFramebuffer=[];for(let Ge=0;Ge<6;Ge++)if(F.mipmaps&&F.mipmaps.length>0){oe.__webglFramebuffer[Ge]=[];for(let Ke=0;Ke<F.mipmaps.length;Ke++)oe.__webglFramebuffer[Ge][Ke]=r.createFramebuffer()}else oe.__webglFramebuffer[Ge]=r.createFramebuffer()}else{if(F.mipmaps&&F.mipmaps.length>0){oe.__webglFramebuffer=[];for(let Ge=0;Ge<F.mipmaps.length;Ge++)oe.__webglFramebuffer[Ge]=r.createFramebuffer()}else oe.__webglFramebuffer=r.createFramebuffer();if(st)for(let Ge=0,Ke=Be.length;Ge<Ke;Ge++){const Mt=n.get(Be[Ge]);Mt.__webglTexture===void 0&&(Mt.__webglTexture=r.createTexture(),u.memory.textures++)}if(q.samples>0&&dt(q)===!1){oe.__webglMultisampledFramebuffer=r.createFramebuffer(),oe.__webglColorRenderbuffer=[],t.bindFramebuffer(r.FRAMEBUFFER,oe.__webglMultisampledFramebuffer);for(let Ge=0;Ge<Be.length;Ge++){const Ke=Be[Ge];oe.__webglColorRenderbuffer[Ge]=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,oe.__webglColorRenderbuffer[Ge]);const Mt=a.convert(Ke.format,Ke.colorSpace),qe=a.convert(Ke.type),nt=D(Ke.internalFormat,Mt,qe,Ke.colorSpace,q.isXRRenderTarget===!0),pt=Y(q);r.renderbufferStorageMultisample(r.RENDERBUFFER,pt,nt,q.width,q.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Ge,r.RENDERBUFFER,oe.__webglColorRenderbuffer[Ge])}r.bindRenderbuffer(r.RENDERBUFFER,null),q.depthBuffer&&(oe.__webglDepthRenderbuffer=r.createRenderbuffer(),ne(oe.__webglDepthRenderbuffer,q,!0)),t.bindFramebuffer(r.FRAMEBUFFER,null)}}if(_e){t.bindTexture(r.TEXTURE_CUBE_MAP,Le.__webglTexture),le(r.TEXTURE_CUBE_MAP,F);for(let Ge=0;Ge<6;Ge++)if(F.mipmaps&&F.mipmaps.length>0)for(let Ke=0;Ke<F.mipmaps.length;Ke++)it(oe.__webglFramebuffer[Ge][Ke],q,F,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,Ke);else it(oe.__webglFramebuffer[Ge],q,F,r.COLOR_ATTACHMENT0,r.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,0);A(F)&&M(r.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(st){for(let Ge=0,Ke=Be.length;Ge<Ke;Ge++){const Mt=Be[Ge],qe=n.get(Mt);let nt=r.TEXTURE_2D;(q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(nt=q.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(nt,qe.__webglTexture),le(nt,Mt),it(oe.__webglFramebuffer,q,Mt,r.COLOR_ATTACHMENT0+Ge,nt,0),A(Mt)&&M(nt)}t.unbindTexture()}else{let Ge=r.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(Ge=q.isWebGL3DRenderTarget?r.TEXTURE_3D:r.TEXTURE_2D_ARRAY),t.bindTexture(Ge,Le.__webglTexture),le(Ge,F),F.mipmaps&&F.mipmaps.length>0)for(let Ke=0;Ke<F.mipmaps.length;Ke++)it(oe.__webglFramebuffer[Ke],q,F,r.COLOR_ATTACHMENT0,Ge,Ke);else it(oe.__webglFramebuffer,q,F,r.COLOR_ATTACHMENT0,Ge,0);A(F)&&M(Ge),t.unbindTexture()}q.depthBuffer&&_t(q)}function ve(q){const F=q.textures;for(let oe=0,Le=F.length;oe<Le;oe++){const Be=F[oe];if(A(Be)){const _e=R(q),st=n.get(Be).__webglTexture;t.bindTexture(_e,st),M(_e),t.unbindTexture()}}}const Xe=[],Ae=[];function be(q){if(q.samples>0){if(dt(q)===!1){const F=q.textures,oe=q.width,Le=q.height;let Be=r.COLOR_BUFFER_BIT;const _e=q.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT,st=n.get(q),Ge=F.length>1;if(Ge)for(let Mt=0;Mt<F.length;Mt++)t.bindFramebuffer(r.FRAMEBUFFER,st.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Mt,r.RENDERBUFFER,null),t.bindFramebuffer(r.FRAMEBUFFER,st.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Mt,r.TEXTURE_2D,null,0);t.bindFramebuffer(r.READ_FRAMEBUFFER,st.__webglMultisampledFramebuffer);const Ke=q.texture.mipmaps;Ke&&Ke.length>0?t.bindFramebuffer(r.DRAW_FRAMEBUFFER,st.__webglFramebuffer[0]):t.bindFramebuffer(r.DRAW_FRAMEBUFFER,st.__webglFramebuffer);for(let Mt=0;Mt<F.length;Mt++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(Be|=r.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(Be|=r.STENCIL_BUFFER_BIT)),Ge){r.framebufferRenderbuffer(r.READ_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,st.__webglColorRenderbuffer[Mt]);const qe=n.get(F[Mt]).__webglTexture;r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,qe,0)}r.blitFramebuffer(0,0,oe,Le,0,0,oe,Le,Be,r.NEAREST),d===!0&&(Xe.length=0,Ae.length=0,Xe.push(r.COLOR_ATTACHMENT0+Mt),q.depthBuffer&&q.resolveDepthBuffer===!1&&(Xe.push(_e),Ae.push(_e),r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,Ae)),r.invalidateFramebuffer(r.READ_FRAMEBUFFER,Xe))}if(t.bindFramebuffer(r.READ_FRAMEBUFFER,null),t.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),Ge)for(let Mt=0;Mt<F.length;Mt++){t.bindFramebuffer(r.FRAMEBUFFER,st.__webglMultisampledFramebuffer),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+Mt,r.RENDERBUFFER,st.__webglColorRenderbuffer[Mt]);const qe=n.get(F[Mt]).__webglTexture;t.bindFramebuffer(r.FRAMEBUFFER,st.__webglFramebuffer),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,r.COLOR_ATTACHMENT0+Mt,r.TEXTURE_2D,qe,0)}t.bindFramebuffer(r.DRAW_FRAMEBUFFER,st.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&d){const F=q.stencilBuffer?r.DEPTH_STENCIL_ATTACHMENT:r.DEPTH_ATTACHMENT;r.invalidateFramebuffer(r.DRAW_FRAMEBUFFER,[F])}}}function Y(q){return Math.min(i.maxSamples,q.samples)}function dt(q){const F=n.get(q);return q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&F.__useRenderToTexture!==!1}function Te(q){const F=u.render.frame;g.get(q)!==F&&(g.set(q,F),q.update())}function Ct(q,F){const oe=q.colorSpace,Le=q.format,Be=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||oe!==Yc&&oe!==Du&&(Mn.getTransfer(oe)===Vn?(Le!==ns||Be!==Es)&&gt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):Ot("WebGLTextures: Unsupported texture color space:",oe)),F}function Je(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(p.width=q.naturalWidth||q.width,p.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(p.width=q.displayWidth,p.height=q.displayHeight):(p.width=q.width,p.height=q.height),p}this.allocateTextureUnit=Q,this.resetTextureUnits=ee,this.setTexture2D=ue,this.setTexture2DArray=Z,this.setTexture3D=J,this.setTextureCube=he,this.rebindTextures=Yt,this.setupRenderTarget=Et,this.updateRenderTargetMipmap=ve,this.updateMultisampleRenderTarget=be,this.setupDepthRenderbuffer=_t,this.setupFrameBufferTexture=it,this.useMultisampledRTT=dt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function ND(r,e){function t(n,i=Du){let a;const u=Mn.getTransfer(i);if(n===Es)return r.UNSIGNED_BYTE;if(n===Ab)return r.UNSIGNED_SHORT_4_4_4_4;if(n===Cb)return r.UNSIGNED_SHORT_5_5_5_1;if(n===UE)return r.UNSIGNED_INT_5_9_9_9_REV;if(n===zE)return r.UNSIGNED_INT_10F_11F_11F_REV;if(n===IE)return r.BYTE;if(n===PE)return r.SHORT;if(n===Np)return r.UNSIGNED_SHORT;if(n===wb)return r.INT;if(n===ro)return r.UNSIGNED_INT;if(n===As)return r.FLOAT;if(n===Ol)return r.HALF_FLOAT;if(n===FE)return r.ALPHA;if(n===BE)return r.RGB;if(n===ns)return r.RGBA;if(n===Il)return r.DEPTH_COMPONENT;if(n===Bc)return r.DEPTH_STENCIL;if(n===Rb)return r.RED;if(n===Q0)return r.RED_INTEGER;if(n===Lh)return r.RG;if(n===Db)return r.RG_INTEGER;if(n===Nb)return r.RGBA_INTEGER;if(n===r0||n===s0||n===a0||n===o0)if(u===Vn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(n===r0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(n===s0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(n===a0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(n===o0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(n===r0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(n===s0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(n===a0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(n===o0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(n===bx||n===Sx||n===Mx||n===Ex)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(n===bx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(n===Sx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(n===Mx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(n===Ex)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(n===Tx||n===wx||n===Ax||n===Cx||n===Rx||n===Dx||n===Nx)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(n===Tx||n===wx)return u===Vn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(n===Ax)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC;if(n===Cx)return a.COMPRESSED_R11_EAC;if(n===Rx)return a.COMPRESSED_SIGNED_R11_EAC;if(n===Dx)return a.COMPRESSED_RG11_EAC;if(n===Nx)return a.COMPRESSED_SIGNED_RG11_EAC}else return null;if(n===Lx||n===Ox||n===Ix||n===Px||n===Ux||n===zx||n===Fx||n===Bx||n===kx||n===Vx||n===Hx||n===Gx||n===Wx||n===Xx)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(n===Lx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(n===Ox)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(n===Ix)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(n===Px)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(n===Ux)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(n===zx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(n===Fx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(n===Bx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(n===kx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(n===Vx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(n===Hx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(n===Gx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(n===Wx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(n===Xx)return u===Vn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(n===jx||n===qx||n===Yx)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(n===jx)return u===Vn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(n===qx)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(n===Yx)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(n===Zx||n===Kx||n===$x||n===Qx)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(n===Zx)return a.COMPRESSED_RED_RGTC1_EXT;if(n===Kx)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(n===$x)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(n===Qx)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return n===Lp?r.UNSIGNED_INT_24_8:r[n]!==void 0?r[n]:null}return{convert:t}}const h6=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,d6=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class p6{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const n=new ZE(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=n}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,n=new Ta({vertexShader:h6,fragmentShader:d6,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Qi(new Jp(20,20),n)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class m6 extends zl{constructor(e,t){super();const n=this;let i=null,a=1,u=null,c="local-floor",d=1,p=null,g=null,y=null,_=null,x=null,E=null;const T=typeof XRWebGLBinding<"u",A=new p6,M={},R=t.getContextAttributes();let D=null,L=null;const P=[],z=[],B=new Ve;let k=null;const I=new Ki;I.viewport=new Dn;const O=new Ki;O.viewport=new Dn;const W=[I,O],ee=new _D;let Q=null,fe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ge){let De=P[ge];return De===void 0&&(De=new Q_,P[ge]=De),De.getTargetRaySpace()},this.getControllerGrip=function(ge){let De=P[ge];return De===void 0&&(De=new Q_,P[ge]=De),De.getGripSpace()},this.getHand=function(ge){let De=P[ge];return De===void 0&&(De=new Q_,P[ge]=De),De.getHandSpace()};function ue(ge){const De=z.indexOf(ge.inputSource);if(De===-1)return;const it=P[De];it!==void 0&&(it.update(ge.inputSource,ge.frame,p||u),it.dispatchEvent({type:ge.type,data:ge.inputSource}))}function Z(){i.removeEventListener("select",ue),i.removeEventListener("selectstart",ue),i.removeEventListener("selectend",ue),i.removeEventListener("squeeze",ue),i.removeEventListener("squeezestart",ue),i.removeEventListener("squeezeend",ue),i.removeEventListener("end",Z),i.removeEventListener("inputsourceschange",J);for(let ge=0;ge<P.length;ge++){const De=z[ge];De!==null&&(z[ge]=null,P[ge].disconnect(De))}Q=null,fe=null,A.reset();for(const ge in M)delete M[ge];e.setRenderTarget(D),x=null,_=null,y=null,i=null,L=null,rt.stop(),n.isPresenting=!1,e.setPixelRatio(k),e.setSize(B.width,B.height,!1),n.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ge){a=ge,n.isPresenting===!0&&gt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ge){c=ge,n.isPresenting===!0&&gt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return p||u},this.setReferenceSpace=function(ge){p=ge},this.getBaseLayer=function(){return _!==null?_:x},this.getBinding=function(){return y===null&&T&&(y=new XRWebGLBinding(i,t)),y},this.getFrame=function(){return E},this.getSession=function(){return i},this.setSession=async function(ge){if(i=ge,i!==null){if(D=e.getRenderTarget(),i.addEventListener("select",ue),i.addEventListener("selectstart",ue),i.addEventListener("selectend",ue),i.addEventListener("squeeze",ue),i.addEventListener("squeezestart",ue),i.addEventListener("squeezeend",ue),i.addEventListener("end",Z),i.addEventListener("inputsourceschange",J),R.xrCompatible!==!0&&await t.makeXRCompatible(),k=e.getPixelRatio(),e.getSize(B),T&&"createProjectionLayer"in XRWebGLBinding.prototype){let it=null,ne=null,ft=null;R.depth&&(ft=R.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,it=R.stencil?Bc:Il,ne=R.stencil?Lp:ro);const _t={colorFormat:t.RGBA8,depthFormat:ft,scaleFactor:a};y=this.getBinding(),_=y.createProjectionLayer(_t),i.updateRenderState({layers:[_]}),e.setPixelRatio(1),e.setSize(_.textureWidth,_.textureHeight,!1),L=new Sa(_.textureWidth,_.textureHeight,{format:ns,type:Es,depthTexture:new Bp(_.textureWidth,_.textureHeight,ne,void 0,void 0,void 0,void 0,void 0,void 0,it),stencilBuffer:R.stencil,colorSpace:e.outputColorSpace,samples:R.antialias?4:0,resolveDepthBuffer:_.ignoreDepthValues===!1,resolveStencilBuffer:_.ignoreDepthValues===!1})}else{const it={antialias:R.antialias,alpha:!0,depth:R.depth,stencil:R.stencil,framebufferScaleFactor:a};x=new XRWebGLLayer(i,t,it),i.updateRenderState({baseLayer:x}),e.setPixelRatio(1),e.setSize(x.framebufferWidth,x.framebufferHeight,!1),L=new Sa(x.framebufferWidth,x.framebufferHeight,{format:ns,type:Es,colorSpace:e.outputColorSpace,stencilBuffer:R.stencil,resolveDepthBuffer:x.ignoreDepthValues===!1,resolveStencilBuffer:x.ignoreDepthValues===!1})}L.isXRRenderTarget=!0,this.setFoveation(d),p=null,u=await i.requestReferenceSpace(c),rt.setContext(i),rt.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return A.getDepthTexture()};function J(ge){for(let De=0;De<ge.removed.length;De++){const it=ge.removed[De],ne=z.indexOf(it);ne>=0&&(z[ne]=null,P[ne].disconnect(it))}for(let De=0;De<ge.added.length;De++){const it=ge.added[De];let ne=z.indexOf(it);if(ne===-1){for(let _t=0;_t<P.length;_t++)if(_t>=z.length){z.push(it),ne=_t;break}else if(z[_t]===null){z[_t]=it,ne=_t;break}if(ne===-1)break}const ft=P[ne];ft&&ft.connect(it)}}const he=new X,Pe=new X;function Ue(ge,De,it){he.setFromMatrixPosition(De.matrixWorld),Pe.setFromMatrixPosition(it.matrixWorld);const ne=he.distanceTo(Pe),ft=De.projectionMatrix.elements,_t=it.projectionMatrix.elements,Yt=ft[14]/(ft[10]-1),Et=ft[14]/(ft[10]+1),ve=(ft[9]+1)/ft[5],Xe=(ft[9]-1)/ft[5],Ae=(ft[8]-1)/ft[0],be=(_t[8]+1)/_t[0],Y=Yt*Ae,dt=Yt*be,Te=ne/(-Ae+be),Ct=Te*-Ae;if(De.matrixWorld.decompose(ge.position,ge.quaternion,ge.scale),ge.translateX(Ct),ge.translateZ(Te),ge.matrixWorld.compose(ge.position,ge.quaternion,ge.scale),ge.matrixWorldInverse.copy(ge.matrixWorld).invert(),ft[10]===-1)ge.projectionMatrix.copy(De.projectionMatrix),ge.projectionMatrixInverse.copy(De.projectionMatrixInverse);else{const Je=Yt+Te,q=Et+Te,F=Y-Ct,oe=dt+(ne-Ct),Le=ve*Et/q*Je,Be=Xe*Et/q*Je;ge.projectionMatrix.makePerspective(F,oe,Le,Be,Je,q),ge.projectionMatrixInverse.copy(ge.projectionMatrix).invert()}}function j(ge,De){De===null?ge.matrixWorld.copy(ge.matrix):ge.matrixWorld.multiplyMatrices(De.matrixWorld,ge.matrix),ge.matrixWorldInverse.copy(ge.matrixWorld).invert()}this.updateCamera=function(ge){if(i===null)return;let De=ge.near,it=ge.far;A.texture!==null&&(A.depthNear>0&&(De=A.depthNear),A.depthFar>0&&(it=A.depthFar)),ee.near=O.near=I.near=De,ee.far=O.far=I.far=it,(Q!==ee.near||fe!==ee.far)&&(i.updateRenderState({depthNear:ee.near,depthFar:ee.far}),Q=ee.near,fe=ee.far),ee.layers.mask=ge.layers.mask|6,I.layers.mask=ee.layers.mask&3,O.layers.mask=ee.layers.mask&5;const ne=ge.parent,ft=ee.cameras;j(ee,ne);for(let _t=0;_t<ft.length;_t++)j(ft[_t],ne);ft.length===2?Ue(ee,I,O):ee.projectionMatrix.copy(I.projectionMatrix),le(ge,ee,ne)};function le(ge,De,it){it===null?ge.matrix.copy(De.matrixWorld):(ge.matrix.copy(it.matrixWorld),ge.matrix.invert(),ge.matrix.multiply(De.matrixWorld)),ge.matrix.decompose(ge.position,ge.quaternion,ge.scale),ge.updateMatrixWorld(!0),ge.projectionMatrix.copy(De.projectionMatrix),ge.projectionMatrixInverse.copy(De.projectionMatrixInverse),ge.isPerspectiveCamera&&(ge.fov=Pp*2*Math.atan(1/ge.projectionMatrix.elements[5]),ge.zoom=1)}this.getCamera=function(){return ee},this.getFoveation=function(){if(!(_===null&&x===null))return d},this.setFoveation=function(ge){d=ge,_!==null&&(_.fixedFoveation=ge),x!==null&&x.fixedFoveation!==void 0&&(x.fixedFoveation=ge)},this.hasDepthSensing=function(){return A.texture!==null},this.getDepthSensingMesh=function(){return A.getMesh(ee)},this.getCameraTexture=function(ge){return M[ge]};let Re=null;function ze(ge,De){if(g=De.getViewerPose(p||u),E=De,g!==null){const it=g.views;x!==null&&(e.setRenderTargetFramebuffer(L,x.framebuffer),e.setRenderTarget(L));let ne=!1;it.length!==ee.cameras.length&&(ee.cameras.length=0,ne=!0);for(let Et=0;Et<it.length;Et++){const ve=it[Et];let Xe=null;if(x!==null)Xe=x.getViewport(ve);else{const be=y.getViewSubImage(_,ve);Xe=be.viewport,Et===0&&(e.setRenderTargetTextures(L,be.colorTexture,be.depthStencilTexture),e.setRenderTarget(L))}let Ae=W[Et];Ae===void 0&&(Ae=new Ki,Ae.layers.enable(Et),Ae.viewport=new Dn,W[Et]=Ae),Ae.matrix.fromArray(ve.transform.matrix),Ae.matrix.decompose(Ae.position,Ae.quaternion,Ae.scale),Ae.projectionMatrix.fromArray(ve.projectionMatrix),Ae.projectionMatrixInverse.copy(Ae.projectionMatrix).invert(),Ae.viewport.set(Xe.x,Xe.y,Xe.width,Xe.height),Et===0&&(ee.matrix.copy(Ae.matrix),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale)),ne===!0&&ee.cameras.push(Ae)}const ft=i.enabledFeatures;if(ft&&ft.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&T){y=n.getBinding();const Et=y.getDepthInformation(it[0]);Et&&Et.isValid&&Et.texture&&A.init(Et,i.renderState)}if(ft&&ft.includes("camera-access")&&T){e.state.unbindTexture(),y=n.getBinding();for(let Et=0;Et<it.length;Et++){const ve=it[Et].camera;if(ve){let Xe=M[ve];Xe||(Xe=new ZE,M[ve]=Xe);const Ae=y.getCameraImage(ve);Xe.sourceTexture=Ae}}}}for(let it=0;it<P.length;it++){const ne=z[it],ft=P[it];ne!==null&&ft!==void 0&&ft.update(ne,De,p||u)}Re&&Re(ge,De),De.detectedPlanes&&n.dispatchEvent({type:"planesdetected",data:De}),E=null}const rt=new wD;rt.setAnimationLoop(ze),this.setAnimationLoop=function(ge){Re=ge},this.dispose=function(){}}}const oh=new Ea,g6=new Xt;function v6(r,e){function t(A,M){A.matrixAutoUpdate===!0&&A.updateMatrix(),M.value.copy(A.matrix)}function n(A,M){M.color.getRGB(A.fogColor.value,NR(r)),M.isFog?(A.fogNear.value=M.near,A.fogFar.value=M.far):M.isFogExp2&&(A.fogDensity.value=M.density)}function i(A,M,R,D,L){M.isMeshBasicMaterial||M.isMeshLambertMaterial?a(A,M):M.isMeshToonMaterial?(a(A,M),y(A,M)):M.isMeshPhongMaterial?(a(A,M),g(A,M)):M.isMeshStandardMaterial?(a(A,M),_(A,M),M.isMeshPhysicalMaterial&&x(A,M,L)):M.isMeshMatcapMaterial?(a(A,M),E(A,M)):M.isMeshDepthMaterial?a(A,M):M.isMeshDistanceMaterial?(a(A,M),T(A,M)):M.isMeshNormalMaterial?a(A,M):M.isLineBasicMaterial?(u(A,M),M.isLineDashedMaterial&&c(A,M)):M.isPointsMaterial?d(A,M,R,D):M.isSpriteMaterial?p(A,M):M.isShadowMaterial?(A.color.value.copy(M.color),A.opacity.value=M.opacity):M.isShaderMaterial&&(M.uniformsNeedUpdate=!1)}function a(A,M){A.opacity.value=M.opacity,M.color&&A.diffuse.value.copy(M.color),M.emissive&&A.emissive.value.copy(M.emissive).multiplyScalar(M.emissiveIntensity),M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.bumpMap&&(A.bumpMap.value=M.bumpMap,t(M.bumpMap,A.bumpMapTransform),A.bumpScale.value=M.bumpScale,M.side===Cs&&(A.bumpScale.value*=-1)),M.normalMap&&(A.normalMap.value=M.normalMap,t(M.normalMap,A.normalMapTransform),A.normalScale.value.copy(M.normalScale),M.side===Cs&&A.normalScale.value.negate()),M.displacementMap&&(A.displacementMap.value=M.displacementMap,t(M.displacementMap,A.displacementMapTransform),A.displacementScale.value=M.displacementScale,A.displacementBias.value=M.displacementBias),M.emissiveMap&&(A.emissiveMap.value=M.emissiveMap,t(M.emissiveMap,A.emissiveMapTransform)),M.specularMap&&(A.specularMap.value=M.specularMap,t(M.specularMap,A.specularMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest);const R=e.get(M),D=R.envMap,L=R.envMapRotation;D&&(A.envMap.value=D,oh.copy(L),oh.x*=-1,oh.y*=-1,oh.z*=-1,D.isCubeTexture&&D.isRenderTargetTexture===!1&&(oh.y*=-1,oh.z*=-1),A.envMapRotation.value.setFromMatrix4(g6.makeRotationFromEuler(oh)),A.flipEnvMap.value=D.isCubeTexture&&D.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=M.reflectivity,A.ior.value=M.ior,A.refractionRatio.value=M.refractionRatio),M.lightMap&&(A.lightMap.value=M.lightMap,A.lightMapIntensity.value=M.lightMapIntensity,t(M.lightMap,A.lightMapTransform)),M.aoMap&&(A.aoMap.value=M.aoMap,A.aoMapIntensity.value=M.aoMapIntensity,t(M.aoMap,A.aoMapTransform))}function u(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform))}function c(A,M){A.dashSize.value=M.dashSize,A.totalSize.value=M.dashSize+M.gapSize,A.scale.value=M.scale}function d(A,M,R,D){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.size.value=M.size*R,A.scale.value=D*.5,M.map&&(A.map.value=M.map,t(M.map,A.uvTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function p(A,M){A.diffuse.value.copy(M.color),A.opacity.value=M.opacity,A.rotation.value=M.rotation,M.map&&(A.map.value=M.map,t(M.map,A.mapTransform)),M.alphaMap&&(A.alphaMap.value=M.alphaMap,t(M.alphaMap,A.alphaMapTransform)),M.alphaTest>0&&(A.alphaTest.value=M.alphaTest)}function g(A,M){A.specular.value.copy(M.specular),A.shininess.value=Math.max(M.shininess,1e-4)}function y(A,M){M.gradientMap&&(A.gradientMap.value=M.gradientMap)}function _(A,M){A.metalness.value=M.metalness,M.metalnessMap&&(A.metalnessMap.value=M.metalnessMap,t(M.metalnessMap,A.metalnessMapTransform)),A.roughness.value=M.roughness,M.roughnessMap&&(A.roughnessMap.value=M.roughnessMap,t(M.roughnessMap,A.roughnessMapTransform)),M.envMap&&(A.envMapIntensity.value=M.envMapIntensity)}function x(A,M,R){A.ior.value=M.ior,M.sheen>0&&(A.sheenColor.value.copy(M.sheenColor).multiplyScalar(M.sheen),A.sheenRoughness.value=M.sheenRoughness,M.sheenColorMap&&(A.sheenColorMap.value=M.sheenColorMap,t(M.sheenColorMap,A.sheenColorMapTransform)),M.sheenRoughnessMap&&(A.sheenRoughnessMap.value=M.sheenRoughnessMap,t(M.sheenRoughnessMap,A.sheenRoughnessMapTransform))),M.clearcoat>0&&(A.clearcoat.value=M.clearcoat,A.clearcoatRoughness.value=M.clearcoatRoughness,M.clearcoatMap&&(A.clearcoatMap.value=M.clearcoatMap,t(M.clearcoatMap,A.clearcoatMapTransform)),M.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=M.clearcoatRoughnessMap,t(M.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),M.clearcoatNormalMap&&(A.clearcoatNormalMap.value=M.clearcoatNormalMap,t(M.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(M.clearcoatNormalScale),M.side===Cs&&A.clearcoatNormalScale.value.negate())),M.dispersion>0&&(A.dispersion.value=M.dispersion),M.iridescence>0&&(A.iridescence.value=M.iridescence,A.iridescenceIOR.value=M.iridescenceIOR,A.iridescenceThicknessMinimum.value=M.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=M.iridescenceThicknessRange[1],M.iridescenceMap&&(A.iridescenceMap.value=M.iridescenceMap,t(M.iridescenceMap,A.iridescenceMapTransform)),M.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=M.iridescenceThicknessMap,t(M.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),M.transmission>0&&(A.transmission.value=M.transmission,A.transmissionSamplerMap.value=R.texture,A.transmissionSamplerSize.value.set(R.width,R.height),M.transmissionMap&&(A.transmissionMap.value=M.transmissionMap,t(M.transmissionMap,A.transmissionMapTransform)),A.thickness.value=M.thickness,M.thicknessMap&&(A.thicknessMap.value=M.thicknessMap,t(M.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=M.attenuationDistance,A.attenuationColor.value.copy(M.attenuationColor)),M.anisotropy>0&&(A.anisotropyVector.value.set(M.anisotropy*Math.cos(M.anisotropyRotation),M.anisotropy*Math.sin(M.anisotropyRotation)),M.anisotropyMap&&(A.anisotropyMap.value=M.anisotropyMap,t(M.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=M.specularIntensity,A.specularColor.value.copy(M.specularColor),M.specularColorMap&&(A.specularColorMap.value=M.specularColorMap,t(M.specularColorMap,A.specularColorMapTransform)),M.specularIntensityMap&&(A.specularIntensityMap.value=M.specularIntensityMap,t(M.specularIntensityMap,A.specularIntensityMapTransform))}function E(A,M){M.matcap&&(A.matcap.value=M.matcap)}function T(A,M){const R=e.get(M).light;A.referencePosition.value.setFromMatrixPosition(R.matrixWorld),A.nearDistance.value=R.shadow.camera.near,A.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:n,refreshMaterialUniforms:i}}function y6(r,e,t,n){let i={},a={},u=[];const c=r.getParameter(r.MAX_UNIFORM_BUFFER_BINDINGS);function d(R,D){const L=D.program;n.uniformBlockBinding(R,L)}function p(R,D){let L=i[R.id];L===void 0&&(E(R),L=g(R),i[R.id]=L,R.addEventListener("dispose",A));const P=D.program;n.updateUBOMapping(R,P);const z=e.render.frame;a[R.id]!==z&&(_(R),a[R.id]=z)}function g(R){const D=y();R.__bindingPointIndex=D;const L=r.createBuffer(),P=R.__size,z=R.usage;return r.bindBuffer(r.UNIFORM_BUFFER,L),r.bufferData(r.UNIFORM_BUFFER,P,z),r.bindBuffer(r.UNIFORM_BUFFER,null),r.bindBufferBase(r.UNIFORM_BUFFER,D,L),L}function y(){for(let R=0;R<c;R++)if(u.indexOf(R)===-1)return u.push(R),R;return Ot("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function _(R){const D=i[R.id],L=R.uniforms,P=R.__cache;r.bindBuffer(r.UNIFORM_BUFFER,D);for(let z=0,B=L.length;z<B;z++){const k=Array.isArray(L[z])?L[z]:[L[z]];for(let I=0,O=k.length;I<O;I++){const W=k[I];if(x(W,z,I,P)===!0){const ee=W.__offset,Q=Array.isArray(W.value)?W.value:[W.value];let fe=0;for(let ue=0;ue<Q.length;ue++){const Z=Q[ue],J=T(Z);typeof Z=="number"||typeof Z=="boolean"?(W.__data[0]=Z,r.bufferSubData(r.UNIFORM_BUFFER,ee+fe,W.__data)):Z.isMatrix3?(W.__data[0]=Z.elements[0],W.__data[1]=Z.elements[1],W.__data[2]=Z.elements[2],W.__data[3]=0,W.__data[4]=Z.elements[3],W.__data[5]=Z.elements[4],W.__data[6]=Z.elements[5],W.__data[7]=0,W.__data[8]=Z.elements[6],W.__data[9]=Z.elements[7],W.__data[10]=Z.elements[8],W.__data[11]=0):(Z.toArray(W.__data,fe),fe+=J.storage/Float32Array.BYTES_PER_ELEMENT)}r.bufferSubData(r.UNIFORM_BUFFER,ee,W.__data)}}}r.bindBuffer(r.UNIFORM_BUFFER,null)}function x(R,D,L,P){const z=R.value,B=D+"_"+L;if(P[B]===void 0)return typeof z=="number"||typeof z=="boolean"?P[B]=z:P[B]=z.clone(),!0;{const k=P[B];if(typeof z=="number"||typeof z=="boolean"){if(k!==z)return P[B]=z,!0}else if(k.equals(z)===!1)return k.copy(z),!0}return!1}function E(R){const D=R.uniforms;let L=0;const P=16;for(let B=0,k=D.length;B<k;B++){const I=Array.isArray(D[B])?D[B]:[D[B]];for(let O=0,W=I.length;O<W;O++){const ee=I[O],Q=Array.isArray(ee.value)?ee.value:[ee.value];for(let fe=0,ue=Q.length;fe<ue;fe++){const Z=Q[fe],J=T(Z),he=L%P,Pe=he%J.boundary,Ue=he+Pe;L+=Pe,Ue!==0&&P-Ue<J.storage&&(L+=P-Ue),ee.__data=new Float32Array(J.storage/Float32Array.BYTES_PER_ELEMENT),ee.__offset=L,L+=J.storage}}}const z=L%P;return z>0&&(L+=P-z),R.__size=L,R.__cache={},this}function T(R){const D={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(D.boundary=4,D.storage=4):R.isVector2?(D.boundary=8,D.storage=8):R.isVector3||R.isColor?(D.boundary=16,D.storage=12):R.isVector4?(D.boundary=16,D.storage=16):R.isMatrix3?(D.boundary=48,D.storage=48):R.isMatrix4?(D.boundary=64,D.storage=64):R.isTexture?gt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):gt("WebGLRenderer: Unsupported uniform value type.",R),D}function A(R){const D=R.target;D.removeEventListener("dispose",A);const L=u.indexOf(D.__bindingPointIndex);u.splice(L,1),r.deleteBuffer(i[D.id]),delete i[D.id],delete a[D.id]}function M(){for(const R in i)r.deleteBuffer(i[R]);u=[],i={},a={}}return{bind:d,update:p,dispose:M}}const _6=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let _l=null;function x6(){return _l===null&&(_l=new Po(_6,16,16,Lh,Ol),_l.name="DFG_LUT",_l.minFilter=di,_l.magFilter=di,_l.wrapS=Js,_l.wrapT=Js,_l.generateMipmaps=!1,_l.needsUpdate=!0),_l}class LD{constructor(e={}){const{canvas:t=AR(),context:n=null,depth:i=!0,stencil:a=!1,alpha:u=!1,antialias:c=!1,premultipliedAlpha:d=!0,preserveDrawingBuffer:p=!1,powerPreference:g="default",failIfMajorPerformanceCaveat:y=!1,reversedDepthBuffer:_=!1,outputBufferType:x=Es}=e;this.isWebGLRenderer=!0;let E;if(n!==null){if(typeof WebGLRenderingContext<"u"&&n instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");E=n.getContextAttributes().alpha}else E=u;const T=x,A=new Set([Nb,Db,Q0]),M=new Set([Es,ro,Np,Lp,Ab,Cb]),R=new Uint32Array(4),D=new Int32Array(4);let L=null,P=null;const z=[],B=[];let k=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=io,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const I=this;let O=!1;this._outputColorSpace=es;let W=0,ee=0,Q=null,fe=-1,ue=null;const Z=new Dn,J=new Dn;let he=null;const Pe=new xt(0);let Ue=0,j=t.width,le=t.height,Re=1,ze=null,rt=null;const ge=new Dn(0,0,j,le),De=new Dn(0,0,j,le);let it=!1;const ne=new $p;let ft=!1,_t=!1;const Yt=new Xt,Et=new X,ve=new Dn,Xe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ae=!1;function be(){return Q===null?Re:1}let Y=n;function dt(H,ce){return t.getContext(H,ce)}try{const H={alpha:!0,depth:i,stencil:a,antialias:c,premultipliedAlpha:d,preserveDrawingBuffer:p,powerPreference:g,failIfMajorPerformanceCaveat:y};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${K0}`),t.addEventListener("webglcontextlost",Nt,!1),t.addEventListener("webglcontextrestored",en,!1),t.addEventListener("webglcontextcreationerror",rn,!1),Y===null){const ce="webgl2";if(Y=dt(ce,H),Y===null)throw dt(ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(H){throw Ot("WebGLRenderer: "+H.message),H}let Te,Ct,Je,q,F,oe,Le,Be,_e,st,Ge,Ke,Mt,qe,nt,pt,te,ye,lt,ie,et,Ye,ct,Ze;function ke(){Te=new bB(Y),Te.init(),Ye=new ND(Y,Te),Ct=new hB(Y,Te,e,Ye),Je=new c6(Y,Te),Ct.reversedDepthBuffer&&_&&Je.buffers.depth.setReversed(!0),q=new EB(Y),F=new Zk,oe=new f6(Y,Te,Je,F,Ct,Ye,q),Le=new pB(I),Be=new xB(I),_e=new Cz(Y),ct=new cB(Y,_e),st=new SB(Y,_e,q,ct),Ge=new wB(Y,st,_e,q),lt=new TB(Y,Ct,oe),pt=new dB(F),Ke=new Yk(I,Le,Be,Te,Ct,ct,pt),Mt=new v6(I,F),qe=new $k,nt=new i6(Te),ye=new uB(I,Le,Be,Je,Ge,E,d),te=new l6(I,Ge,Ct),Ze=new y6(Y,q,Ct,Je),ie=new fB(Y,Te,q),et=new MB(Y,Te,q),q.programs=Ke.programs,I.capabilities=Ct,I.extensions=Te,I.properties=F,I.renderLists=qe,I.shadowMap=te,I.state=Je,I.info=q}ke(),T!==Es&&(k=new CB(T,t.width,t.height,i,a));const tt=new m6(I,Y);this.xr=tt,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const H=Te.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=Te.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return Re},this.setPixelRatio=function(H){H!==void 0&&(Re=H,this.setSize(j,le,!1))},this.getSize=function(H){return H.set(j,le)},this.setSize=function(H,ce,Ce=!0){if(tt.isPresenting){gt("WebGLRenderer: Can't change size while VR device is presenting.");return}j=H,le=ce,t.width=Math.floor(H*Re),t.height=Math.floor(ce*Re),Ce===!0&&(t.style.width=H+"px",t.style.height=ce+"px"),k!==null&&k.setSize(t.width,t.height),this.setViewport(0,0,H,ce)},this.getDrawingBufferSize=function(H){return H.set(j*Re,le*Re).floor()},this.setDrawingBufferSize=function(H,ce,Ce){j=H,le=ce,Re=Ce,t.width=Math.floor(H*Ce),t.height=Math.floor(ce*Ce),this.setViewport(0,0,H,ce)},this.setEffects=function(H){if(T===Es){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(H){for(let ce=0;ce<H.length;ce++)if(H[ce].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}k.setEffects(H||[])},this.getCurrentViewport=function(H){return H.copy(Z)},this.getViewport=function(H){return H.copy(ge)},this.setViewport=function(H,ce,Ce,Me){H.isVector4?ge.set(H.x,H.y,H.z,H.w):ge.set(H,ce,Ce,Me),Je.viewport(Z.copy(ge).multiplyScalar(Re).round())},this.getScissor=function(H){return H.copy(De)},this.setScissor=function(H,ce,Ce,Me){H.isVector4?De.set(H.x,H.y,H.z,H.w):De.set(H,ce,Ce,Me),Je.scissor(J.copy(De).multiplyScalar(Re).round())},this.getScissorTest=function(){return it},this.setScissorTest=function(H){Je.setScissorTest(it=H)},this.setOpaqueSort=function(H){ze=H},this.setTransparentSort=function(H){rt=H},this.getClearColor=function(H){return H.copy(ye.getClearColor())},this.setClearColor=function(){ye.setClearColor(...arguments)},this.getClearAlpha=function(){return ye.getClearAlpha()},this.setClearAlpha=function(){ye.setClearAlpha(...arguments)},this.clear=function(H=!0,ce=!0,Ce=!0){let Me=0;if(H){let pe=!1;if(Q!==null){const at=Q.texture.format;pe=A.has(at)}if(pe){const at=Q.texture.type,vt=M.has(at),Qe=ye.getClearColor(),St=ye.getClearAlpha(),Tt=Qe.r,It=Qe.g,wt=Qe.b;vt?(R[0]=Tt,R[1]=It,R[2]=wt,R[3]=St,Y.clearBufferuiv(Y.COLOR,0,R)):(D[0]=Tt,D[1]=It,D[2]=wt,D[3]=St,Y.clearBufferiv(Y.COLOR,0,D))}else Me|=Y.COLOR_BUFFER_BIT}ce&&(Me|=Y.DEPTH_BUFFER_BIT),Ce&&(Me|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(Me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Nt,!1),t.removeEventListener("webglcontextrestored",en,!1),t.removeEventListener("webglcontextcreationerror",rn,!1),ye.dispose(),qe.dispose(),nt.dispose(),F.dispose(),Le.dispose(),Be.dispose(),Ge.dispose(),ct.dispose(),Ze.dispose(),Ke.dispose(),tt.dispose(),tt.removeEventListener("sessionstart",oo),tt.removeEventListener("sessionend",Vl),yr.stop()};function Nt(H){H.preventDefault(),C0("WebGLRenderer: Context Lost."),O=!0}function en(){C0("WebGLRenderer: Context Restored."),O=!1;const H=q.autoReset,ce=te.enabled,Ce=te.autoUpdate,Me=te.needsUpdate,pe=te.type;ke(),q.autoReset=H,te.enabled=ce,te.autoUpdate=Ce,te.needsUpdate=Me,te.type=pe}function rn(H){Ot("WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function ri(H){const ce=H.target;ce.removeEventListener("dispose",ri),ki(ce)}function ki(H){Fo(H),F.remove(H)}function Fo(H){const ce=F.get(H).programs;ce!==void 0&&(ce.forEach(function(Ce){Ke.releaseProgram(Ce)}),H.isShaderMaterial&&Ke.releaseShaderCache(H))}this.renderBufferDirect=function(H,ce,Ce,Me,pe,at){ce===null&&(ce=Xe);const vt=pe.isMesh&&pe.matrixWorld.determinant()<0,Qe=aa(H,ce,Ce,Me,pe);Je.setMaterial(Me,vt);let St=Ce.index,Tt=1;if(Me.wireframe===!0){if(St=st.getWireframeAttribute(Ce),St===void 0)return;Tt=2}const It=Ce.drawRange,wt=Ce.attributes.position;let Ft=It.start*Tt,En=(It.start+It.count)*Tt;at!==null&&(Ft=Math.max(Ft,at.start*Tt),En=Math.min(En,(at.start+at.count)*Tt)),St!==null?(Ft=Math.max(Ft,0),En=Math.min(En,St.count)):wt!=null&&(Ft=Math.max(Ft,0),En=Math.min(En,wt.count));const Hn=En-Ft;if(Hn<0||Hn===1/0)return;ct.setup(pe,Me,Qe,Ce,St);let Fn,Zt=ie;if(St!==null&&(Fn=_e.get(St),Zt=et,Zt.setIndex(Fn)),pe.isMesh)Me.wireframe===!0?(Je.setLineWidth(Me.wireframeLinewidth*be()),Zt.setMode(Y.LINES)):Zt.setMode(Y.TRIANGLES);else if(pe.isLine){let ht=Me.linewidth;ht===void 0&&(ht=1),Je.setLineWidth(ht*be()),pe.isLineSegments?Zt.setMode(Y.LINES):pe.isLineLoop?Zt.setMode(Y.LINE_LOOP):Zt.setMode(Y.LINE_STRIP)}else pe.isPoints?Zt.setMode(Y.POINTS):pe.isSprite&&Zt.setMode(Y.TRIANGLES);if(pe.isBatchedMesh)if(pe._multiDrawInstances!==null)Ip("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Zt.renderMultiDrawInstances(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount,pe._multiDrawInstances);else if(Te.get("WEBGL_multi_draw"))Zt.renderMultiDraw(pe._multiDrawStarts,pe._multiDrawCounts,pe._multiDrawCount);else{const ht=pe._multiDrawStarts,xn=pe._multiDrawCounts,Vt=pe._multiDrawCount,Ni=St?_e.get(St).bytesPerElement:1,oa=F.get(Me).currentProgram.getUniforms();for(let Yn=0;Yn<Vt;Yn++)oa.setValue(Y,"_gl_DrawID",Yn),Zt.render(ht[Yn]/Ni,xn[Yn])}else if(pe.isInstancedMesh)Zt.renderInstances(Ft,Hn,pe.count);else if(Ce.isInstancedBufferGeometry){const ht=Ce._maxInstanceCount!==void 0?Ce._maxInstanceCount:1/0,xn=Math.min(Ce.instanceCount,ht);Zt.renderInstances(Ft,Hn,xn)}else Zt.render(Ft,Hn)};function Bo(H,ce,Ce){H.transparent===!0&&H.side===Ms&&H.forceSinglePass===!1?(H.side=Cs,H.needsUpdate=!0,cs(H,ce,Ce),H.side=zu,H.needsUpdate=!0,cs(H,ce,Ce),H.side=Ms):cs(H,ce,Ce)}this.compile=function(H,ce,Ce=null){Ce===null&&(Ce=H),P=nt.get(Ce),P.init(ce),B.push(P),Ce.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ce.layers)&&(P.pushLight(pe),pe.castShadow&&P.pushShadow(pe))}),H!==Ce&&H.traverseVisible(function(pe){pe.isLight&&pe.layers.test(ce.layers)&&(P.pushLight(pe),pe.castShadow&&P.pushShadow(pe))}),P.setupLights();const Me=new Set;return H.traverse(function(pe){if(!(pe.isMesh||pe.isPoints||pe.isLine||pe.isSprite))return;const at=pe.material;if(at)if(Array.isArray(at))for(let vt=0;vt<at.length;vt++){const Qe=at[vt];Bo(Qe,Ce,pe),Me.add(Qe)}else Bo(at,Ce,pe),Me.add(at)}),P=B.pop(),Me},this.compileAsync=function(H,ce,Ce=null){const Me=this.compile(H,ce,Ce);return new Promise(pe=>{function at(){if(Me.forEach(function(vt){F.get(vt).currentProgram.isReady()&&Me.delete(vt)}),Me.size===0){pe(H);return}setTimeout(at,10)}Te.get("KHR_parallel_shader_compile")!==null?at():setTimeout(at,10)})};let kl=null;function ko(H){kl&&kl(H)}function oo(){yr.stop()}function Vl(){yr.start()}const yr=new wD;yr.setAnimationLoop(ko),typeof self<"u"&&yr.setContext(self),this.setAnimationLoop=function(H){kl=H,tt.setAnimationLoop(H),H===null?yr.stop():yr.start()},tt.addEventListener("sessionstart",oo),tt.addEventListener("sessionend",Vl),this.render=function(H,ce){if(ce!==void 0&&ce.isCamera!==!0){Ot("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(O===!0)return;const Ce=tt.enabled===!0&&tt.isPresenting===!0,Me=k!==null&&(Q===null||Ce)&&k.begin(I,Q);if(H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),ce.parent===null&&ce.matrixWorldAutoUpdate===!0&&ce.updateMatrixWorld(),tt.enabled===!0&&tt.isPresenting===!0&&(k===null||k.isCompositing()===!1)&&(tt.cameraAutoUpdate===!0&&tt.updateCamera(ce),ce=tt.getCamera()),H.isScene===!0&&H.onBeforeRender(I,H,ce,Q),P=nt.get(H,B.length),P.init(ce),B.push(P),Yt.multiplyMatrices(ce.projectionMatrix,ce.matrixWorldInverse),ne.setFromProjectionMatrix(Yt,va,ce.reversedDepth),_t=this.localClippingEnabled,ft=pt.init(this.clippingPlanes,_t),L=qe.get(H,z.length),L.init(),z.push(L),tt.enabled===!0&&tt.isPresenting===!0){const vt=I.xr.getDepthSensingMesh();vt!==null&&os(vt,ce,-1/0,I.sortObjects)}os(H,ce,0,I.sortObjects),L.finish(),I.sortObjects===!0&&L.sort(ze,rt),Ae=tt.enabled===!1||tt.isPresenting===!1||tt.hasDepthSensing()===!1,Ae&&ye.addToRenderList(L,H),this.info.render.frame++,ft===!0&&pt.beginShadows();const pe=P.state.shadowsArray;if(te.render(pe,H,ce),ft===!0&&pt.endShadows(),this.info.autoReset===!0&&this.info.reset(),(Me&&k.hasRenderPass())===!1){const vt=L.opaque,Qe=L.transmissive;if(P.setupLights(),ce.isArrayCamera){const St=ce.cameras;if(Qe.length>0)for(let Tt=0,It=St.length;Tt<It;Tt++){const wt=St[Tt];Vi(vt,Qe,H,wt)}Ae&&ye.render(H);for(let Tt=0,It=St.length;Tt<It;Tt++){const wt=St[Tt];si(L,H,wt,wt.viewport)}}else Qe.length>0&&Vi(vt,Qe,H,ce),Ae&&ye.render(H),si(L,H,ce)}Q!==null&&ee===0&&(oe.updateMultisampleRenderTarget(Q),oe.updateRenderTargetMipmap(Q)),Me&&k.end(I),H.isScene===!0&&H.onAfterRender(I,H,ce),ct.resetDefaultState(),fe=-1,ue=null,B.pop(),B.length>0?(P=B[B.length-1],ft===!0&&pt.setGlobalState(I.clippingPlanes,P.state.camera)):P=null,z.pop(),z.length>0?L=z[z.length-1]:L=null};function os(H,ce,Ce,Me){if(H.visible===!1)return;if(H.layers.test(ce.layers)){if(H.isGroup)Ce=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ce);else if(H.isLight)P.pushLight(H),H.castShadow&&P.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||ne.intersectsSprite(H)){Me&&ve.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Yt);const vt=Ge.update(H),Qe=H.material;Qe.visible&&L.push(H,vt,Qe,Ce,ve.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||ne.intersectsObject(H))){const vt=Ge.update(H),Qe=H.material;if(Me&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),ve.copy(H.boundingSphere.center)):(vt.boundingSphere===null&&vt.computeBoundingSphere(),ve.copy(vt.boundingSphere.center)),ve.applyMatrix4(H.matrixWorld).applyMatrix4(Yt)),Array.isArray(Qe)){const St=vt.groups;for(let Tt=0,It=St.length;Tt<It;Tt++){const wt=St[Tt],Ft=Qe[wt.materialIndex];Ft&&Ft.visible&&L.push(H,vt,Ft,Ce,ve.z,wt)}}else Qe.visible&&L.push(H,vt,Qe,Ce,ve.z,null)}}const at=H.children;for(let vt=0,Qe=at.length;vt<Qe;vt++)os(at[vt],ce,Ce,Me)}function si(H,ce,Ce,Me){const{opaque:pe,transmissive:at,transparent:vt}=H;P.setupLightsView(Ce),ft===!0&&pt.setGlobalState(I.clippingPlanes,Ce),Me&&Je.viewport(Z.copy(Me)),pe.length>0&&ls(pe,ce,Ce),at.length>0&&ls(at,ce,Ce),vt.length>0&&ls(vt,ce,Ce),Je.buffers.depth.setTest(!0),Je.buffers.depth.setMask(!0),Je.buffers.color.setMask(!0),Je.setPolygonOffset(!1)}function Vi(H,ce,Ce,Me){if((Ce.isScene===!0?Ce.overrideMaterial:null)!==null)return;if(P.state.transmissionRenderTarget[Me.id]===void 0){const Ft=Te.has("EXT_color_buffer_half_float")||Te.has("EXT_color_buffer_float");P.state.transmissionRenderTarget[Me.id]=new Sa(1,1,{generateMipmaps:!0,type:Ft?Ol:Es,minFilter:Tl,samples:Ct.samples,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Mn.workingColorSpace})}const at=P.state.transmissionRenderTarget[Me.id],vt=Me.viewport||Z;at.setSize(vt.z*I.transmissionResolutionScale,vt.w*I.transmissionResolutionScale);const Qe=I.getRenderTarget(),St=I.getActiveCubeFace(),Tt=I.getActiveMipmapLevel();I.setRenderTarget(at),I.getClearColor(Pe),Ue=I.getClearAlpha(),Ue<1&&I.setClearColor(16777215,.5),I.clear(),Ae&&ye.render(Ce);const It=I.toneMapping;I.toneMapping=io;const wt=Me.viewport;if(Me.viewport!==void 0&&(Me.viewport=void 0),P.setupLightsView(Me),ft===!0&&pt.setGlobalState(I.clippingPlanes,Me),ls(H,Ce,Me),oe.updateMultisampleRenderTarget(at),oe.updateRenderTargetMipmap(at),Te.has("WEBGL_multisampled_render_to_texture")===!1){let Ft=!1;for(let En=0,Hn=ce.length;En<Hn;En++){const Fn=ce[En],{object:Zt,geometry:ht,material:xn,group:Vt}=Fn;if(xn.side===Ms&&Zt.layers.test(Me.layers)){const Ni=xn.side;xn.side=Cs,xn.needsUpdate=!0,us(Zt,Ce,Me,ht,xn,Vt),xn.side=Ni,xn.needsUpdate=!0,Ft=!0}}Ft===!0&&(oe.updateMultisampleRenderTarget(at),oe.updateRenderTargetMipmap(at))}I.setRenderTarget(Qe,St,Tt),I.setClearColor(Pe,Ue),wt!==void 0&&(Me.viewport=wt),I.toneMapping=It}function ls(H,ce,Ce){const Me=ce.isScene===!0?ce.overrideMaterial:null;for(let pe=0,at=H.length;pe<at;pe++){const vt=H[pe],{object:Qe,geometry:St,group:Tt}=vt;let It=vt.material;It.allowOverride===!0&&Me!==null&&(It=Me),Qe.layers.test(Ce.layers)&&us(Qe,ce,Ce,St,It,Tt)}}function us(H,ce,Ce,Me,pe,at){H.onBeforeRender(I,ce,Ce,Me,pe,at),H.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),pe.onBeforeRender(I,ce,Ce,Me,H,at),pe.transparent===!0&&pe.side===Ms&&pe.forceSinglePass===!1?(pe.side=Cs,pe.needsUpdate=!0,I.renderBufferDirect(Ce,ce,Me,pe,H,at),pe.side=zu,pe.needsUpdate=!0,I.renderBufferDirect(Ce,ce,Me,pe,H,at),pe.side=Ms):I.renderBufferDirect(Ce,ce,Me,pe,H,at),H.onAfterRender(I,ce,Ce,Me,pe,at)}function cs(H,ce,Ce){ce.isScene!==!0&&(ce=Xe);const Me=F.get(H),pe=P.state.lights,at=P.state.shadowsArray,vt=pe.state.version,Qe=Ke.getParameters(H,pe.state,at,ce,Ce),St=Ke.getProgramCacheKey(Qe);let Tt=Me.programs;Me.environment=H.isMeshStandardMaterial?ce.environment:null,Me.fog=ce.fog,Me.envMap=(H.isMeshStandardMaterial?Be:Le).get(H.envMap||Me.environment),Me.envMapRotation=Me.environment!==null&&H.envMap===null?ce.environmentRotation:H.envMapRotation,Tt===void 0&&(H.addEventListener("dispose",ri),Tt=new Map,Me.programs=Tt);let It=Tt.get(St);if(It!==void 0){if(Me.currentProgram===It&&Me.lightsStateVersion===vt)return Hl(H,Qe),It}else Qe.uniforms=Ke.getUniforms(H),H.onBeforeCompile(Qe,I),It=Ke.acquireProgram(Qe,St),Tt.set(St,It),Me.uniforms=Qe.uniforms;const wt=Me.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(wt.clippingPlanes=pt.uniform),Hl(H,Qe),Me.needsLights=uo(H),Me.lightsStateVersion=vt,Me.needsLights&&(wt.ambientLightColor.value=pe.state.ambient,wt.lightProbe.value=pe.state.probe,wt.directionalLights.value=pe.state.directional,wt.directionalLightShadows.value=pe.state.directionalShadow,wt.spotLights.value=pe.state.spot,wt.spotLightShadows.value=pe.state.spotShadow,wt.rectAreaLights.value=pe.state.rectArea,wt.ltc_1.value=pe.state.rectAreaLTC1,wt.ltc_2.value=pe.state.rectAreaLTC2,wt.pointLights.value=pe.state.point,wt.pointLightShadows.value=pe.state.pointShadow,wt.hemisphereLights.value=pe.state.hemi,wt.directionalShadowMap.value=pe.state.directionalShadowMap,wt.directionalShadowMatrix.value=pe.state.directionalShadowMatrix,wt.spotShadowMap.value=pe.state.spotShadowMap,wt.spotLightMatrix.value=pe.state.spotLightMatrix,wt.spotLightMap.value=pe.state.spotLightMap,wt.pointShadowMap.value=pe.state.pointShadowMap,wt.pointShadowMatrix.value=pe.state.pointShadowMatrix),Me.currentProgram=It,Me.uniformsList=null,It}function Vo(H){if(H.uniformsList===null){const ce=H.currentProgram.getUniforms();H.uniformsList=J_.seqWithValue(ce.seq,H.uniforms)}return H.uniformsList}function Hl(H,ce){const Ce=F.get(H);Ce.outputColorSpace=ce.outputColorSpace,Ce.batching=ce.batching,Ce.batchingColor=ce.batchingColor,Ce.instancing=ce.instancing,Ce.instancingColor=ce.instancingColor,Ce.instancingMorph=ce.instancingMorph,Ce.skinning=ce.skinning,Ce.morphTargets=ce.morphTargets,Ce.morphNormals=ce.morphNormals,Ce.morphColors=ce.morphColors,Ce.morphTargetsCount=ce.morphTargetsCount,Ce.numClippingPlanes=ce.numClippingPlanes,Ce.numIntersection=ce.numClipIntersection,Ce.vertexAlphas=ce.vertexAlphas,Ce.vertexTangents=ce.vertexTangents,Ce.toneMapping=ce.toneMapping}function aa(H,ce,Ce,Me,pe){ce.isScene!==!0&&(ce=Xe),oe.resetTextureUnits();const at=ce.fog,vt=Me.isMeshStandardMaterial?ce.environment:null,Qe=Q===null?I.outputColorSpace:Q.isXRRenderTarget===!0?Q.texture.colorSpace:Yc,St=(Me.isMeshStandardMaterial?Be:Le).get(Me.envMap||vt),Tt=Me.vertexColors===!0&&!!Ce.attributes.color&&Ce.attributes.color.itemSize===4,It=!!Ce.attributes.tangent&&(!!Me.normalMap||Me.anisotropy>0),wt=!!Ce.morphAttributes.position,Ft=!!Ce.morphAttributes.normal,En=!!Ce.morphAttributes.color;let Hn=io;Me.toneMapped&&(Q===null||Q.isXRRenderTarget===!0)&&(Hn=I.toneMapping);const Fn=Ce.morphAttributes.position||Ce.morphAttributes.normal||Ce.morphAttributes.color,Zt=Fn!==void 0?Fn.length:0,ht=F.get(Me),xn=P.state.lights;if(ft===!0&&(_t===!0||H!==ue)){const Ji=H===ue&&Me.id===fe;pt.setState(Me,H,Ji)}let Vt=!1;Me.version===ht.__version?(ht.needsLights&&ht.lightsStateVersion!==xn.state.version||ht.outputColorSpace!==Qe||pe.isBatchedMesh&&ht.batching===!1||!pe.isBatchedMesh&&ht.batching===!0||pe.isBatchedMesh&&ht.batchingColor===!0&&pe.colorTexture===null||pe.isBatchedMesh&&ht.batchingColor===!1&&pe.colorTexture!==null||pe.isInstancedMesh&&ht.instancing===!1||!pe.isInstancedMesh&&ht.instancing===!0||pe.isSkinnedMesh&&ht.skinning===!1||!pe.isSkinnedMesh&&ht.skinning===!0||pe.isInstancedMesh&&ht.instancingColor===!0&&pe.instanceColor===null||pe.isInstancedMesh&&ht.instancingColor===!1&&pe.instanceColor!==null||pe.isInstancedMesh&&ht.instancingMorph===!0&&pe.morphTexture===null||pe.isInstancedMesh&&ht.instancingMorph===!1&&pe.morphTexture!==null||ht.envMap!==St||Me.fog===!0&&ht.fog!==at||ht.numClippingPlanes!==void 0&&(ht.numClippingPlanes!==pt.numPlanes||ht.numIntersection!==pt.numIntersection)||ht.vertexAlphas!==Tt||ht.vertexTangents!==It||ht.morphTargets!==wt||ht.morphNormals!==Ft||ht.morphColors!==En||ht.toneMapping!==Hn||ht.morphTargetsCount!==Zt)&&(Vt=!0):(Vt=!0,ht.__version=Me.version);let Ni=ht.currentProgram;Vt===!0&&(Ni=cs(Me,ce,pe));let oa=!1,Yn=!1,Tr=!1;const Cn=Ni.getUniforms(),Hi=ht.uniforms;if(Je.useProgram(Ni.program)&&(oa=!0,Yn=!0,Tr=!0),Me.id!==fe&&(fe=Me.id,Yn=!0),oa||ue!==H){Je.buffers.depth.getReversed()&&H.reversedDepth!==!0&&(H._reversedDepth=!0,H.updateProjectionMatrix()),Cn.setValue(Y,"projectionMatrix",H.projectionMatrix),Cn.setValue(Y,"viewMatrix",H.matrixWorldInverse);const er=Cn.map.cameraPosition;er!==void 0&&er.setValue(Y,Et.setFromMatrixPosition(H.matrixWorld)),Ct.logarithmicDepthBuffer&&Cn.setValue(Y,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(Me.isMeshPhongMaterial||Me.isMeshToonMaterial||Me.isMeshLambertMaterial||Me.isMeshBasicMaterial||Me.isMeshStandardMaterial||Me.isShaderMaterial)&&Cn.setValue(Y,"isOrthographic",H.isOrthographicCamera===!0),ue!==H&&(ue=H,Yn=!0,Tr=!0)}if(ht.needsLights&&(xn.state.directionalShadowMap.length>0&&Cn.setValue(Y,"directionalShadowMap",xn.state.directionalShadowMap,oe),xn.state.spotShadowMap.length>0&&Cn.setValue(Y,"spotShadowMap",xn.state.spotShadowMap,oe),xn.state.pointShadowMap.length>0&&Cn.setValue(Y,"pointShadowMap",xn.state.pointShadowMap,oe)),pe.isSkinnedMesh){Cn.setOptional(Y,pe,"bindMatrix"),Cn.setOptional(Y,pe,"bindMatrixInverse");const Ji=pe.skeleton;Ji&&(Ji.boneTexture===null&&Ji.computeBoneTexture(),Cn.setValue(Y,"boneTexture",Ji.boneTexture,oe))}pe.isBatchedMesh&&(Cn.setOptional(Y,pe,"batchingTexture"),Cn.setValue(Y,"batchingTexture",pe._matricesTexture,oe),Cn.setOptional(Y,pe,"batchingIdTexture"),Cn.setValue(Y,"batchingIdTexture",pe._indirectTexture,oe),Cn.setOptional(Y,pe,"batchingColorTexture"),pe._colorsTexture!==null&&Cn.setValue(Y,"batchingColorTexture",pe._colorsTexture,oe));const Li=Ce.morphAttributes;if((Li.position!==void 0||Li.normal!==void 0||Li.color!==void 0)&&lt.update(pe,Ce,Ni),(Yn||ht.receiveShadow!==pe.receiveShadow)&&(ht.receiveShadow=pe.receiveShadow,Cn.setValue(Y,"receiveShadow",pe.receiveShadow)),Me.isMeshGouraudMaterial&&Me.envMap!==null&&(Hi.envMap.value=St,Hi.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),Me.isMeshStandardMaterial&&Me.envMap===null&&ce.environment!==null&&(Hi.envMapIntensity.value=ce.environmentIntensity),Hi.dfgLUT!==void 0&&(Hi.dfgLUT.value=x6()),Yn&&(Cn.setValue(Y,"toneMappingExposure",I.toneMappingExposure),ht.needsLights&&lo(Hi,Tr),at&&Me.fog===!0&&Mt.refreshFogUniforms(Hi,at),Mt.refreshMaterialUniforms(Hi,Me,Re,le,P.state.transmissionRenderTarget[H.id]),J_.upload(Y,Vo(ht),Hi,oe)),Me.isShaderMaterial&&Me.uniformsNeedUpdate===!0&&(J_.upload(Y,Vo(ht),Hi,oe),Me.uniformsNeedUpdate=!1),Me.isSpriteMaterial&&Cn.setValue(Y,"center",pe.center),Cn.setValue(Y,"modelViewMatrix",pe.modelViewMatrix),Cn.setValue(Y,"normalMatrix",pe.normalMatrix),Cn.setValue(Y,"modelMatrix",pe.matrixWorld),Me.isShaderMaterial||Me.isRawShaderMaterial){const Ji=Me.uniformsGroups;for(let er=0,Gl=Ji.length;er<Gl;er++){const Ds=Ji[er];Ze.update(Ds,Ni),Ze.bind(Ds,Ni)}}return Ni}function lo(H,ce){H.ambientLightColor.needsUpdate=ce,H.lightProbe.needsUpdate=ce,H.directionalLights.needsUpdate=ce,H.directionalLightShadows.needsUpdate=ce,H.pointLights.needsUpdate=ce,H.pointLightShadows.needsUpdate=ce,H.spotLights.needsUpdate=ce,H.spotLightShadows.needsUpdate=ce,H.rectAreaLights.needsUpdate=ce,H.hemisphereLights.needsUpdate=ce}function uo(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return ee},this.getRenderTarget=function(){return Q},this.setRenderTargetTextures=function(H,ce,Ce){const Me=F.get(H);Me.__autoAllocateDepthBuffer=H.resolveDepthBuffer===!1,Me.__autoAllocateDepthBuffer===!1&&(Me.__useRenderToTexture=!1),F.get(H.texture).__webglTexture=ce,F.get(H.depthTexture).__webglTexture=Me.__autoAllocateDepthBuffer?void 0:Ce,Me.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(H,ce){const Ce=F.get(H);Ce.__webglFramebuffer=ce,Ce.__useDefaultFramebuffer=ce===void 0};const co=Y.createFramebuffer();this.setRenderTarget=function(H,ce=0,Ce=0){Q=H,W=ce,ee=Ce;let Me=null,pe=!1,at=!1;if(H){const Qe=F.get(H);if(Qe.__useDefaultFramebuffer!==void 0){Je.bindFramebuffer(Y.FRAMEBUFFER,Qe.__webglFramebuffer),Z.copy(H.viewport),J.copy(H.scissor),he=H.scissorTest,Je.viewport(Z),Je.scissor(J),Je.setScissorTest(he),fe=-1;return}else if(Qe.__webglFramebuffer===void 0)oe.setupRenderTarget(H);else if(Qe.__hasExternalTextures)oe.rebindTextures(H,F.get(H.texture).__webglTexture,F.get(H.depthTexture).__webglTexture);else if(H.depthBuffer){const It=H.depthTexture;if(Qe.__boundDepthTexture!==It){if(It!==null&&F.has(It)&&(H.width!==It.image.width||H.height!==It.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");oe.setupDepthRenderbuffer(H)}}const St=H.texture;(St.isData3DTexture||St.isDataArrayTexture||St.isCompressedArrayTexture)&&(at=!0);const Tt=F.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(Tt[ce])?Me=Tt[ce][Ce]:Me=Tt[ce],pe=!0):H.samples>0&&oe.useMultisampledRTT(H)===!1?Me=F.get(H).__webglMultisampledFramebuffer:Array.isArray(Tt)?Me=Tt[Ce]:Me=Tt,Z.copy(H.viewport),J.copy(H.scissor),he=H.scissorTest}else Z.copy(ge).multiplyScalar(Re).floor(),J.copy(De).multiplyScalar(Re).floor(),he=it;if(Ce!==0&&(Me=co),Je.bindFramebuffer(Y.FRAMEBUFFER,Me)&&Je.drawBuffers(H,Me),Je.viewport(Z),Je.scissor(J),Je.setScissorTest(he),pe){const Qe=F.get(H.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+ce,Qe.__webglTexture,Ce)}else if(at){const Qe=ce;for(let St=0;St<H.textures.length;St++){const Tt=F.get(H.textures[St]);Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0+St,Tt.__webglTexture,Ce,Qe)}}else if(H!==null&&Ce!==0){const Qe=F.get(H.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Qe.__webglTexture,Ce)}fe=-1},this.readRenderTargetPixels=function(H,ce,Ce,Me,pe,at,vt,Qe=0){if(!(H&&H.isWebGLRenderTarget)){Ot("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let St=F.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&vt!==void 0&&(St=St[vt]),St){Je.bindFramebuffer(Y.FRAMEBUFFER,St);try{const Tt=H.textures[Qe],It=Tt.format,wt=Tt.type;if(!Ct.textureFormatReadable(It)){Ot("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ct.textureTypeReadable(wt)){Ot("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ce>=0&&ce<=H.width-Me&&Ce>=0&&Ce<=H.height-pe&&(H.textures.length>1&&Y.readBuffer(Y.COLOR_ATTACHMENT0+Qe),Y.readPixels(ce,Ce,Me,pe,Ye.convert(It),Ye.convert(wt),at))}finally{const Tt=Q!==null?F.get(Q).__webglFramebuffer:null;Je.bindFramebuffer(Y.FRAMEBUFFER,Tt)}}},this.readRenderTargetPixelsAsync=async function(H,ce,Ce,Me,pe,at,vt,Qe=0){if(!(H&&H.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let St=F.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&vt!==void 0&&(St=St[vt]),St)if(ce>=0&&ce<=H.width-Me&&Ce>=0&&Ce<=H.height-pe){Je.bindFramebuffer(Y.FRAMEBUFFER,St);const Tt=H.textures[Qe],It=Tt.format,wt=Tt.type;if(!Ct.textureFormatReadable(It))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ct.textureTypeReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Ft=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ft),Y.bufferData(Y.PIXEL_PACK_BUFFER,at.byteLength,Y.STREAM_READ),H.textures.length>1&&Y.readBuffer(Y.COLOR_ATTACHMENT0+Qe),Y.readPixels(ce,Ce,Me,pe,Ye.convert(It),Ye.convert(wt),0);const En=Q!==null?F.get(Q).__webglFramebuffer:null;Je.bindFramebuffer(Y.FRAMEBUFFER,En);const Hn=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await OP(Y,Hn,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Ft),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,at),Y.deleteBuffer(Ft),Y.deleteSync(Hn),at}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(H,ce=null,Ce=0){const Me=Math.pow(2,-Ce),pe=Math.floor(H.image.width*Me),at=Math.floor(H.image.height*Me),vt=ce!==null?ce.x:0,Qe=ce!==null?ce.y:0;oe.setTexture2D(H,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,Ce,0,0,vt,Qe,pe,at),Je.unbindTexture()};const Ho=Y.createFramebuffer(),Ca=Y.createFramebuffer();this.copyTextureToTexture=function(H,ce,Ce=null,Me=null,pe=0,at=null){at===null&&(pe!==0?(Ip("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),at=pe,pe=0):at=0);let vt,Qe,St,Tt,It,wt,Ft,En,Hn;const Fn=H.isCompressedTexture?H.mipmaps[at]:H.image;if(Ce!==null)vt=Ce.max.x-Ce.min.x,Qe=Ce.max.y-Ce.min.y,St=Ce.isBox3?Ce.max.z-Ce.min.z:1,Tt=Ce.min.x,It=Ce.min.y,wt=Ce.isBox3?Ce.min.z:0;else{const Li=Math.pow(2,-pe);vt=Math.floor(Fn.width*Li),Qe=Math.floor(Fn.height*Li),H.isDataArrayTexture?St=Fn.depth:H.isData3DTexture?St=Math.floor(Fn.depth*Li):St=1,Tt=0,It=0,wt=0}Me!==null?(Ft=Me.x,En=Me.y,Hn=Me.z):(Ft=0,En=0,Hn=0);const Zt=Ye.convert(ce.format),ht=Ye.convert(ce.type);let xn;ce.isData3DTexture?(oe.setTexture3D(ce,0),xn=Y.TEXTURE_3D):ce.isDataArrayTexture||ce.isCompressedArrayTexture?(oe.setTexture2DArray(ce,0),xn=Y.TEXTURE_2D_ARRAY):(oe.setTexture2D(ce,0),xn=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,ce.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ce.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,ce.unpackAlignment);const Vt=Y.getParameter(Y.UNPACK_ROW_LENGTH),Ni=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),oa=Y.getParameter(Y.UNPACK_SKIP_PIXELS),Yn=Y.getParameter(Y.UNPACK_SKIP_ROWS),Tr=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Fn.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Fn.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Tt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,It),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,wt);const Cn=H.isDataArrayTexture||H.isData3DTexture,Hi=ce.isDataArrayTexture||ce.isData3DTexture;if(H.isDepthTexture){const Li=F.get(H),Ji=F.get(ce),er=F.get(Li.__renderTarget),Gl=F.get(Ji.__renderTarget);Je.bindFramebuffer(Y.READ_FRAMEBUFFER,er.__webglFramebuffer),Je.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Gl.__webglFramebuffer);for(let Ds=0;Ds<St;Ds++)Cn&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,F.get(H).__webglTexture,pe,wt+Ds),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,F.get(ce).__webglTexture,at,Hn+Ds)),Y.blitFramebuffer(Tt,It,vt,Qe,Ft,En,vt,Qe,Y.DEPTH_BUFFER_BIT,Y.NEAREST);Je.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Je.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(pe!==0||H.isRenderTargetTexture||F.has(H)){const Li=F.get(H),Ji=F.get(ce);Je.bindFramebuffer(Y.READ_FRAMEBUFFER,Ho),Je.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Ca);for(let er=0;er<St;er++)Cn?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Li.__webglTexture,pe,wt+er):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Li.__webglTexture,pe),Hi?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Ji.__webglTexture,at,Hn+er):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Ji.__webglTexture,at),pe!==0?Y.blitFramebuffer(Tt,It,vt,Qe,Ft,En,vt,Qe,Y.COLOR_BUFFER_BIT,Y.NEAREST):Hi?Y.copyTexSubImage3D(xn,at,Ft,En,Hn+er,Tt,It,vt,Qe):Y.copyTexSubImage2D(xn,at,Ft,En,Tt,It,vt,Qe);Je.bindFramebuffer(Y.READ_FRAMEBUFFER,null),Je.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else Hi?H.isDataTexture||H.isData3DTexture?Y.texSubImage3D(xn,at,Ft,En,Hn,vt,Qe,St,Zt,ht,Fn.data):ce.isCompressedArrayTexture?Y.compressedTexSubImage3D(xn,at,Ft,En,Hn,vt,Qe,St,Zt,Fn.data):Y.texSubImage3D(xn,at,Ft,En,Hn,vt,Qe,St,Zt,ht,Fn):H.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,at,Ft,En,vt,Qe,Zt,ht,Fn.data):H.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,at,Ft,En,Fn.width,Fn.height,Zt,Fn.data):Y.texSubImage2D(Y.TEXTURE_2D,at,Ft,En,vt,Qe,Zt,ht,Fn);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Vt),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,Ni),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,oa),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,Yn),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Tr),at===0&&ce.generateMipmaps&&Y.generateMipmap(xn),Je.unbindTexture()},this.initRenderTarget=function(H){F.get(H).__webglFramebuffer===void 0&&oe.setupRenderTarget(H)},this.initTexture=function(H){H.isCubeTexture?oe.setTextureCube(H,0):H.isData3DTexture?oe.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?oe.setTexture2DArray(H,0):oe.setTexture2D(H,0),Je.unbindTexture()},this.resetState=function(){W=0,ee=0,Q=null,Je.reset(),ct.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return va}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=Mn._getDrawingBufferColorSpace(e),t.unpackColorSpace=Mn._getUnpackColorSpace()}}const b6=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Eb,AddEquation:zc,AddOperation:hR,AdditiveAnimationBlendMode:kE,AdditiveBlending:EM,AgXToneMapping:NE,AlphaFormat:FE,AlwaysCompare:ER,AlwaysDepth:mx,AlwaysStencilFunc:CM,AmbientLight:mD,AnimationAction:SD,AnimationClip:I0,AnimationLoader:b4,AnimationMixer:K4,AnimationObjectGroup:Y4,AnimationUtils:v4,ArcCurve:GR,ArrayCamera:_D,ArrowHelper:_z,AttachedBindMode:AM,Audio:xD,AudioAnalyser:F4,AudioContext:pT,AudioListener:P4,AudioLoader:L4,AxesHelper:xz,BackSide:Cs,BasicDepthPacking:vR,BasicShadowMap:jC,BatchedMesh:zR,Bone:qE,BooleanKeyframeTrack:Fh,Box2:rz,Box3:pr,Box3Helper:vz,BoxGeometry:Uh,BoxHelper:gz,BufferAttribute:zn,BufferGeometry:jt,BufferGeometryLoader:yD,ByteType:IE,Cache:wl,Camera:zb,CameraHelper:mz,CanvasTexture:Qp,CapsuleGeometry:Wb,CatmullRomCurve3:WR,CineonToneMapping:RE,CircleGeometry:Xb,ClampToEdgeWrapping:Js,Clock:mT,Color:xt,ColorKeyframeTrack:uT,ColorManagement:Mn,CompressedArrayTexture:BU,CompressedCubeTexture:kU,CompressedTexture:Gb,CompressedTextureLoader:S4,ConeGeometry:tv,ConstantAlphaFactor:uR,ConstantColorFactor:oR,Controls:Sz,CubeCamera:LR,CubeDepthTexture:VR,CubeReflectionMapping:Ll,CubeRefractionMapping:qc,CubeTexture:J0,CubeTextureLoader:M4,CubeUVReflectionMapping:Kp,CubicBezierCurve:$E,CubicBezierCurve3:XR,CubicInterpolant:oD,CullFaceBack:MM,CullFaceFront:XC,CullFaceFrontBack:GI,CullFaceNone:WC,Curve:Uo,CurvePath:qR,CustomBlending:qC,CustomToneMapping:DE,CylinderGeometry:ev,Cylindrical:iz,Data3DTexture:Ub,DataArrayTexture:Pb,DataTexture:Po,DataTextureLoader:E4,DataUtils:cU,DecrementStencilOp:oP,DecrementWrapStencilOp:uP,DefaultLoadingManager:cD,DepthFormat:Il,DepthStencilFormat:Bc,DepthTexture:Bp,DetachedBindMode:dR,DirectionalLight:pD,DirectionalLightHelper:pz,DiscreteInterpolant:lD,DodecahedronGeometry:jb,DoubleSide:Ms,DstAlphaFactor:nR,DstColorFactor:rR,DynamicCopyUsage:EP,DynamicDrawUsage:yP,DynamicReadUsage:bP,EdgesGeometry:HR,EllipseCurve:qb,EqualCompare:bR,EqualDepth:vx,EqualStencilFunc:dP,EquirectangularReflectionMapping:_0,EquirectangularRefractionMapping:x0,Euler:Ea,EventDispatcher:zl,ExternalTexture:ZE,ExtrudeGeometry:Yb,FileLoader:Fu,Float16BufferAttribute:vU,Float32BufferAttribute:bt,FloatType:As,Fog:Bb,FogExp2:Fb,FramebufferTexture:FU,FrontSide:zu,Frustum:$p,FrustumArray:Hb,GLBufferAttribute:ez,GLSL1:wP,GLSL3:RM,GreaterCompare:SR,GreaterDepth:_x,GreaterEqualCompare:Ib,GreaterEqualDepth:yx,GreaterEqualStencilFunc:vP,GreaterStencilFunc:mP,GridHelper:hz,Group:Mp,HalfFloatType:Ol,HemisphereLight:fD,HemisphereLightHelper:fz,IcosahedronGeometry:Zb,ImageBitmapLoader:N4,ImageLoader:P0,ImageUtils:RR,IncrementStencilOp:aP,IncrementWrapStencilOp:lP,InstancedBufferAttribute:Fp,InstancedBufferGeometry:dT,InstancedInterleavedBuffer:sb,InstancedMesh:UR,Int16BufferAttribute:mU,Int32BufferAttribute:gU,Int8BufferAttribute:hU,IntType:wb,InterleavedBuffer:kb,InterleavedBufferAttribute:ya,Interpolant:rv,InterpolateDiscrete:M0,InterpolateLinear:Jx,InterpolateSmooth:$_,InterpolationSamplingMode:RP,InterpolationSamplingType:CP,InvertStencilOp:cP,KeepStencilOp:ph,KeyframeTrack:ao,LOD:IR,LatheGeometry:Kb,Layers:Up,LessCompare:xR,LessDepth:gx,LessEqualCompare:Ob,LessEqualDepth:Nh,LessEqualStencilFunc:pP,LessStencilFunc:hP,Light:af,LightProbe:vD,Line:Kc,Line3:ED,LineBasicMaterial:Rs,LineCurve:QE,LineCurve3:jR,LineDashedMaterial:sD,LineLoop:FR,LineSegments:Fl,LinearFilter:di,LinearInterpolant:lT,LinearMipMapLinearFilter:qI,LinearMipMapNearestFilter:jI,LinearMipmapLinearFilter:Tl,LinearMipmapNearestFilter:i0,LinearSRGBColorSpace:Yc,LinearToneMapping:AE,LinearTransfer:T0,Loader:sa,LoaderUtils:IM,LoadingManager:cT,LoopOnce:pR,LoopPingPong:gR,LoopRepeat:mR,MOUSE:hh,Material:ss,MaterialLoader:i1,MathUtils:CR,Matrix2:_T,Matrix3:nn,Matrix4:Xt,MaxEquation:$C,Mesh:Qi,MeshBasicMaterial:nf,MeshDepthMaterial:sT,MeshDistanceMaterial:aT,MeshLambertMaterial:iD,MeshMatcapMaterial:rD,MeshNormalMaterial:nD,MeshPhongMaterial:eD,MeshPhysicalMaterial:JR,MeshStandardMaterial:rT,MeshToonMaterial:tD,MinEquation:KC,MirroredRepeatWrapping:S0,MixOperation:fR,MultiplyBlending:wM,MultiplyOperation:$0,NearestFilter:$i,NearestMipMapLinearFilter:XI,NearestMipMapNearestFilter:WI,NearestMipmapLinearFilter:bp,NearestMipmapNearestFilter:OE,NeutralToneMapping:LE,NeverCompare:_R,NeverDepth:px,NeverStencilFunc:fP,NoBlending:Cl,NoColorSpace:Du,NoNormalPacking:tP,NoToneMapping:io,NormalAnimationBlendMode:Lb,NormalBlending:Sh,NormalGAPacking:iP,NormalRGPacking:nP,NotEqualCompare:MR,NotEqualDepth:xx,NotEqualStencilFunc:gP,NumberKeyframeTrack:L0,Object3D:Nn,ObjectLoader:R4,ObjectSpaceNormalMap:yR,OctahedronGeometry:nv,OneFactor:JC,OneMinusConstantAlphaFactor:cR,OneMinusConstantColorFactor:lR,OneMinusDstAlphaFactor:iR,OneMinusDstColorFactor:sR,OneMinusSrcAlphaFactor:dx,OneMinusSrcColorFactor:tR,OrthographicCamera:Pu,PCFShadowMap:wp,PCFSoftShadowMap:n0,PMREMGenerator:FM,Path:rb,PerspectiveCamera:Ki,Plane:Au,PlaneGeometry:Jp,PlaneHelper:yz,PointLight:dD,PointLightHelper:uz,Points:BR,PointsMaterial:YE,PolarGridHelper:dz,PolyhedronGeometry:sf,PositionalAudio:z4,PropertyBinding:Rn,PropertyMixer:bD,QuadraticBezierCurve:JE,QuadraticBezierCurve3:eT,Quaternion:is,QuaternionKeyframeTrack:sv,QuaternionLinearInterpolant:uD,R11_EAC_Format:Cx,RED_GREEN_RGTC2_Format:$x,RED_RGTC1_Format:Zx,REVISION:K0,RG11_EAC_Format:Dx,RGBADepthPacking:QI,RGBAFormat:ns,RGBAIntegerFormat:Nb,RGBA_ASTC_10x10_Format:Gx,RGBA_ASTC_10x5_Format:kx,RGBA_ASTC_10x6_Format:Vx,RGBA_ASTC_10x8_Format:Hx,RGBA_ASTC_12x10_Format:Wx,RGBA_ASTC_12x12_Format:Xx,RGBA_ASTC_4x4_Format:Lx,RGBA_ASTC_5x4_Format:Ox,RGBA_ASTC_5x5_Format:Ix,RGBA_ASTC_6x5_Format:Px,RGBA_ASTC_6x6_Format:Ux,RGBA_ASTC_8x5_Format:zx,RGBA_ASTC_8x6_Format:Fx,RGBA_ASTC_8x8_Format:Bx,RGBA_BPTC_Format:jx,RGBA_ETC2_EAC_Format:Ax,RGBA_PVRTC_2BPPV1_Format:Ex,RGBA_PVRTC_4BPPV1_Format:Mx,RGBA_S3TC_DXT1_Format:s0,RGBA_S3TC_DXT3_Format:a0,RGBA_S3TC_DXT5_Format:o0,RGBDepthPacking:JI,RGBFormat:BE,RGBIntegerFormat:YI,RGB_BPTC_SIGNED_Format:qx,RGB_BPTC_UNSIGNED_Format:Yx,RGB_ETC1_Format:Tx,RGB_ETC2_Format:wx,RGB_PVRTC_2BPPV1_Format:Sx,RGB_PVRTC_4BPPV1_Format:bx,RGB_S3TC_DXT1_Format:r0,RGDepthPacking:eP,RGFormat:Lh,RGIntegerFormat:Db,RawShaderMaterial:iT,Ray:Ph,Raycaster:MD,RectAreaLight:gD,RedFormat:Rb,RedIntegerFormat:Q0,ReinhardToneMapping:CE,RenderTarget:HE,RenderTarget3D:$4,RepeatWrapping:b0,ReplaceStencilOp:sP,ReverseSubtractEquation:ZC,RingGeometry:$b,SIGNED_R11_EAC_Format:Rx,SIGNED_RED_GREEN_RGTC2_Format:Qx,SIGNED_RED_RGTC1_Format:Kx,SIGNED_RG11_EAC_Format:Nx,SRGBColorSpace:es,SRGBTransfer:Vn,Scene:jE,ShaderChunk:cn,ShaderLib:Oo,ShaderMaterial:Ta,ShadowMaterial:QR,Shape:Eh,ShapeGeometry:Qb,ShapePath:bz,ShapeUtils:Io,ShortType:PE,Skeleton:Vb,SkeletonHelper:lz,SkinnedMesh:PR,Source:kc,Sphere:mr,SphereGeometry:iv,Spherical:UM,SphericalHarmonics3:hT,SplineCurve:tT,SpotLight:hD,SpotLightHelper:oz,Sprite:zh,SpriteMaterial:rf,SrcAlphaFactor:hx,SrcAlphaSaturateFactor:aR,SrcColorFactor:eR,StaticCopyUsage:MP,StaticDrawUsage:w0,StaticReadUsage:xP,StereoCamera:O4,StreamCopyUsage:TP,StreamDrawUsage:_P,StreamReadUsage:SP,StringKeyframeTrack:Bh,SubtractEquation:YC,SubtractiveBlending:TM,TOUCH:dh,TangentSpaceNormalMap:tf,TetrahedronGeometry:Jb,Texture:Bi,TextureLoader:T4,TextureUtils:Az,Timer:tz,TimestampQuery:AP,TorusGeometry:e1,TorusKnotGeometry:t1,Triangle:Qs,TriangleFanDrawMode:$I,TriangleStripDrawMode:KI,TrianglesDrawMode:ZI,TubeGeometry:n1,UVMapping:Tb,Uint16BufferAttribute:GE,Uint32BufferAttribute:WE,Uint8BufferAttribute:dU,Uint8ClampedBufferAttribute:pU,Uniform:yT,UniformsGroup:J4,UniformsLib:mt,UniformsUtils:eb,UnsignedByteType:Es,UnsignedInt101111Type:zE,UnsignedInt248Type:Lp,UnsignedInt5999Type:UE,UnsignedIntType:ro,UnsignedShort4444Type:Ab,UnsignedShort5551Type:Cb,UnsignedShortType:Np,VSMShadowMap:vh,Vector2:Ve,Vector3:X,Vector4:Dn,VectorKeyframeTrack:O0,VideoFrameTexture:zU,VideoTexture:kR,WebGL3DRenderTarget:eU,WebGLArrayRenderTarget:JP,WebGLCoordinateSystem:va,WebGLCubeRenderTarget:XE,WebGLRenderTarget:Sa,WebGLRenderer:LD,WebGLUtils:ND,WebGPUCoordinateSystem:Op,WebXRController:Q_,WireframeGeometry:nT,WrapAroundEnding:E0,ZeroCurvatureEnding:yh,ZeroFactor:QC,ZeroSlopeEnding:_h,ZeroStencilOp:rP,createCanvasElement:AR,error:Ot,getConsoleFunction:LP,log:C0,setConsoleFunction:NP,warn:gt,warnOnce:Ip},Symbol.toStringTag,{value:"Module"}));var YS={exports:{}},ZS={},KS={exports:{}},$S={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function S6(){if(y3)return $S;y3=1;var r=j0();function e(y,_){return y===_&&(y!==0||1/y===1/_)||y!==y&&_!==_}var t=typeof Object.is=="function"?Object.is:e,n=r.useState,i=r.useEffect,a=r.useLayoutEffect,u=r.useDebugValue;function c(y,_){var x=_(),E=n({inst:{value:x,getSnapshot:_}}),T=E[0].inst,A=E[1];return a(function(){T.value=x,T.getSnapshot=_,d(T)&&A({inst:T})},[y,x,_]),i(function(){return d(T)&&A({inst:T}),y(function(){d(T)&&A({inst:T})})},[y]),u(x),x}function d(y){var _=y.getSnapshot;y=y.value;try{var x=_();return!t(y,x)}catch{return!0}}function p(y,_){return _()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:c;return $S.useSyncExternalStore=r.useSyncExternalStore!==void 0?r.useSyncExternalStore:g,$S}var _3;function M6(){return _3||(_3=1,KS.exports=S6()),KS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function E6(){if(x3)return ZS;x3=1;var r=j0(),e=M6();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,a=r.useRef,u=r.useEffect,c=r.useMemo,d=r.useDebugValue;return ZS.useSyncExternalStoreWithSelector=function(p,g,y,_,x){var E=a(null);if(E.current===null){var T={hasValue:!1,value:null};E.current=T}else T=E.current;E=c(function(){function M(z){if(!R){if(R=!0,D=z,z=_(z),x!==void 0&&T.hasValue){var B=T.value;if(x(B,z))return L=B}return L=z}if(B=L,n(D,z))return B;var k=_(z);return x!==void 0&&x(B,k)?(D=z,B):(D=z,L=k)}var R=!1,D,L,P=y===void 0?null:y;return[function(){return M(g())},P===null?void 0:function(){return M(P())}]},[g,y,_,x]);var A=i(p,E[0],E[1]);return u(function(){T.hasValue=!0,T.value=A},[A]),d(A),A},ZS}var b3;function T6(){return b3||(b3=1,YS.exports=E6()),YS.exports}var w6=T6();const A6=X0(w6),S3=r=>{let e;const t=new Set,n=(p,g)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const _=e;e=g??(typeof y!="object"||y===null)?y:Object.assign({},e,y),t.forEach(x=>x(e,_))}},i=()=>e,c={setState:n,getState:i,getInitialState:()=>d,subscribe:p=>(t.add(p),()=>t.delete(p))},d=e=r(n,i,c);return c},C6=(r=>r?S3(r):S3),{useSyncExternalStoreWithSelector:R6}=A6,D6=r=>r;function N6(r,e=D6,t){const n=R6(r.subscribe,r.getState,r.getInitialState,e,t);return xE.useDebugValue(n),n}const M3=(r,e)=>{const t=C6(r),n=(i,a=e)=>N6(t,i,a);return Object.assign(n,t),n},L6=((r,e)=>r?M3(r,e):M3);var VM=bC();const O6=X0(VM);function xT(r,e,t){if(!r)return;if(t(r)===!0)return r;let n=e?r.return:r.child;for(;n;){const i=xT(n,e,t);if(i)return i;n=e?null:n.sibling}}function OD(r){try{return Object.defineProperties(r,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return r}}const bT=OD(K.createContext(null));class ID extends K.Component{render(){return K.createElement(bT.Provider,{value:this._reactInternals},this.props.children)}}function PD(){const r=K.useContext(bT);if(r===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=K.useId();return K.useMemo(()=>{for(const t of[r,r==null?void 0:r.alternate]){if(!t)continue;const n=xT(t,!1,i=>{let a=i.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(n)return n}},[r,e])}const I6=Symbol.for("react.context"),P6=r=>r!==null&&typeof r=="object"&&"$$typeof"in r&&r.$$typeof===I6;function U6(){const r=PD(),[e]=K.useState(()=>new Map);e.clear();let t=r;for(;t;){const n=t.type;P6(n)&&n!==bT&&!e.has(n)&&e.set(n,K.use(OD(n))),t=t.return}return e}function z6(){const r=U6();return K.useMemo(()=>Array.from(r.keys()).reduce((e,t)=>n=>K.createElement(e,null,K.createElement(t.Provider,{...n,value:r.get(t)})),e=>K.createElement(ID,{...e})),[r])}function UD(r){let e=r.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const zD=r=>r&&r.isOrthographicCamera,F6=r=>r&&r.hasOwnProperty("current"),B6=r=>r!=null&&(typeof r=="string"||typeof r=="number"||r.isColor),av=((r,e)=>typeof window<"u"&&(((r=window.document)==null?void 0:r.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?K.useLayoutEffect:K.useEffect;function FD(r){const e=K.useRef(r);return av(()=>void(e.current=r),[r]),e}function k6(){const r=PD(),e=z6();return K.useMemo(()=>({children:t})=>{const i=!!xT(r,!0,a=>a.type===K.StrictMode)?K.StrictMode:K.Fragment;return $.jsx(i,{children:$.jsx(e,{children:t})})},[r,e])}function V6({set:r}){return av(()=>(r(new Promise(()=>null)),()=>r(!1)),[r]),null}const H6=(r=>(r=class extends K.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},r.getDerivedStateFromError=()=>({error:!0}),r))();function BD(r){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(r)?Math.min(Math.max(r[0],t),r[1]):r}function pp(r){var e;return(e=r.__r3f)==null?void 0:e.root.getState()}const Ti={obj:r=>r===Object(r)&&!Ti.arr(r)&&typeof r!="function",fun:r=>typeof r=="function",str:r=>typeof r=="string",num:r=>typeof r=="number",boo:r=>typeof r=="boolean",und:r=>r===void 0,nul:r=>r===null,arr:r=>Array.isArray(r),equ(r,e,{arrays:t="shallow",objects:n="reference",strict:i=!0}={}){if(typeof r!=typeof e||!!r!=!!e)return!1;if(Ti.str(r)||Ti.num(r)||Ti.boo(r))return r===e;const a=Ti.obj(r);if(a&&n==="reference")return r===e;const u=Ti.arr(r);if(u&&t==="reference")return r===e;if((u||a)&&r===e)return!0;let c;for(c in r)if(!(c in e))return!1;if(a&&t==="shallow"&&n==="shallow"){for(c in i?e:r)if(!Ti.equ(r[c],e[c],{strict:i,objects:"reference"}))return!1}else for(c in i?e:r)if(r[c]!==e[c])return!1;if(Ti.und(c)){if(u&&r.length===0&&e.length===0||a&&Object.keys(r).length===0&&Object.keys(e).length===0)return!0;if(r!==e)return!1}return!0}};function G6(r){r.type!=="Scene"&&(r.dispose==null||r.dispose());for(const e in r){const t=r[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const kD=["children","key","ref"];function W6(r){const e={};for(const t in r)kD.includes(t)||(e[t]=r[t]);return e}function ab(r,e,t,n){const i=r;let a=i==null?void 0:i.__r3f;return a||(a={root:e,type:t,parent:null,children:[],props:W6(n),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=a)),a}function U0(r,e){if(!e.includes("-"))return{root:r,key:e,target:r[e]};if(e in r)return{root:r,key:e,target:r[e]};let t=r;const n=e.split("-");for(const i of n){if(typeof t!="object"||t===null){if(t!==void 0){const a=n.slice(n.indexOf(i)).join("-");return{root:t,key:a,target:void 0}}return{root:r,key:e,target:void 0}}e=i,r=t,t=t[e]}return{root:r,key:e,target:t}}const E3=/-\d+$/;function ob(r,e){if(Ti.str(e.props.attach)){if(E3.test(e.props.attach)){const i=e.props.attach.replace(E3,""),{root:a,key:u}=U0(r.object,i);Array.isArray(a[u])||(a[u]=[])}const{root:t,key:n}=U0(r.object,e.props.attach);e.previousAttach=t[n],t[n]=e.object}else Ti.fun(e.props.attach)&&(e.previousAttach=e.props.attach(r.object,e.object))}function lb(r,e){if(Ti.str(e.props.attach)){const{root:t,key:n}=U0(r.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[n]:t[n]=i}else e.previousAttach==null||e.previousAttach(r.object,e.object);delete e.previousAttach}const HM=[...kD,"args","dispose","attach","object","onUpdate","dispose"],T3=new Map;function X6(r){let e=T3.get(r.constructor);try{e||(e=new r.constructor,T3.set(r.constructor,e))}catch{}return e}function j6(r,e){const t={};for(const n in e)if(!HM.includes(n)&&!Ti.equ(e[n],r.props[n])){t[n]=e[n];for(const i in e)i.startsWith(`${n}-`)&&(t[i]=e[i])}for(const n in r.props){if(HM.includes(n)||e.hasOwnProperty(n))continue;const{root:i,key:a}=U0(r.object,n);if(i.constructor&&i.constructor.length===0){const u=X6(i);Ti.und(u)||(t[a]=u[a])}else t[a]=0}return t}const q6=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],Y6=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Fc(r,e){var t;const n=r.__r3f,i=n&&UD(n).getState(),a=n==null?void 0:n.eventCount;for(const c in e){let d=e[c];if(HM.includes(c))continue;if(n&&Y6.test(c)){typeof d=="function"?n.handlers[c]=d:delete n.handlers[c],n.eventCount=Object.keys(n.handlers).length;continue}if(d===void 0)continue;let{root:p,key:g,target:y}=U0(r,c);if(y===void 0&&(typeof p!="object"||p===null))throw Error(`R3F: Cannot set "${c}". Ensure it is an object before setting "${g}".`);if(y instanceof Up&&d instanceof Up)y.mask=d.mask;else if(y instanceof xt&&B6(d))y.set(d);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof y.copy=="function"&&d!=null&&d.constructor&&y.constructor===d.constructor)y.copy(d);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&Array.isArray(d))typeof y.fromArray=="function"?y.fromArray(d):y.set(...d);else if(y!==null&&typeof y=="object"&&typeof y.set=="function"&&typeof d=="number")typeof y.setScalar=="function"?y.setScalar(d):y.set(d);else{var u;p[g]=d,i&&!i.linear&&q6.includes(g)&&(u=p[g])!=null&&u.isTexture&&p[g].format===ns&&p[g].type===Es&&(p[g].colorSpace=es)}}if(n!=null&&n.parent&&i!=null&&i.internal&&(t=n.object)!=null&&t.isObject3D&&a!==n.eventCount){const c=n.object,d=i.internal.interaction.indexOf(c);d>-1&&i.internal.interaction.splice(d,1),n.eventCount&&c.raycast!==null&&i.internal.interaction.push(c)}return n&&n.props.attach===void 0&&(n.object.isBufferGeometry?n.props.attach="geometry":n.object.isMaterial&&(n.props.attach="material")),n&&tm(n),r}function tm(r){var e;if(!r.parent)return;r.props.onUpdate==null||r.props.onUpdate(r.object);const t=(e=r.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function Z6(r,e){r.manual||(zD(r)?(r.left=e.width/-2,r.right=e.width/2,r.top=e.height/2,r.bottom=e.height/-2):r.aspect=e.width/e.height,r.updateProjectionMatrix())}const $s=r=>r==null?void 0:r.isObject3D;function B_(r){return(r.eventObject||r.object).uuid+"/"+r.index+r.instanceId}function VD(r,e,t,n){const i=t.get(e);i&&(t.delete(e),t.size===0&&(r.delete(n),i.target.releasePointerCapture(n)))}function K6(r,e){const{internal:t}=r.getState();t.interaction=t.interaction.filter(n=>n!==e),t.initialHits=t.initialHits.filter(n=>n!==e),t.hovered.forEach((n,i)=>{(n.eventObject===e||n.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((n,i)=>{VD(t.capturedMap,e,n,i)})}function $6(r){function e(d){const{internal:p}=r.getState(),g=d.offsetX-p.initialClick[0],y=d.offsetY-p.initialClick[1];return Math.round(Math.sqrt(g*g+y*y))}function t(d){return d.filter(p=>["Move","Over","Enter","Out","Leave"].some(g=>{var y;return(y=p.__r3f)==null?void 0:y.handlers["onPointer"+g]}))}function n(d,p){const g=r.getState(),y=new Set,_=[],x=p?p(g.internal.interaction):g.internal.interaction;for(let M=0;M<x.length;M++){const R=pp(x[M]);R&&(R.raycaster.camera=void 0)}g.previousRoot||g.events.compute==null||g.events.compute(d,g);function E(M){const R=pp(M);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var D;R.events.compute==null||R.events.compute(d,R,(D=R.previousRoot)==null?void 0:D.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(M,!0):[]}let T=x.flatMap(E).sort((M,R)=>{const D=pp(M.object),L=pp(R.object);return!D||!L?M.distance-R.distance:L.events.priority-D.events.priority||M.distance-R.distance}).filter(M=>{const R=B_(M);return y.has(R)?!1:(y.add(R),!0)});g.events.filter&&(T=g.events.filter(T,g));for(const M of T){let R=M.object;for(;R;){var A;(A=R.__r3f)!=null&&A.eventCount&&_.push({...M,eventObject:R}),R=R.parent}}if("pointerId"in d&&g.internal.capturedMap.has(d.pointerId))for(let M of g.internal.capturedMap.get(d.pointerId).values())y.has(B_(M.intersection))||_.push(M.intersection);return _}function i(d,p,g,y){if(d.length){const _={stopped:!1};for(const x of d){let E=pp(x.object);if(E||x.object.traverseAncestors(T=>{const A=pp(T);if(A)return E=A,!1}),E){const{raycaster:T,pointer:A,camera:M,internal:R}=E,D=new X(A.x,A.y,0).unproject(M),L=I=>{var O,W;return(O=(W=R.capturedMap.get(I))==null?void 0:W.has(x.eventObject))!=null?O:!1},P=I=>{const O={intersection:x,target:p.target};R.capturedMap.has(I)?R.capturedMap.get(I).set(x.eventObject,O):R.capturedMap.set(I,new Map([[x.eventObject,O]])),p.target.setPointerCapture(I)},z=I=>{const O=R.capturedMap.get(I);O&&VD(R.capturedMap,x.eventObject,O,I)};let B={};for(let I in p){let O=p[I];typeof O!="function"&&(B[I]=O)}let k={...x,...B,pointer:A,intersections:d,stopped:_.stopped,delta:g,unprojectedPoint:D,ray:T.ray,camera:M,stopPropagation(){const I="pointerId"in p&&R.capturedMap.get(p.pointerId);if((!I||I.has(x.eventObject))&&(k.stopped=_.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(O=>O.eventObject===x.eventObject))){const O=d.slice(0,d.indexOf(x));a([...O,x])}},target:{hasPointerCapture:L,setPointerCapture:P,releasePointerCapture:z},currentTarget:{hasPointerCapture:L,setPointerCapture:P,releasePointerCapture:z},nativeEvent:p};if(y(k),_.stopped===!0)break}}}return d}function a(d){const{internal:p}=r.getState();for(const g of p.hovered.values())if(!d.length||!d.find(y=>y.object===g.object&&y.index===g.index&&y.instanceId===g.instanceId)){const _=g.eventObject.__r3f;if(p.hovered.delete(B_(g)),_!=null&&_.eventCount){const x=_.handlers,E={...g,intersections:d};x.onPointerOut==null||x.onPointerOut(E),x.onPointerLeave==null||x.onPointerLeave(E)}}}function u(d,p){for(let g=0;g<p.length;g++){const y=p[g].__r3f;y==null||y.handlers.onPointerMissed==null||y.handlers.onPointerMissed(d)}}function c(d){switch(d){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return p=>{const{internal:g}=r.getState();"pointerId"in p&&g.capturedMap.has(p.pointerId)&&requestAnimationFrame(()=>{g.capturedMap.has(p.pointerId)&&(g.capturedMap.delete(p.pointerId),a([]))})}}return function(g){const{onPointerMissed:y,internal:_}=r.getState();_.lastEvent.current=g;const x=d==="onPointerMove",E=d==="onClick"||d==="onContextMenu"||d==="onDoubleClick",A=n(g,x?t:void 0),M=E?e(g):0;d==="onPointerDown"&&(_.initialClick=[g.offsetX,g.offsetY],_.initialHits=A.map(D=>D.eventObject)),E&&!A.length&&M<=2&&(u(g,_.interaction),y&&y(g)),x&&a(A);function R(D){const L=D.eventObject,P=L.__r3f;if(!(P!=null&&P.eventCount))return;const z=P.handlers;if(x){if(z.onPointerOver||z.onPointerEnter||z.onPointerOut||z.onPointerLeave){const B=B_(D),k=_.hovered.get(B);k?k.stopped&&D.stopPropagation():(_.hovered.set(B,D),z.onPointerOver==null||z.onPointerOver(D),z.onPointerEnter==null||z.onPointerEnter(D))}z.onPointerMove==null||z.onPointerMove(D)}else{const B=z[d];B?(!E||_.initialHits.includes(L))&&(u(g,_.interaction.filter(k=>!_.initialHits.includes(k))),B(D)):E&&_.initialHits.includes(L)&&u(g,_.interaction.filter(k=>!_.initialHits.includes(k)))}}i(A,g,M,R)}}return{handlePointer:c}}const w3=r=>!!(r!=null&&r.render),HD=K.createContext(null),Q6=(r,e)=>{const t=L6((c,d)=>{const p=new X,g=new X,y=new X;function _(M=d().camera,R=g,D=d().size){const{width:L,height:P,top:z,left:B}=D,k=L/P;R.isVector3?y.copy(R):y.set(...R);const I=M.getWorldPosition(p).distanceTo(y);if(zD(M))return{width:L/M.zoom,height:P/M.zoom,top:z,left:B,factor:1,distance:I,aspect:k};{const O=M.fov*Math.PI/180,W=2*Math.tan(O/2)*I,ee=W*(L/P);return{width:ee,height:W,top:z,left:B,factor:L/ee,distance:I,aspect:k}}}let x;const E=M=>c(R=>({performance:{...R.performance,current:M}})),T=new Ve;return{set:c,get:d,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(M=1)=>r(d(),M),advance:(M,R)=>e(M,R,d()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new mT,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const M=d();x&&clearTimeout(x),M.performance.current!==M.performance.min&&E(M.performance.min),x=setTimeout(()=>E(d().performance.max),M.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:_},setEvents:M=>c(R=>({...R,events:{...R.events,...M}})),setSize:(M,R,D=0,L=0)=>{const P=d().camera,z={width:M,height:R,top:D,left:L};c(B=>({size:z,viewport:{...B.viewport,..._(P,g,z)}}))},setDpr:M=>c(R=>{const D=BD(M);return{viewport:{...R.viewport,dpr:D,initialDpr:R.viewport.initialDpr||D}}}),setFrameloop:(M="always")=>{const R=d().clock;R.stop(),R.elapsedTime=0,M!=="never"&&(R.start(),R.elapsedTime=0),c(()=>({frameloop:M}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:K.createRef(),active:!1,frames:0,priority:0,subscribe:(M,R,D)=>{const L=d().internal;return L.priority=L.priority+(R>0?1:0),L.subscribers.push({ref:M,priority:R,store:D}),L.subscribers=L.subscribers.sort((P,z)=>P.priority-z.priority),()=>{const P=d().internal;P!=null&&P.subscribers&&(P.priority=P.priority-(R>0?1:0),P.subscribers=P.subscribers.filter(z=>z.ref!==M))}}}}}),n=t.getState();let i=n.size,a=n.viewport.dpr,u=n.camera;return t.subscribe(()=>{const{camera:c,size:d,viewport:p,gl:g,set:y}=t.getState();if(d.width!==i.width||d.height!==i.height||p.dpr!==a){i=d,a=p.dpr,Z6(c,d),p.dpr>0&&g.setPixelRatio(p.dpr);const _=typeof HTMLCanvasElement<"u"&&g.domElement instanceof HTMLCanvasElement;g.setSize(d.width,d.height,_)}c!==u&&(u=c,y(_=>({viewport:{..._.viewport,..._.viewport.getCurrentViewport(c)}})))}),t.subscribe(c=>r(c)),t};function GD(){const r=K.useContext(HD);if(!r)throw new Error("R3F: Hooks can only be used within the Canvas component!");return r}function Tu(r=t=>t,e){return GD()(r,e)}function zo(r,e=0){const t=GD(),n=t.getState().internal.subscribe,i=FD(r);return av(()=>n(i,e,t),[e,n,t]),null}/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const J6=1,e8=8,t8=32,n8=2;var i8={version:"9.5.0"};function r8(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var A3={exports:{}},C3={exports:{}},R3;function s8(){return R3||(R3=1,(function(r){r.exports=function(e){function t(l,f,v,b){return new Rm(l,f,v,b)}function n(){}function i(l){var f="https://react.dev/errors/"+l;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+l+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){var f=l,v=l;if(l.alternate)for(;f.return;)f=f.return;else{l=f;do f=l,(f.flags&4098)!==0&&(v=f.return),l=f.return;while(l)}return f.tag===3?v:null}function u(l){if(a(l)!==l)throw Error(i(188))}function c(l){var f=l.alternate;if(!f){if(f=a(l),f===null)throw Error(i(188));return f!==l?null:l}for(var v=l,b=f;;){var C=v.return;if(C===null)break;var N=C.alternate;if(N===null){if(b=C.return,b!==null){v=b;continue}break}if(C.child===N.child){for(N=C.child;N;){if(N===v)return u(C),l;if(N===b)return u(C),f;N=N.sibling}throw Error(i(188))}if(v.return!==b.return)v=C,b=N;else{for(var V=!1,se=C.child;se;){if(se===v){V=!0,v=C,b=N;break}if(se===b){V=!0,b=C,v=N;break}se=se.sibling}if(!V){for(se=N.child;se;){if(se===v){V=!0,v=N,b=C;break}if(se===b){V=!0,b=N,v=C;break}se=se.sibling}if(!V)throw Error(i(189))}}if(v.alternate!==b)throw Error(i(190))}if(v.tag!==3)throw Error(i(188));return v.stateNode.current===v?l:f}function d(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(f=d(l),f!==null)return f;l=l.sibling}return null}function p(l){var f=l.tag;if(f===5||f===26||f===27||f===6)return l;for(l=l.child;l!==null;){if(l.tag!==4&&(f=p(l),f!==null))return f;l=l.sibling}return null}function g(l){return l===null||typeof l!="object"?null:(l=xo&&l[xo]||l["@@iterator"],typeof l=="function"?l:null)}function y(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===tl?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case tu:return"Fragment";case iu:return"Profiler";case nu:return"StrictMode";case md:return"Suspense";case _o:return"SuspenseList";case Rf:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case eu:return"Portal";case zs:return l.displayName||"Context";case Cf:return(l._context.displayName||"Context")+".Consumer";case oc:var f=l.render;return l=l.displayName,l||(l=f.displayName||f.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case gd:return f=l.displayName||null,f!==null?f:y(l.type)||"Memo";case Rr:f=l._payload,l=l._init;try{return y(l(f))}catch{}}return null}function _(l){return{current:l}}function x(l){0>lu||(l.current=Rd[lu],Rd[lu]=null,lu--)}function E(l,f){lu++,Rd[lu]=l.current,l.current=f}function T(l){return l>>>=0,l===0?32:31-(Dd(l)/Ay|0)|0}function A(l){var f=l&42;if(f!==0)return f;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function M(l,f,v){var b=l.pendingLanes;if(b===0)return 0;var C=0,N=l.suspendedLanes,V=l.pingedLanes;l=l.warmLanes;var se=b&134217727;return se!==0?(b=se&~N,b!==0?C=A(b):(V&=se,V!==0?C=A(V):v||(v=se&~l,v!==0&&(C=A(v))))):(se=b&~N,se!==0?C=A(se):V!==0?C=A(V):v||(v=b&~l,v!==0&&(C=A(v)))),C===0?0:f!==0&&f!==C&&(f&N)===0&&(N=C&-C,v=f&-f,N>=v||N===32&&(v&4194048)!==0)?f:C}function R(l,f){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&f)===0}function D(l,f){switch(l){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L(){var l=pc;return pc<<=1,(pc&62914560)===0&&(pc=4194304),l}function P(l){for(var f=[],v=0;31>v;v++)f.push(l);return f}function z(l,f){l.pendingLanes|=f,f!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function B(l,f,v,b,C,N){var V=l.pendingLanes;l.pendingLanes=v,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=v,l.entangledLanes&=v,l.errorRecoveryDisabledLanes&=v,l.shellSuspendCounter=0;var se=l.entanglements,Oe=l.expirationTimes,je=l.hiddenUpdates;for(v=V&~v;0<v;){var ut=31-Xr(v),$e=1<<ut;se[ut]=0,Oe[ut]=-1;var yt=je[ut];if(yt!==null)for(je[ut]=null,ut=0;ut<yt.length;ut++){var Kt=yt[ut];Kt!==null&&(Kt.lane&=-536870913)}v&=~$e}b!==0&&k(l,b,0),N!==0&&C===0&&l.tag!==0&&(l.suspendedLanes|=N&~(V&~f))}function k(l,f,v){l.pendingLanes|=f,l.suspendedLanes&=~f;var b=31-Xr(f);l.entangledLanes|=f,l.entanglements[b]=l.entanglements[b]|1073741824|v&261930}function I(l,f){var v=l.entangledLanes|=f;for(l=l.entanglements;v;){var b=31-Xr(v),C=1<<b;C&f|l[b]&f&&(l[b]|=f),v&=~C}}function O(l,f){var v=f&-f;return v=(v&42)!==0?1:W(v),(v&(l.suspendedLanes|f))!==0?0:v}function W(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function ee(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function Q(l){if(typeof pg=="function"&&Dy(l),jr&&typeof jr.setStrictMode=="function")try{jr.setStrictMode(cu,l)}catch{}}function fe(l,f){return l===f&&(l!==0||1/l===1/f)||l!==l&&f!==f}function ue(l){if(Ud===void 0)try{throw Error()}catch(v){var f=v.stack.trim().match(/\n( *(at )?)/);Ud=f&&f[1]||"",Ga=-1<v.stack.indexOf(`
    at`)?" (<anonymous>)":-1<v.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ud+l+Ga}function Z(l,f){if(!l||Ff)return"";Ff=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Kt){var yt=Kt}Reflect.construct(l,[],$e)}else{try{$e.call()}catch(Kt){yt=Kt}l.call($e.prototype)}}else{try{throw Error()}catch(Kt){yt=Kt}($e=l())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Kt){if(Kt&&yt&&typeof Kt.stack=="string")return[Kt.stack,yt.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var C=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");C&&C.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=b.DetermineComponentFrameRoot(),V=N[0],se=N[1];if(V&&se){var Oe=V.split(`
`),je=se.split(`
`);for(C=b=0;b<Oe.length&&!Oe[b].includes("DetermineComponentFrameRoot");)b++;for(;C<je.length&&!je[C].includes("DetermineComponentFrameRoot");)C++;if(b===Oe.length||C===je.length)for(b=Oe.length-1,C=je.length-1;1<=b&&0<=C&&Oe[b]!==je[C];)C--;for(;1<=b&&0<=C;b--,C--)if(Oe[b]!==je[C]){if(b!==1||C!==1)do if(b--,C--,0>C||Oe[b]!==je[C]){var ut=`
`+Oe[b].replace(" at new "," at ");return l.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",l.displayName)),ut}while(1<=b&&0<=C);break}}}finally{Ff=!1,Error.prepareStackTrace=v}return(v=l?l.displayName||l.name:"")?ue(v):""}function J(l,f){switch(l.tag){case 26:case 27:case 5:return ue(l.type);case 16:return ue("Lazy");case 13:return l.child!==f&&f!==null?ue("Suspense Fallback"):ue("Suspense");case 19:return ue("SuspenseList");case 0:case 15:return Z(l.type,!1);case 11:return Z(l.type.render,!1);case 1:return Z(l.type,!0);case 31:return ue("Activity");default:return""}}function he(l){try{var f="",v=null;do f+=J(l,v),v=l,l=l.return;while(l);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}function Pe(l,f){if(typeof l=="object"&&l!==null){var v=mg.get(l);return v!==void 0?v:(f={value:l,source:f,stack:he(f)},mg.set(l,f),f)}return{value:l,source:f,stack:he(f)}}function Ue(l,f){Mo[Wa++]=Bf,Mo[Wa++]=kn,kn=l,Bf=f}function j(l,f,v){ks[gs++]=cr,ks[gs++]=ua,ks[gs++]=Vs,Vs=l;var b=cr;l=ua;var C=32-Xr(b)-1;b&=~(1<<C),v+=1;var N=32-Xr(f)+C;if(30<N){var V=C-C%5;N=(b&(1<<V)-1).toString(32),b>>=V,C-=V,cr=1<<32-Xr(f)+C|v<<C|b,ua=N+l}else cr=1<<N|v<<C|b,ua=l}function le(l){l.return!==null&&(Ue(l,1),j(l,1,0))}function Re(l){for(;l===kn;)kn=Mo[--Wa],Mo[Wa]=null,Bf=Mo[--Wa],Mo[Wa]=null;for(;l===Vs;)Vs=ks[--gs],ks[gs]=null,ua=ks[--gs],ks[gs]=null,cr=ks[--gs],ks[gs]=null}function ze(l,f){ks[gs++]=cr,ks[gs++]=ua,ks[gs++]=Vs,cr=f.id,ua=f.overflow,Vs=l}function rt(l,f){E(fr,f),E(Eo,l),E(rr,null),l=Gv(f),x(rr),E(rr,l)}function ge(){x(rr),x(Eo),x(fr)}function De(l){l.memoizedState!==null&&E(kf,l);var f=rr.current,v=cc(f,l.type);f!==v&&(E(Eo,l),E(rr,v))}function it(l){Eo.current===l&&(x(rr),x(Eo)),kf.current===l&&(x(kf),_i?au._currentValue=su:au._currentValue2=su)}function ne(l){var f=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xe(Pe(f,l)),zd}function ft(l,f){if(!Jn)throw Error(i(175));my(l.stateNode,l.type,l.memoizedProps,f,l)||ne(l,!0)}function _t(l){for(Xi=l.return;Xi;)switch(Xi.tag){case 5:case 31:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:Xi=Xi.return}}function Yt(l){if(!Jn||l!==Xi)return!1;if(!pn)return _t(l),pn=!0,!1;var f=l.tag;if(Wi?f!==3&&f!==27&&(f!==5||dc(l.type)&&!Dr(l.type,l.memoizedProps))&&ei&&ne(l):f!==3&&(f!==5||dc(l.type)&&!Dr(l.type,l.memoizedProps))&&ei&&ne(l),_t(l),f===13){if(!Jn)throw Error(i(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));ei=ig(l)}else if(f===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(317));ei=vy(l)}else ei=Wi&&f===27?oy(l.type,ei):Xi?ay(l.stateNode):null;return!0}function Et(){Jn&&(ei=Xi=null,pn=!1)}function ve(){var l=Xa;return l!==null&&(Zr===null?Zr=l:Zr.push.apply(Zr,l),Xa=null),l}function Xe(l){Xa===null?Xa=[l]:Xa.push(l)}function Ae(l,f,v){_i?(E(Hs,f._currentValue),f._currentValue=v):(E(Hs,f._currentValue2),f._currentValue2=v)}function be(l){var f=Hs.current;_i?l._currentValue=f:l._currentValue2=f,x(Hs)}function Y(l,f,v){for(;l!==null;){var b=l.alternate;if((l.childLanes&f)!==f?(l.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),l===v)break;l=l.return}}function dt(l,f,v,b){var C=l.child;for(C!==null&&(C.return=l);C!==null;){var N=C.dependencies;if(N!==null){var V=C.child;N=N.firstContext;e:for(;N!==null;){var se=N;N=C;for(var Oe=0;Oe<f.length;Oe++)if(se.context===f[Oe]){N.lanes|=v,se=N.alternate,se!==null&&(se.lanes|=v),Y(N.return,v,l),b||(V=null);break e}N=se.next}}else if(C.tag===18){if(V=C.return,V===null)throw Error(i(341));V.lanes|=v,N=V.alternate,N!==null&&(N.lanes|=v),Y(V,v,l),V=null}else V=C.child;if(V!==null)V.return=C;else for(V=C;V!==null;){if(V===l){V=null;break}if(C=V.sibling,C!==null){C.return=V.return,V=C;break}V=V.return}C=V}}function Te(l,f,v,b){l=null;for(var C=f,N=!1;C!==null;){if(!N){if((C.flags&524288)!==0)N=!0;else if((C.flags&262144)!==0)break}if(C.tag===10){var V=C.alternate;if(V===null)throw Error(i(387));if(V=V.memoizedProps,V!==null){var se=C.type;bi(C.pendingProps.value,V.value)||(l!==null?l.push(se):l=[se])}}else if(C===kf.current){if(V=C.alternate,V===null)throw Error(i(387));V.memoizedState.memoizedState!==C.memoizedState.memoizedState&&(l!==null?l.push(au):l=[au])}C=C.return}l!==null&&dt(f,l,v,b),f.flags|=262144}function Ct(l){for(l=l.firstContext;l!==null;){var f=l.context;if(!bi(_i?f._currentValue:f._currentValue2,l.memoizedValue))return!0;l=l.next}return!1}function Je(l){Xn=l,ca=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function q(l){return oe(Xn,l)}function F(l,f){return Xn===null&&Je(l),oe(l,f)}function oe(l,f){var v=_i?f._currentValue:f._currentValue2;if(f={context:f,memoizedValue:v,next:null},ca===null){if(l===null)throw Error(i(308));ca=f,l.dependencies={lanes:0,firstContext:f},l.flags|=524288}else ca=ca.next=f;return v}function Le(){return{controller:new Ny,data:new Map,refCount:0}}function Be(l){l.refCount--,l.refCount===0&&sr(A1,function(){l.controller.abort()})}function _e(){}function st(l){l!==In&&l.next===null&&(In===null?Vf=In=l:In=In.next=l),Gs=!0,br||(br=!0,te())}function Ge(l,f){if(!Fd&&Gs){Fd=!0;do for(var v=!1,b=Vf;b!==null;){if(l!==0){var C=b.pendingLanes;if(C===0)var N=0;else{var V=b.suspendedLanes,se=b.pingedLanes;N=(1<<31-Xr(42|l)+1)-1,N&=C&~(V&~se),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(v=!0,pt(b,N))}else N=mn,N=M(b,b===on?N:0,b.cancelPendingCommit!==null||b.timeoutHandle!==Wr),(N&3)===0||R(b,N)||(v=!0,pt(b,N));b=b.next}while(v);Fd=!1}}function Ke(){Mt()}function Mt(){Gs=br=!1;var l=0;al!==0&&ru()&&(l=al);for(var f=xr(),v=null,b=Vf;b!==null;){var C=b.next,N=qe(b,f);N===0?(b.next=null,v===null?Vf=C:v.next=C,C===null&&(In=v)):(v=b,(l!==0||(N&3)!==0)&&(Gs=!0)),b=C}Ui!==0&&Ui!==5||Ge(l),al!==0&&(al=0)}function qe(l,f){for(var v=l.suspendedLanes,b=l.pingedLanes,C=l.expirationTimes,N=l.pendingLanes&-62914561;0<N;){var V=31-Xr(N),se=1<<V,Oe=C[V];Oe===-1?((se&v)===0||(se&b)!==0)&&(C[V]=D(se,f)):Oe<=f&&(l.expiredLanes|=se),N&=~se}if(f=on,v=mn,v=M(l,l===f?v:0,l.cancelPendingCommit!==null||l.timeoutHandle!==Wr),b=l.callbackNode,v===0||l===f&&(Un===2||Un===9)||l.cancelPendingCommit!==null)return b!==null&&b!==null&&Ld(b),l.callbackNode=null,l.callbackPriority=0;if((v&3)===0||R(l,v)){if(f=v&-v,f===l.callbackPriority)return f;switch(b!==null&&Ld(b),ee(v)){case 2:case 8:v=Ry;break;case 32:v=zf;break;case 268435456:v=Id;break;default:v=zf}return b=nt.bind(null,l),v=Uf(v,b),l.callbackPriority=f,l.callbackNode=v,f}return b!==null&&b!==null&&Ld(b),l.callbackPriority=2,l.callbackNode=null,2}function nt(l,f){if(Ui!==0&&Ui!==5)return l.callbackNode=null,l.callbackPriority=0,null;var v=l.callbackNode;if(ka()&&l.callbackNode!==v)return null;var b=mn;return b=M(l,l===on?b:0,l.cancelPendingCommit!==null||l.timeoutHandle!==Wr),b===0?null:(la(l,b,f),qe(l,xr()),l.callbackNode!=null&&l.callbackNode===v?nt.bind(null,l):null)}function pt(l,f){if(ka())return null;la(l,f,!0)}function te(){Vm?Hm(function(){(fn&6)!==0?Uf(Od,Ke):Mt()}):Uf(Od,Ke)}function ye(){if(al===0){var l=To;l===0&&(l=Nd,Nd<<=1,(Nd&261888)===0&&(Nd=256)),al=l}return al}function lt(l,f){if(mc===null){var v=mc=[];gg=0,To=ye(),ji={status:"pending",value:void 0,then:function(b){v.push(b)}}}return gg++,f.then(ie,ie),f}function ie(){if(--gg===0&&mc!==null){ji!==null&&(ji.status="fulfilled");var l=mc;mc=null,To=0,ji=null;for(var f=0;f<l.length;f++)(0,l[f])()}}function et(l,f){var v=[],b={status:"pending",value:null,reason:null,then:function(C){v.push(C)}};return l.then(function(){b.status="fulfilled",b.value=f;for(var C=0;C<v.length;C++)(0,v[C])(f)},function(C){for(b.status="rejected",b.reason=C,C=0;C<v.length;C++)(0,v[C])(void 0)}),b}function Ye(){var l=ol.current;return l!==null?l:on.pooledCache}function ct(l,f){f===null?E(ol,ol.current):E(ol,f.pool)}function Ze(){var l=Ye();return l===null?null:{parent:_i?ti._currentValue:ti._currentValue2,pool:l}}function ke(l,f){if(bi(l,f))return!0;if(typeof l!="object"||l===null||typeof f!="object"||f===null)return!1;var v=Object.keys(l),b=Object.keys(f);if(v.length!==b.length)return!1;for(b=0;b<v.length;b++){var C=v[b];if(!w1.call(f,C)||!bi(l[C],f[C]))return!1}return!0}function tt(l){return l=l.status,l==="fulfilled"||l==="rejected"}function Nt(l,f,v){switch(v=l[v],v===void 0?l.push(f):v!==f&&(f.then(_e,_e),f=v),f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,ri(l),l;default:if(typeof f.status=="string")f.then(_e,_e);else{if(l=on,l!==null&&100<l.shellSuspendCounter)throw Error(i(482));l=f,l.status="pending",l.then(function(b){if(f.status==="pending"){var C=f;C.status="fulfilled",C.value=b}},function(b){if(f.status==="pending"){var C=f;C.status="rejected",C.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw l=f.reason,ri(l),l}throw Lr=f,qi}}function en(l){try{var f=l._init;return f(l._payload)}catch(v){throw v!==null&&typeof v=="object"&&typeof v.then=="function"?(Lr=v,qi):v}}function rn(){if(Lr===null)throw Error(i(459));var l=Lr;return Lr=null,l}function ri(l){if(l===qi||l===Xs)throw Error(i(483))}function ki(l){var f=fu;return fu+=1,ll===null&&(ll=[]),Nt(ll,l,f)}function Fo(l,f){f=f.props.ref,l.ref=f!==void 0?f:null}function Bo(l,f){throw f.$$typeof===Jl?Error(i(525)):(l=Object.prototype.toString.call(f),Error(i(31,l==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":l)))}function kl(l){function f(Ee,me){if(l){var Ne=Ee.deletions;Ne===null?(Ee.deletions=[me],Ee.flags|=16):Ne.push(me)}}function v(Ee,me){if(!l)return null;for(;me!==null;)f(Ee,me),me=me.sibling;return null}function b(Ee){for(var me=new Map;Ee!==null;)Ee.key!==null?me.set(Ee.key,Ee):me.set(Ee.index,Ee),Ee=Ee.sibling;return me}function C(Ee,me){return Ee=ps(Ee,me),Ee.index=0,Ee.sibling=null,Ee}function N(Ee,me,Ne){return Ee.index=Ne,l?(Ne=Ee.alternate,Ne!==null?(Ne=Ne.index,Ne<me?(Ee.flags|=67108866,me):Ne):(Ee.flags|=67108866,me)):(Ee.flags|=1048576,me)}function V(Ee){return l&&Ee.alternate===null&&(Ee.flags|=67108866),Ee}function se(Ee,me,Ne,ot){return me===null||me.tag!==6?(me=Dm(Ne,Ee.mode,ot),me.return=Ee,me):(me=C(me,Ne),me.return=Ee,me)}function Oe(Ee,me,Ne,ot){var zt=Ne.type;return zt===tu?ut(Ee,me,Ne.props.children,ot,Ne.key):me!==null&&(me.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===Rr&&en(zt)===me.type)?(me=C(me,Ne.props),Fo(me,Ne),me.return=Ee,me):(me=yo(Ne.type,Ne.key,Ne.props,null,Ee.mode,ot),Fo(me,Ne),me.return=Ee,me)}function je(Ee,me,Ne,ot){return me===null||me.tag!==4||me.stateNode.containerInfo!==Ne.containerInfo||me.stateNode.implementation!==Ne.implementation?(me=Lm(Ne,Ee.mode,ot),me.return=Ee,me):(me=C(me,Ne.children||[]),me.return=Ee,me)}function ut(Ee,me,Ne,ot,zt){return me===null||me.tag!==7?(me=Us(Ne,Ee.mode,ot,zt),me.return=Ee,me):(me=C(me,Ne),me.return=Ee,me)}function $e(Ee,me,Ne){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return me=Dm(""+me,Ee.mode,Ne),me.return=Ee,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case Va:return Ne=yo(me.type,me.key,me.props,null,Ee.mode,Ne),Fo(Ne,me),Ne.return=Ee,Ne;case eu:return me=Lm(me,Ee.mode,Ne),me.return=Ee,me;case Rr:return me=en(me),$e(Ee,me,Ne)}if(nl(me)||g(me))return me=Us(me,Ee.mode,Ne,null),me.return=Ee,me;if(typeof me.then=="function")return $e(Ee,ki(me),Ne);if(me.$$typeof===zs)return $e(Ee,F(Ee,me),Ne);Bo(Ee,me)}return null}function yt(Ee,me,Ne,ot){var zt=me!==null?me.key:null;if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return zt!==null?null:se(Ee,me,""+Ne,ot);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Va:return Ne.key===zt?Oe(Ee,me,Ne,ot):null;case eu:return Ne.key===zt?je(Ee,me,Ne,ot):null;case Rr:return Ne=en(Ne),yt(Ee,me,Ne,ot)}if(nl(Ne)||g(Ne))return zt!==null?null:ut(Ee,me,Ne,ot,null);if(typeof Ne.then=="function")return yt(Ee,me,ki(Ne),ot);if(Ne.$$typeof===zs)return yt(Ee,me,F(Ee,Ne),ot);Bo(Ee,Ne)}return null}function Kt(Ee,me,Ne,ot,zt){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return Ee=Ee.get(Ne)||null,se(me,Ee,""+ot,zt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case Va:return Ee=Ee.get(ot.key===null?Ne:ot.key)||null,Oe(me,Ee,ot,zt);case eu:return Ee=Ee.get(ot.key===null?Ne:ot.key)||null,je(me,Ee,ot,zt);case Rr:return ot=en(ot),Kt(Ee,me,Ne,ot,zt)}if(nl(ot)||g(ot))return Ee=Ee.get(Ne)||null,ut(me,Ee,ot,zt,null);if(typeof ot.then=="function")return Kt(Ee,me,Ne,ki(ot),zt);if(ot.$$typeof===zs)return Kt(Ee,me,Ne,F(me,ot),zt);Bo(me,ot)}return null}function Ei(Ee,me,Ne,ot){for(var zt=null,hi=null,Bt=me,bn=me=0,ar=null;Bt!==null&&bn<Ne.length;bn++){Bt.index>bn?(ar=Bt,Bt=null):ar=Bt.sibling;var An=yt(Ee,Bt,Ne[bn],ot);if(An===null){Bt===null&&(Bt=ar);break}l&&Bt&&An.alternate===null&&f(Ee,Bt),me=N(An,me,bn),hi===null?zt=An:hi.sibling=An,hi=An,Bt=ar}if(bn===Ne.length)return v(Ee,Bt),pn&&Ue(Ee,bn),zt;if(Bt===null){for(;bn<Ne.length;bn++)Bt=$e(Ee,Ne[bn],ot),Bt!==null&&(me=N(Bt,me,bn),hi===null?zt=Bt:hi.sibling=Bt,hi=Bt);return pn&&Ue(Ee,bn),zt}for(Bt=b(Bt);bn<Ne.length;bn++)ar=Kt(Bt,Ee,bn,Ne[bn],ot),ar!==null&&(l&&ar.alternate!==null&&Bt.delete(ar.key===null?bn:ar.key),me=N(ar,me,bn),hi===null?zt=ar:hi.sibling=ar,hi=ar);return l&&Bt.forEach(function(Ys){return f(Ee,Ys)}),pn&&Ue(Ee,bn),zt}function Mc(Ee,me,Ne,ot){if(Ne==null)throw Error(i(151));for(var zt=null,hi=null,Bt=me,bn=me=0,ar=null,An=Ne.next();Bt!==null&&!An.done;bn++,An=Ne.next()){Bt.index>bn?(ar=Bt,Bt=null):ar=Bt.sibling;var Ys=yt(Ee,Bt,An.value,ot);if(Ys===null){Bt===null&&(Bt=ar);break}l&&Bt&&Ys.alternate===null&&f(Ee,Bt),me=N(Ys,me,bn),hi===null?zt=Ys:hi.sibling=Ys,hi=Ys,Bt=ar}if(An.done)return v(Ee,Bt),pn&&Ue(Ee,bn),zt;if(Bt===null){for(;!An.done;bn++,An=Ne.next())An=$e(Ee,An.value,ot),An!==null&&(me=N(An,me,bn),hi===null?zt=An:hi.sibling=An,hi=An);return pn&&Ue(Ee,bn),zt}for(Bt=b(Bt);!An.done;bn++,An=Ne.next())An=Kt(Bt,Ee,bn,An.value,ot),An!==null&&(l&&An.alternate!==null&&Bt.delete(An.key===null?bn:An.key),me=N(An,me,bn),hi===null?zt=An:hi.sibling=An,hi=An);return l&&Bt.forEach(function(C1){return f(Ee,C1)}),pn&&Ue(Ee,bn),zt}function gl(Ee,me,Ne,ot){if(typeof Ne=="object"&&Ne!==null&&Ne.type===tu&&Ne.key===null&&(Ne=Ne.props.children),typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case Va:e:{for(var zt=Ne.key;me!==null;){if(me.key===zt){if(zt=Ne.type,zt===tu){if(me.tag===7){v(Ee,me.sibling),ot=C(me,Ne.props.children),ot.return=Ee,Ee=ot;break e}}else if(me.elementType===zt||typeof zt=="object"&&zt!==null&&zt.$$typeof===Rr&&en(zt)===me.type){v(Ee,me.sibling),ot=C(me,Ne.props),Fo(ot,Ne),ot.return=Ee,Ee=ot;break e}v(Ee,me);break}else f(Ee,me);me=me.sibling}Ne.type===tu?(ot=Us(Ne.props.children,Ee.mode,ot,Ne.key),ot.return=Ee,Ee=ot):(ot=yo(Ne.type,Ne.key,Ne.props,null,Ee.mode,ot),Fo(ot,Ne),ot.return=Ee,Ee=ot)}return V(Ee);case eu:e:{for(zt=Ne.key;me!==null;){if(me.key===zt)if(me.tag===4&&me.stateNode.containerInfo===Ne.containerInfo&&me.stateNode.implementation===Ne.implementation){v(Ee,me.sibling),ot=C(me,Ne.children||[]),ot.return=Ee,Ee=ot;break e}else{v(Ee,me);break}else f(Ee,me);me=me.sibling}ot=Lm(Ne,Ee.mode,ot),ot.return=Ee,Ee=ot}return V(Ee);case Rr:return Ne=en(Ne),gl(Ee,me,Ne,ot)}if(nl(Ne))return Ei(Ee,me,Ne,ot);if(g(Ne)){if(zt=g(Ne),typeof zt!="function")throw Error(i(150));return Ne=zt.call(Ne),Mc(Ee,me,Ne,ot)}if(typeof Ne.then=="function")return gl(Ee,me,ki(Ne),ot);if(Ne.$$typeof===zs)return gl(Ee,me,F(Ee,Ne),ot);Bo(Ee,Ne)}return typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint"?(Ne=""+Ne,me!==null&&me.tag===6?(v(Ee,me.sibling),ot=C(me,Ne),ot.return=Ee,Ee=ot):(v(Ee,me),ot=Dm(Ne,Ee.mode,ot),ot.return=Ee,Ee=ot),V(Ee)):v(Ee,me)}return function(Ee,me,Ne,ot){try{fu=0;var zt=gl(Ee,me,Ne,ot);return ll=null,zt}catch(Bt){if(Bt===qi||Bt===Xs)throw Bt;var hi=t(29,Bt,null,Ee.mode);return hi.lanes=ot,hi.return=Ee,hi}finally{}}}function ko(){for(var l=qa,f=hu=qa=0;f<l;){var v=dr[f];dr[f++]=null;var b=dr[f];dr[f++]=null;var C=dr[f];dr[f++]=null;var N=dr[f];if(dr[f++]=null,b!==null&&C!==null){var V=b.pending;V===null?C.next=C:(C.next=V.next,V.next=C),b.pending=C}N!==0&&os(v,C,N)}}function oo(l,f,v,b){dr[qa++]=l,dr[qa++]=f,dr[qa++]=v,dr[qa++]=b,hu|=b,l.lanes|=b,l=l.alternate,l!==null&&(l.lanes|=b)}function Vl(l,f,v,b){return oo(l,f,v,b),si(l)}function yr(l,f){return oo(l,null,null,f),si(l)}function os(l,f,v){l.lanes|=v;var b=l.alternate;b!==null&&(b.lanes|=v);for(var C=!1,N=l.return;N!==null;)N.childLanes|=v,b=N.alternate,b!==null&&(b.childLanes|=v),N.tag===22&&(l=N.stateNode,l===null||l._visibility&1||(C=!0)),l=N,N=N.return;return l.tag===3?(N=l.stateNode,C&&f!==null&&(C=31-Xr(v),l=N.hiddenUpdates,b=l[C],b===null?l[C]=[f]:b.push(f),f.lane=v|536870912),N):null}function si(l){if(50<Tn)throw Tn=0,qf=null,Error(i(185));for(var f=l.return;f!==null;)l=f,f=l.return;return l.tag===3?l.stateNode:null}function Vi(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ls(l,f){l=l.updateQueue,f.updateQueue===l&&(f.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function us(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function cs(l,f,v){var b=l.updateQueue;if(b===null)return null;if(b=b.shared,(fn&2)!==0){var C=b.pending;return C===null?f.next=f:(f.next=C.next,C.next=f),b.pending=f,f=si(l),os(l,null,v),f}return oo(l,b,f,v),si(l)}function Vo(l,f,v){if(f=f.updateQueue,f!==null&&(f=f.shared,(v&4194048)!==0)){var b=f.lanes;b&=l.pendingLanes,v|=b,f.lanes=v,I(l,v)}}function Hl(l,f){var v=l.updateQueue,b=l.alternate;if(b!==null&&(b=b.updateQueue,v===b)){var C=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var V={lane:v.lane,tag:v.tag,payload:v.payload,callback:null,next:null};N===null?C=N=V:N=N.next=V,v=v.next}while(v!==null);N===null?C=N=f:N=N.next=f}else C=N=f;v={baseState:b.baseState,firstBaseUpdate:C,lastBaseUpdate:N,shared:b.shared,callbacks:b.callbacks},l.updateQueue=v;return}l=v.lastBaseUpdate,l===null?v.firstBaseUpdate=f:l.next=f,v.lastBaseUpdate=f}function aa(){if(kd){var l=ji;if(l!==null)throw l}}function lo(l,f,v,b){kd=!1;var C=l.updateQueue;vs=!1;var N=C.firstBaseUpdate,V=C.lastBaseUpdate,se=C.shared.pending;if(se!==null){C.shared.pending=null;var Oe=se,je=Oe.next;Oe.next=null,V===null?N=je:V.next=je,V=Oe;var ut=l.alternate;ut!==null&&(ut=ut.updateQueue,se=ut.lastBaseUpdate,se!==V&&(se===null?ut.firstBaseUpdate=je:se.next=je,ut.lastBaseUpdate=Oe))}if(N!==null){var $e=C.baseState;V=0,ut=je=Oe=null,se=N;do{var yt=se.lane&-536870913,Kt=yt!==se.lane;if(Kt?(mn&yt)===yt:(b&yt)===yt){yt!==0&&yt===To&&(kd=!0),ut!==null&&(ut=ut.next={lane:0,tag:se.tag,payload:se.payload,callback:null,next:null});e:{var Ei=l,Mc=se;yt=f;var gl=v;switch(Mc.tag){case 1:if(Ei=Mc.payload,typeof Ei=="function"){$e=Ei.call(gl,$e,yt);break e}$e=Ei;break e;case 3:Ei.flags=Ei.flags&-65537|128;case 0:if(Ei=Mc.payload,yt=typeof Ei=="function"?Ei.call(gl,$e,yt):Ei,yt==null)break e;$e=pd({},$e,yt);break e;case 2:vs=!0}}yt=se.callback,yt!==null&&(l.flags|=64,Kt&&(l.flags|=8192),Kt=C.callbacks,Kt===null?C.callbacks=[yt]:Kt.push(yt))}else Kt={lane:yt,tag:se.tag,payload:se.payload,callback:se.callback,next:null},ut===null?(je=ut=Kt,Oe=$e):ut=ut.next=Kt,V|=yt;if(se=se.next,se===null){if(se=C.shared.pending,se===null)break;Kt=se,se=Kt.next,Kt.next=null,C.lastBaseUpdate=Kt,C.shared.pending=null}}while(!0);ut===null&&(Oe=$e),C.baseState=Oe,C.firstBaseUpdate=je,C.lastBaseUpdate=ut,N===null&&(C.shared.lanes=0),Ao|=V,l.lanes=V,l.memoizedState=$e}}function uo(l,f){if(typeof l!="function")throw Error(i(191,l));l.call(f)}function co(l,f){var v=l.callbacks;if(v!==null)for(l.callbacks=null,l=0;l<v.length;l++)uo(v[l],f)}function Ho(l,f){l=Za,E(ul,l),E(du,f),Za=l|f.baseLanes}function Ca(){E(ul,Za),E(du,du.current)}function H(){Za=ul.current,x(du),x(ul)}function ce(l){var f=l.alternate;E(mi,mi.current&1),E(qr,l),Yr===null&&(f===null||du.current!==null||f.memoizedState!==null)&&(Yr=l)}function Ce(l){E(mi,mi.current),E(qr,l),Yr===null&&(Yr=l)}function Me(l){l.tag===22?(E(mi,mi.current),E(qr,l),Yr===null&&(Yr=l)):pe()}function pe(){E(mi,mi.current),E(qr,qr.current)}function at(l){x(qr),Yr===l&&(Yr=null),x(mi)}function vt(l){for(var f=l;f!==null;){if(f.tag===13){var v=f.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||rl(v)||Sd(v)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}function Qe(){throw Error(i(321))}function St(l,f){if(f===null)return!1;for(var v=0;v<f.length&&v<l.length;v++)if(!bi(l[v],f[v]))return!1;return!0}function Tt(l,f,v,b,C,N){return wo=N,Qt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,Pt.H=l===null||l.memoizedState===null?ui:Ya,yn=!1,N=v(b,C),yn=!1,tn&&(N=wt(f,v,b,C)),It(l),N}function It(l){Pt.H=ys;var f=Dt!==null&&Dt.next!==null;if(wo=0,qt=Dt=Qt=null,an=!1,js=0,fa=null,f)throw Error(i(300));l===null||Zn||(l=l.dependencies,l!==null&&Ct(l)&&(Zn=!0))}function wt(l,f,v,b){Qt=l;var C=0;do{if(tn&&(fa=null),js=0,tn=!1,25<=C)throw Error(i(301));if(C+=1,qt=Dt=null,l.updateQueue!=null){var N=l.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Pt.H=cl,N=f(v,b)}while(tn);return N}function Ft(){var l=Pt.H,f=l.useState()[0];return f=typeof f.then=="function"?Vt(f):f,l=l.useState()[0],(Dt!==null?Dt.memoizedState:null)!==l&&(Qt.flags|=1024),f}function En(){var l=Sr!==0;return Sr=0,l}function Hn(l,f,v){f.updateQueue=l.updateQueue,f.flags&=-2053,l.lanes&=~v}function Fn(l){if(an){for(l=l.memoizedState;l!==null;){var f=l.queue;f!==null&&(f.pending=null),l=l.next}an=!1}wo=0,qt=Dt=Qt=null,tn=!1,js=Sr=0,fa=null}function Zt(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?Qt.memoizedState=qt=l:qt=qt.next=l,qt}function ht(){if(Dt===null){var l=Qt.alternate;l=l!==null?l.memoizedState:null}else l=Dt.next;var f=qt===null?Qt.memoizedState:qt.next;if(f!==null)qt=f,Dt=l;else{if(l===null)throw Qt.alternate===null?Error(i(467)):Error(i(310));Dt=l,l={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},qt===null?Qt.memoizedState=qt=l:qt=qt.next=l}return qt}function xn(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vt(l){var f=js;return js+=1,fa===null&&(fa=[]),l=Nt(fa,l,f),f=Qt,(qt===null?f.memoizedState:qt.next)===null&&(f=f.alternate,Pt.H=f===null||f.memoizedState===null?ui:Ya),l}function Ni(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Vt(l);if(l.$$typeof===zs)return q(l)}throw Error(i(438,String(l)))}function oa(l){var f=null,v=Qt.updateQueue;if(v!==null&&(f=v.memoCache),f==null){var b=Qt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(C){return C.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),v===null&&(v=xn(),Qt.updateQueue=v),v.memoCache=f,v=f.data[f.index],v===void 0)for(v=f.data[f.index]=Array(l),b=0;b<l;b++)v[b]=Im;return f.index++,v}function Yn(l,f){return typeof f=="function"?f(l):f}function Tr(l){var f=ht();return Cn(f,Dt,l)}function Cn(l,f,v){var b=l.queue;if(b===null)throw Error(i(311));b.lastRenderedReducer=v;var C=l.baseQueue,N=b.pending;if(N!==null){if(C!==null){var V=C.next;C.next=N.next,N.next=V}f.baseQueue=C=N,b.pending=null}if(N=l.baseState,C===null)l.memoizedState=N;else{f=C.next;var se=V=null,Oe=null,je=f,ut=!1;do{var $e=je.lane&-536870913;if($e!==je.lane?(mn&$e)===$e:(wo&$e)===$e){var yt=je.revertLane;if(yt===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),$e===To&&(ut=!0);else if((wo&yt)===yt){je=je.next,yt===To&&(ut=!0);continue}else $e={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},Oe===null?(se=Oe=$e,V=N):Oe=Oe.next=$e,Qt.lanes|=yt,Ao|=yt;$e=je.action,yn&&v(N,$e),N=je.hasEagerState?je.eagerState:v(N,$e)}else yt={lane:$e,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},Oe===null?(se=Oe=yt,V=N):Oe=Oe.next=yt,Qt.lanes|=$e,Ao|=$e;je=je.next}while(je!==null&&je!==f);if(Oe===null?V=N:Oe.next=se,!bi(N,l.memoizedState)&&(Zn=!0,ut&&(v=ji,v!==null)))throw v;l.memoizedState=N,l.baseState=V,l.baseQueue=Oe,b.lastRenderedState=N}return C===null&&(b.lanes=0),[l.memoizedState,b.dispatch]}function Hi(l){var f=ht(),v=f.queue;if(v===null)throw Error(i(311));v.lastRenderedReducer=l;var b=v.dispatch,C=v.pending,N=f.memoizedState;if(C!==null){v.pending=null;var V=C=C.next;do N=l(N,V.action),V=V.next;while(V!==C);bi(N,f.memoizedState)||(Zn=!0),f.memoizedState=N,f.baseQueue===null&&(f.baseState=N),v.lastRenderedState=N}return[N,b]}function Li(l,f,v){var b=Qt,C=ht(),N=pn;if(N){if(v===void 0)throw Error(i(407));v=v()}else v=f();var V=!bi((Dt||C).memoizedState,v);if(V&&(C.memoizedState=v,Zn=!0),C=C.queue,Gu(Gl.bind(null,b,C,l),[l]),C.getSnapshot!==f||V||qt!==null&&qt.memoizedState.tag&1){if(b.flags|=2048,fs(9,{destroy:void 0},er.bind(null,b,C,v,f),null),on===null)throw Error(i(349));N||(wo&127)!==0||Ji(b,f,v)}return v}function Ji(l,f,v){l.flags|=16384,l={getSnapshot:f,value:v},f=Qt.updateQueue,f===null?(f=xn(),Qt.updateQueue=f,f.stores=[l]):(v=f.stores,v===null?f.stores=[l]:v.push(l))}function er(l,f,v,b){f.value=v,f.getSnapshot=b,Ds(f)&&fv(l)}function Gl(l,f,v){return v(function(){Ds(f)&&fv(l)})}function Ds(l){var f=l.getSnapshot;l=l.value;try{var v=f();return!bi(l,v)}catch{return!0}}function fv(l){var f=yr(l,2);f!==null&&oi(f,l,2)}function sm(l){var f=Zt();if(typeof l=="function"){var v=l;if(l=v(),yn){Q(!0);try{v()}finally{Q(!1)}}}return f.memoizedState=f.baseState=l,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:l},f}function uf(l,f,v,b){return l.baseState=v,Cn(l,Dt,typeof b=="function"?b:Yn)}function fo(l,f,v,b,C){if(Yh(l))throw Error(i(485));if(l=f.action,l!==null){var N={payload:C,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};Pt.T!==null?v(!0):N.isTransition=!1,b(N),v=f.pending,v===null?(N.next=f.pending=N,Vh(f,N)):(N.next=v.next,f.pending=v.next=N)}}function Vh(l,f){var v=f.action,b=f.payload,C=l.state;if(f.isTransition){var N=Pt.T,V={};Pt.T=V;try{var se=v(C,b),Oe=Pt.S;Oe!==null&&Oe(V,se),Hh(l,f,se)}catch(je){Go(l,f,je)}finally{N!==null&&V.types!==null&&(N.types=V.types),Pt.T=N}}else try{N=v(C,b),Hh(l,f,N)}catch(je){Go(l,f,je)}}function Hh(l,f,v){v!==null&&typeof v=="object"&&typeof v.then=="function"?v.then(function(b){Wl(l,f,b)},function(b){return Go(l,f,b)}):Wl(l,f,v)}function Wl(l,f,v){f.status="fulfilled",f.value=v,am(f),l.state=v,f=l.pending,f!==null&&(v=f.next,v===f?l.pending=null:(v=v.next,f.next=v,Vh(l,v)))}function Go(l,f,v){var b=l.pending;if(l.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=v,am(f),f=f.next;while(f!==b)}l.action=null}function am(l){l=l.listeners;for(var f=0;f<l.length;f++)(0,l[f])()}function Gh(l,f){return f}function om(l,f){if(pn){var v=on.formState;if(v!==null){e:{var b=Qt;if(pn){if(ei){var C=sy(ei,Nr);if(C){ei=ay(C),b=Jm(C);break e}}ne(b)}b=!1}b&&(f=v[0])}}v=Zt(),v.memoizedState=v.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gh,lastRenderedState:f},v.queue=b,v=vv.bind(null,Qt,b),b.dispatch=v,b=sm(!1);var N=qh.bind(null,Qt,!1,b.queue);return b=Zt(),C={state:f,dispatch:null,action:l,pending:null},b.queue=C,v=fo.bind(null,Qt,C,N,v),C.dispatch=v,b.memoizedState=l,[f,v,!1]}function Vu(l){var f=ht();return Ra(f,Dt,l)}function Ra(l,f,v){if(f=Cn(l,f,Gh)[0],l=Tr(Yn)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=Vt(f)}catch(V){throw V===qi?Xs:V}else b=f;f=ht();var C=f.queue,N=C.dispatch;return v!==f.memoizedState&&(Qt.flags|=2048,fs(9,{destroy:void 0},lm.bind(null,C,v),null)),[b,N,l]}function lm(l,f){l.action=f}function Hu(l){var f=ht(),v=Dt;if(v!==null)return Ra(f,v,l);ht(),f=f.memoizedState,v=ht();var b=v.queue.dispatch;return v.memoizedState=l,[f,b,!1]}function fs(l,f,v,b){return l={tag:l,create:v,deps:b,inst:f,next:null},f=Qt.updateQueue,f===null&&(f=xn(),Qt.updateQueue=f),v=f.lastEffect,v===null?f.lastEffect=l.next=l:(b=v.next,v.next=l,l.next=b,f.lastEffect=l),l}function Wh(){return ht().memoizedState}function Xl(l,f,v,b){var C=Zt();Qt.flags|=l,C.memoizedState=fs(1|f,{destroy:void 0},v,b===void 0?null:b)}function cf(l,f,v,b){var C=ht();b=b===void 0?null:b;var N=C.memoizedState.inst;Dt!==null&&b!==null&&St(b,Dt.memoizedState.deps)?C.memoizedState=fs(f,N,v,b):(Qt.flags|=l,C.memoizedState=fs(1|f,N,v,b))}function ff(l,f){Xl(8390656,8,l,f)}function Gu(l,f){cf(2048,8,l,f)}function hv(l){Qt.flags|=4;var f=Qt.updateQueue;if(f===null)f=xn(),Qt.updateQueue=f,f.events=[l];else{var v=f.events;v===null?f.events=[l]:v.push(l)}}function wr(l){var f=ht().memoizedState;return hv({ref:f,nextImpl:l}),function(){if((fn&2)!==0)throw Error(i(440));return f.impl.apply(void 0,arguments)}}function Wo(l,f){return cf(4,2,l,f)}function hf(l,f){return cf(4,4,l,f)}function Wu(l,f){if(typeof f=="function"){l=l();var v=f(l);return function(){typeof v=="function"?v():f(null)}}if(f!=null)return l=l(),f.current=l,function(){f.current=null}}function dv(l,f,v){v=v!=null?v.concat([l]):null,cf(4,4,Wu.bind(null,f,l),v)}function df(){}function Xh(l,f){var v=ht();f=f===void 0?null:f;var b=v.memoizedState;return f!==null&&St(f,b[1])?b[0]:(v.memoizedState=[l,f],l)}function Xu(l,f){var v=ht();f=f===void 0?null:f;var b=v.memoizedState;if(f!==null&&St(f,b[1]))return b[0];if(b=l(),yn){Q(!0);try{l()}finally{Q(!1)}}return v.memoizedState=[b,f],b}function ju(l,f,v){return v===void 0||(wo&1073741824)!==0&&(mn&261930)===0?l.memoizedState=f:(l.memoizedState=v,l=mo(),Qt.lanes|=l,Ao|=l,v)}function um(l,f,v,b){return bi(v,f)?v:du.current!==null?(l=ju(l,v,b),bi(l,f)||(Zn=!0),l):(wo&42)===0||(wo&1073741824)!==0&&(mn&261930)===0?(Zn=!0,l.memoizedState=v):(l=mo(),Qt.lanes|=l,Ao|=l,f)}function pv(l,f,v,b,C){var N=Fs();dn(N!==0&&8>N?N:8);var V=Pt.T,se={};Pt.T=se,qh(l,!1,f,v);try{var Oe=C(),je=Pt.S;if(je!==null&&je(se,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var ut=et(Oe,b);pf(l,f,ut,Qn(l))}else pf(l,f,b,Qn(l))}catch($e){pf(l,f,{then:function(){},status:"rejected",reason:$e},Qn())}finally{dn(N),V!==null&&se.types!==null&&(V.types=se.types),Pt.T=V}}function mv(l){var f=l.memoizedState;if(f!==null)return f;f={memoizedState:su,baseState:su,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:su},next:null};var v={};return f.next={memoizedState:v,baseState:v,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:v},next:null},l.memoizedState=f,l=l.alternate,l!==null&&(l.memoizedState=f),f}function cm(){return q(au)}function jh(){return ht().memoizedState}function gv(){return ht().memoizedState}function g1(l){for(var f=l.return;f!==null;){switch(f.tag){case 24:case 3:var v=Qn();l=us(v);var b=cs(f,l,v);b!==null&&(oi(b,f,v),Vo(b,f,v)),f={cache:Le()},l.payload=f;return}f=f.return}}function v1(l,f,v){var b=Qn();v={lane:b,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null},Yh(l)?yv(f,v):(v=Vl(l,f,v,b),v!==null&&(oi(v,l,b),_v(v,f,b)))}function vv(l,f,v){var b=Qn();pf(l,f,v,b)}function pf(l,f,v,b){var C={lane:b,revertLane:0,gesture:null,action:v,hasEagerState:!1,eagerState:null,next:null};if(Yh(l))yv(f,C);else{var N=l.alternate;if(l.lanes===0&&(N===null||N.lanes===0)&&(N=f.lastRenderedReducer,N!==null))try{var V=f.lastRenderedState,se=N(V,v);if(C.hasEagerState=!0,C.eagerState=se,bi(se,V))return oo(l,f,C,0),on===null&&ko(),!1}catch{}finally{}if(v=Vl(l,f,C,b),v!==null)return oi(v,l,b),_v(v,f,b),!0}return!1}function qh(l,f,v,b){if(b={lane:2,revertLane:ye(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},Yh(l)){if(f)throw Error(i(479))}else f=Vl(l,v,b,2),f!==null&&oi(f,l,2)}function Yh(l){var f=l.alternate;return l===Qt||f!==null&&f===Qt}function yv(l,f){tn=an=!0;var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}function _v(l,f,v){if((v&4194048)!==0){var b=f.lanes;b&=l.pendingLanes,v|=b,f.lanes=v,I(l,v)}}function fm(l,f,v,b){f=l.memoizedState,v=v(b,f),v=v==null?f:pd({},f,v),l.memoizedState=v,l.lanes===0&&(l.updateQueue.baseState=v)}function Zh(l,f,v,b,C,N,V){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(b,N,V):f.prototype&&f.prototype.isPureReactComponent?!ke(v,b)||!ke(C,N):!0}function xv(l,f,v,b){l=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(v,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(v,b),f.state!==l&&Hf.enqueueReplaceState(f,f.state,null)}function jl(l,f){var v=f;if("ref"in f){v={};for(var b in f)b!=="ref"&&(v[b]=f[b])}if(l=l.defaultProps){v===f&&(v=pd({},v));for(var C in l)v[C]===void 0&&(v[C]=l[C])}return v}function Kh(l,f){try{var v=l.onUncaughtError;v(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function hm(l,f,v){try{var b=l.onCaughtError;b(v.value,{componentStack:v.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(C){setTimeout(function(){throw C})}}function dm(l,f,v){return v=us(v),v.tag=3,v.payload={element:null},v.callback=function(){Kh(l,f)},v}function bv(l){return l=us(l),l.tag=3,l}function Sv(l,f,v,b){var C=v.type.getDerivedStateFromError;if(typeof C=="function"){var N=b.value;l.payload=function(){return C(N)},l.callback=function(){hm(f,v,b)}}var V=v.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(l.callback=function(){hm(f,v,b),typeof C!="function"&&(Co===null?Co=new Set([this]):Co.add(this));var se=b.stack;this.componentDidCatch(b.value,{componentStack:se!==null?se:""})})}function y1(l,f,v,b,C){if(v.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=v.alternate,f!==null&&Te(f,v,C,!0),v=qr.current,v!==null){switch(v.tag){case 31:case 13:return Yr===null?ic():v.alternate===null&&fi===0&&(fi=3),v.flags&=-257,v.flags|=65536,v.lanes=C,b===ja?v.flags|=16384:(f=v.updateQueue,f===null?v.updateQueue=new Set([b]):f.add(b),ac(l,b,C)),!1;case 22:return v.flags|=65536,b===ja?v.flags|=16384:(f=v.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},v.updateQueue=f):(v=f.retryQueue,v===null?f.retryQueue=new Set([b]):v.add(b)),ac(l,b,C)),!1}throw Error(i(435,v.tag))}return ac(l,b,C),ic(),!1}if(pn)return f=qr.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=C,b!==zd&&(l=Error(i(422),{cause:b}),Xe(Pe(l,v)))):(b!==zd&&(f=Error(i(423),{cause:b}),Xe(Pe(f,v))),l=l.current.alternate,l.flags|=65536,C&=-C,l.lanes|=C,b=Pe(b,v),C=dm(l.stateNode,b,C),Hl(l,C),fi!==4&&(fi=2)),!1;var N=Error(i(520),{cause:b});if(N=Pe(N,v),Wf===null?Wf=[N]:Wf.push(N),fi!==4&&(fi=2),f===null)return!0;b=Pe(b,v),v=f;do{switch(v.tag){case 3:return v.flags|=65536,l=C&-C,v.lanes|=l,l=dm(v.stateNode,b,l),Hl(v,l),!1;case 1:if(f=v.type,N=v.stateNode,(v.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Co===null||!Co.has(N))))return v.flags|=65536,C&=-C,v.lanes|=C,C=bv(C),Sv(C,l,v,b),Hl(v,C),!1}v=v.return}while(v!==null);return!1}function ur(l,f,v,b){f.child=l===null?vg(f,null,v,b):hr(f,l.child,v,b)}function Mv(l,f,v,b,C){v=v.render;var N=f.ref;if("ref"in b){var V={};for(var se in b)se!=="ref"&&(V[se]=b[se])}else V=b;return Je(f),b=Tt(l,f,v,V,N,C),se=En(),l!==null&&!Zn?(Hn(l,f,C),Da(l,f,C)):(pn&&se&&le(f),f.flags|=1,ur(l,f,b,C),f.child)}function Ev(l,f,v,b,C){if(l===null){var N=v.type;return typeof N=="function"&&!$l(N)&&N.defaultProps===void 0&&v.compare===null?(f.tag=15,f.type=N,Tv(l,f,N,b,C)):(l=yo(v.type,null,b,f,f.mode,C),l.ref=f.ref,l.return=f,f.child=l)}if(N=l.child,!gf(l,C)){var V=N.memoizedProps;if(v=v.compare,v=v!==null?v:ke,v(V,b)&&l.ref===f.ref)return Da(l,f,C)}return f.flags|=1,l=ps(N,b),l.ref=f.ref,l.return=f,f.child=l}function Tv(l,f,v,b,C){if(l!==null){var N=l.memoizedProps;if(ke(N,b)&&l.ref===f.ref)if(Zn=!1,f.pendingProps=b=N,gf(l,C))(l.flags&131072)!==0&&(Zn=!0);else return f.lanes=l.lanes,Da(l,f,C)}return Qh(l,f,v,b,C)}function wv(l,f,v,b){var C=b.children,N=l!==null?l.memoizedState:null;if(l===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(N=N!==null?N.baseLanes|v:v,l!==null){for(b=f.child=l.child,C=0;b!==null;)C=C|b.lanes|b.childLanes,b=b.sibling;b=C&~N}else b=0,f.child=null;return qu(l,f,N,v,b)}if((v&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},l!==null&&ct(f,N!==null?N.cachePool:null),N!==null?Ho(f,N):Ca(),Me(f);else return b=f.lanes=536870912,qu(l,f,N!==null?N.baseLanes|v:v,v,b)}else N!==null?(ct(f,N.cachePool),Ho(f,N),pe(),f.memoizedState=null):(l!==null&&ct(f,null),Ca(),pe());return ur(l,f,C,v),f.child}function ql(l,f){return l!==null&&l.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function qu(l,f,v,b,C){var N=Ye();return N=N===null?null:{parent:_i?ti._currentValue:ti._currentValue2,pool:N},f.memoizedState={baseLanes:v,cachePool:N},l!==null&&ct(f,null),Ca(),Me(f),l!==null&&Te(l,f,b,!0),f.childLanes=C,null}function $h(l,f){return f=Xo({mode:f.mode,children:f.children},l.mode),f.ref=l.ref,l.child=f,f.return=l,f}function pm(l,f,v){return hr(f,l.child,null,v),l=$h(f,f.pendingProps),l.flags|=2,at(f),f.memoizedState=null,l}function Av(l,f,v){var b=f.pendingProps,C=(f.flags&128)!==0;if(f.flags&=-129,l===null){if(pn){if(b.mode==="hidden")return l=$h(f,b),f.lanes=536870912,ql(null,l);if(Ce(f),(l=ei)?(l=tg(l,Nr),l!==null&&(f.memoizedState={dehydrated:l,treeContext:Vs!==null?{id:cr,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},v=Nm(l),v.return=f,f.child=v,Xi=f,ei=null)):l=null,l===null)throw ne(f);return f.lanes=536870912,null}return $h(f,b)}var N=l.memoizedState;if(N!==null){var V=N.dehydrated;if(Ce(f),C)if(f.flags&256)f.flags&=-257,f=pm(l,f,v);else if(f.memoizedState!==null)f.child=l.child,f.flags|=128,f=null;else throw Error(i(558));else if(Zn||Te(l,f,v,!1),C=(v&l.childLanes)!==0,Zn||C){if(b=on,b!==null&&(V=O(b,v),V!==0&&V!==N.retryLane))throw N.retryLane=V,yr(l,V),oi(b,l,V),Or;ic(),f=pm(l,f,v)}else l=N.treeContext,Jn&&(ei=cy(V),Xi=f,pn=!0,Xa=null,Nr=!1,l!==null&&ze(f,l)),f=$h(f,b),f.flags|=4096;return f}return l=ps(l.child,{mode:b.mode,children:b.children}),l.ref=f.ref,f.child=l,l.return=f,l}function mf(l,f){var v=f.ref;if(v===null)l!==null&&l.ref!==null&&(f.flags|=4194816);else{if(typeof v!="function"&&typeof v!="object")throw Error(i(284));(l===null||l.ref!==v)&&(f.flags|=4194816)}}function Qh(l,f,v,b,C){return Je(f),v=Tt(l,f,v,b,void 0,C),b=En(),l!==null&&!Zn?(Hn(l,f,C),Da(l,f,C)):(pn&&b&&le(f),f.flags|=1,ur(l,f,v,C),f.child)}function mm(l,f,v,b,C,N){return Je(f),f.updateQueue=null,v=wt(f,b,v,C),It(l),b=En(),l!==null&&!Zn?(Hn(l,f,N),Da(l,f,N)):(pn&&b&&le(f),f.flags|=1,ur(l,f,v,N),f.child)}function Yl(l,f,v,b,C){if(Je(f),f.stateNode===null){var N=Ha,V=v.contextType;typeof V=="object"&&V!==null&&(N=q(V)),N=new v(b,N),f.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Hf,f.stateNode=N,N._reactInternals=f,N=f.stateNode,N.props=b,N.state=f.memoizedState,N.refs={},Vi(f),V=v.contextType,N.context=typeof V=="object"&&V!==null?q(V):Ha,N.state=f.memoizedState,V=v.getDerivedStateFromProps,typeof V=="function"&&(fm(f,v,V,b),N.state=f.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&Hf.enqueueReplaceState(N,N.state,null),lo(f,b,N,C),aa(),N.state=f.memoizedState),typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(l===null){N=f.stateNode;var se=f.memoizedProps,Oe=jl(v,se);N.props=Oe;var je=N.context,ut=v.contextType;V=Ha,typeof ut=="object"&&ut!==null&&(V=q(ut));var $e=v.getDerivedStateFromProps;ut=typeof $e=="function"||typeof N.getSnapshotBeforeUpdate=="function",se=f.pendingProps!==se,ut||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(se||je!==V)&&xv(f,N,b,V),vs=!1;var yt=f.memoizedState;N.state=yt,lo(f,b,N,C),aa(),je=f.memoizedState,se||yt!==je||vs?(typeof $e=="function"&&(fm(f,v,$e,b),je=f.memoizedState),(Oe=vs||Zh(f,v,Oe,b,yt,je,V))?(ut||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(f.flags|=4194308)):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=je),N.props=b,N.state=je,N.context=V,b=Oe):(typeof N.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{N=f.stateNode,ls(l,f),V=f.memoizedProps,ut=jl(v,V),N.props=ut,$e=f.pendingProps,yt=N.context,je=v.contextType,Oe=Ha,typeof je=="object"&&je!==null&&(Oe=q(je)),se=v.getDerivedStateFromProps,(je=typeof se=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==$e||yt!==Oe)&&xv(f,N,b,Oe),vs=!1,yt=f.memoizedState,N.state=yt,lo(f,b,N,C),aa();var Kt=f.memoizedState;V!==$e||yt!==Kt||vs||l!==null&&l.dependencies!==null&&Ct(l.dependencies)?(typeof se=="function"&&(fm(f,v,se,b),Kt=f.memoizedState),(ut=vs||Zh(f,v,ut,b,yt,Kt,Oe)||l!==null&&l.dependencies!==null&&Ct(l.dependencies))?(je||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(b,Kt,Oe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(b,Kt,Oe)),typeof N.componentDidUpdate=="function"&&(f.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&yt===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&yt===l.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Kt),N.props=b,N.state=Kt,N.context=Oe,b=ut):(typeof N.componentDidUpdate!="function"||V===l.memoizedProps&&yt===l.memoizedState||(f.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===l.memoizedProps&&yt===l.memoizedState||(f.flags|=1024),b=!1)}return N=b,mf(l,f),b=(f.flags&128)!==0,N||b?(N=f.stateNode,v=b&&typeof v.getDerivedStateFromError!="function"?null:N.render(),f.flags|=1,l!==null&&b?(f.child=hr(f,l.child,null,C),f.child=hr(f,null,v,C)):ur(l,f,v,C),f.memoizedState=N.state,l=f.child):l=Da(l,f,C),l}function Cv(l,f,v,b){return Et(),f.flags|=256,ur(l,f,v,b),f.child}function gm(l){return{baseLanes:l,cachePool:Ze()}}function vm(l,f,v){return l=l!==null?l.childLanes&~v:0,f&&(l|=Ir),l}function ym(l,f,v){var b=f.pendingProps,C=!1,N=(f.flags&128)!==0,V;if((V=N)||(V=l!==null&&l.memoizedState===null?!1:(mi.current&2)!==0),V&&(C=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,l===null){if(pn){if(C?ce(f):pe(),(l=ei)?(l=py(l,Nr),l!==null&&(f.memoizedState={dehydrated:l,treeContext:Vs!==null?{id:cr,overflow:ua}:null,retryLane:536870912,hydrationErrors:null},v=Nm(l),v.return=f,f.child=v,Xi=f,ei=null)):l=null,l===null)throw ne(f);return Sd(l)?f.lanes=32:f.lanes=536870912,null}var se=b.children;return b=b.fallback,C?(pe(),C=f.mode,se=Xo({mode:"hidden",children:se},C),b=Us(b,C,v,null),se.return=f,b.return=f,se.sibling=b,f.child=se,b=f.child,b.memoizedState=gm(v),b.childLanes=vm(l,V,v),f.memoizedState=pu,ql(null,b)):(ce(f),Jh(f,se))}var Oe=l.memoizedState;if(Oe!==null&&(se=Oe.dehydrated,se!==null)){if(N)f.flags&256?(ce(f),f.flags&=-257,f=Zl(l,f,v)):f.memoizedState!==null?(pe(),f.child=l.child,f.flags|=128,f=null):(pe(),se=b.fallback,C=f.mode,b=Xo({mode:"visible",children:b.children},C),se=Us(se,C,v,null),se.flags|=2,b.return=f,se.return=f,b.sibling=se,f.child=b,hr(f,l.child,null,v),b=f.child,b.memoizedState=gm(v),b.childLanes=vm(l,V,v),f.memoizedState=pu,f=ql(null,b));else if(ce(f),Sd(se))V=Md(se).digest,b=Error(i(419)),b.stack="",b.digest=V,Xe({value:b,source:null,stack:null}),f=Zl(l,f,v);else if(Zn||Te(l,f,v,!1),V=(v&l.childLanes)!==0,Zn||V){if(V=on,V!==null&&(b=O(V,v),b!==0&&b!==Oe.retryLane))throw Oe.retryLane=b,yr(l,b),oi(V,l,b),Or;rl(se)||ic(),f=Zl(l,f,v)}else rl(se)?(f.flags|=192,f.child=l.child,f=null):(l=Oe.treeContext,Jn&&(ei=fy(se),Xi=f,pn=!0,Xa=null,Nr=!1,l!==null&&ze(f,l)),f=Jh(f,b.children),f.flags|=4096);return f}return C?(pe(),se=b.fallback,C=f.mode,Oe=l.child,N=Oe.sibling,b=ps(Oe,{mode:"hidden",children:b.children}),b.subtreeFlags=Oe.subtreeFlags&65011712,N!==null?se=ps(N,se):(se=Us(se,C,v,null),se.flags|=2),se.return=f,b.return=f,b.sibling=se,f.child=b,ql(null,b),b=f.child,se=l.child.memoizedState,se===null?se=gm(v):(C=se.cachePool,C!==null?(Oe=_i?ti._currentValue:ti._currentValue2,C=C.parent!==Oe?{parent:Oe,pool:Oe}:C):C=Ze(),se={baseLanes:se.baseLanes|v,cachePool:C}),b.memoizedState=se,b.childLanes=vm(l,V,v),f.memoizedState=pu,ql(l.child,b)):(ce(f),v=l.child,l=v.sibling,v=ps(v,{mode:"visible",children:b.children}),v.return=f,v.sibling=null,l!==null&&(V=f.deletions,V===null?(f.deletions=[l],f.flags|=16):V.push(l)),f.child=v,f.memoizedState=null,v)}function Jh(l,f){return f=Xo({mode:"visible",children:f},l.mode),f.return=l,l.child=f}function Xo(l,f){return l=t(22,l,null,f),l.lanes=0,l}function Zl(l,f,v){return hr(f,l.child,null,v),l=Jh(f,f.pendingProps.children),l.flags|=2,f.memoizedState=null,l}function Rv(l,f,v){l.lanes|=f;var b=l.alternate;b!==null&&(b.lanes|=f),Y(l.return,f,v)}function Yu(l,f,v,b,C,N){var V=l.memoizedState;V===null?l.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:v,tailMode:C,treeForkCount:N}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=v,V.tailMode=C,V.treeForkCount=N)}function _m(l,f,v){var b=f.pendingProps,C=b.revealOrder,N=b.tail;b=b.children;var V=mi.current,se=(V&2)!==0;if(se?(V=V&1|2,f.flags|=128):V&=1,E(mi,V),ur(l,f,b,v),b=pn?Bf:0,!se&&l!==null&&(l.flags&128)!==0)e:for(l=f.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Rv(l,v,f);else if(l.tag===19)Rv(l,v,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===f)break e;for(;l.sibling===null;){if(l.return===null||l.return===f)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(C){case"forwards":for(v=f.child,C=null;v!==null;)l=v.alternate,l!==null&&vt(l)===null&&(C=v),v=v.sibling;v=C,v===null?(C=f.child,f.child=null):(C=v.sibling,v.sibling=null),Yu(f,!1,C,v,N,b);break;case"backwards":case"unstable_legacy-backwards":for(v=null,C=f.child,f.child=null;C!==null;){if(l=C.alternate,l!==null&&vt(l)===null){f.child=C;break}l=C.sibling,C.sibling=v,v=C,C=l}Yu(f,!0,v,null,N,b);break;case"together":Yu(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function Da(l,f,v){if(l!==null&&(f.dependencies=l.dependencies),Ao|=f.lanes,(v&f.childLanes)===0)if(l!==null){if(Te(l,f,v,!1),(v&f.childLanes)===0)return null}else return null;if(l!==null&&f.child!==l.child)throw Error(i(153));if(f.child!==null){for(l=f.child,v=ps(l,l.pendingProps),f.child=v,v.return=f;l.sibling!==null;)l=l.sibling,v=v.sibling=ps(l,l.pendingProps),v.return=f;v.sibling=null}return f.child}function gf(l,f){return(l.lanes&f)!==0?!0:(l=l.dependencies,!!(l!==null&&Ct(l)))}function xm(l,f,v){switch(f.tag){case 3:rt(f,f.stateNode.containerInfo),Ae(f,ti,l.memoizedState.cache),Et();break;case 27:case 5:De(f);break;case 4:rt(f,f.stateNode.containerInfo);break;case 10:Ae(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Ce(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(ce(f),f.flags|=128,null):(v&f.child.childLanes)!==0?ym(l,f,v):(ce(f),l=Da(l,f,v),l!==null?l.sibling:null);ce(f);break;case 19:var C=(l.flags&128)!==0;if(b=(v&f.childLanes)!==0,b||(Te(l,f,v,!1),b=(v&f.childLanes)!==0),C){if(b)return _m(l,f,v);f.flags|=128}if(C=f.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),E(mi,mi.current),b)break;return null;case 22:return f.lanes=0,wv(l,f,v,f.pendingProps);case 24:Ae(f,ti,l.memoizedState.cache)}return Da(l,f,v)}function bm(l,f,v){if(l!==null)if(l.memoizedProps!==f.pendingProps)Zn=!0;else{if(!gf(l,v)&&(f.flags&128)===0)return Zn=!1,xm(l,f,v);Zn=(l.flags&131072)!==0}else Zn=!1,pn&&(f.flags&1048576)!==0&&j(f,Bf,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(l=en(f.elementType),f.type=l,typeof l=="function")$l(l)?(b=jl(l,b),f.tag=1,f=Yl(null,f,l,b,v)):(f.tag=0,f=Qh(null,f,l,b,v));else{if(l!=null){var C=l.$$typeof;if(C===oc){f.tag=11,f=Mv(null,f,l,b,v);break e}else if(C===gd){f.tag=14,f=Ev(null,f,l,b,v);break e}}throw f=y(l)||l,Error(i(306,f,""))}}return f;case 0:return Qh(l,f,f.type,f.pendingProps,v);case 1:return b=f.type,C=jl(b,f.pendingProps),Yl(l,f,b,C,v);case 3:e:{if(rt(f,f.stateNode.containerInfo),l===null)throw Error(i(387));var N=f.pendingProps;C=f.memoizedState,b=C.element,ls(l,f),lo(f,N,null,v);var V=f.memoizedState;if(N=V.cache,Ae(f,ti,N),N!==C.cache&&dt(f,[ti],v,!0),aa(),N=V.element,Jn&&C.isDehydrated)if(C={element:N,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=C,f.memoizedState=C,f.flags&256){f=Cv(l,f,N,v);break e}else if(N!==b){b=Pe(Error(i(424)),f),Xe(b),f=Cv(l,f,N,v);break e}else for(Jn&&(ei=uy(f.stateNode.containerInfo),Xi=f,pn=!0,Xa=null,Nr=!0),v=vg(f,null,N,v),f.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Et(),N===b){f=Da(l,f,v);break e}ur(l,f,N,v)}f=f.child}return f;case 26:if(Bs)return mf(l,f),l===null?(v=ag(f.type,null,f.pendingProps,null))?f.memoizedState=v:pn||(f.stateNode=Ad(f.type,f.pendingProps,fr.current,f)):f.memoizedState=ag(f.type,l.memoizedProps,f.pendingProps,l.memoizedState),null;case 27:if(Wi)return De(f),l===null&&Wi&&pn&&(b=f.stateNode=Cd(f.type,f.pendingProps,fr.current,rr.current,!1),Xi=f,Nr=!0,ei=eg(f.type,b,ei)),ur(l,f,f.pendingProps.children,v),mf(l,f),l===null&&(f.flags|=4194304),f.child;case 5:return l===null&&pn&&(My(f.type,f.pendingProps,rr.current),(C=b=ei)&&(b=hy(b,f.type,f.pendingProps,Nr),b!==null?(f.stateNode=b,Xi=f,ei=ly(b),Nr=!1,C=!0):C=!1),C||ne(f)),De(f),C=f.type,N=f.pendingProps,V=l!==null?l.memoizedProps:null,b=N.children,Dr(C,N)?b=null:V!==null&&Dr(C,V)&&(f.flags|=32),f.memoizedState!==null&&(C=Tt(l,f,Ft,null,null,v),_i?au._currentValue=C:au._currentValue2=C),mf(l,f),ur(l,f,b,v),f.child;case 6:return l===null&&pn&&(sg(f.pendingProps,rr.current),(l=v=ei)&&(v=dy(v,f.pendingProps,Nr),v!==null?(f.stateNode=v,Xi=f,ei=null,l=!0):l=!1),l||ne(f)),null;case 13:return ym(l,f,v);case 4:return rt(f,f.stateNode.containerInfo),b=f.pendingProps,l===null?f.child=hr(f,null,b,v):ur(l,f,b,v),f.child;case 11:return Mv(l,f,f.type,f.pendingProps,v);case 7:return ur(l,f,f.pendingProps,v),f.child;case 8:return ur(l,f,f.pendingProps.children,v),f.child;case 12:return ur(l,f,f.pendingProps.children,v),f.child;case 10:return b=f.pendingProps,Ae(f,f.type,b.value),ur(l,f,b.children,v),f.child;case 9:return C=f.type._context,b=f.pendingProps.children,Je(f),C=q(C),b=b(C),f.flags|=1,ur(l,f,b,v),f.child;case 14:return Ev(l,f,f.type,f.pendingProps,v);case 15:return Tv(l,f,f.type,f.pendingProps,v);case 19:return _m(l,f,v);case 31:return Av(l,f,v);case 22:return wv(l,f,v,f.pendingProps);case 24:return Je(f),b=q(ti),l===null?(C=Ye(),C===null&&(C=on,N=Le(),C.pooledCache=N,N.refCount++,N!==null&&(C.pooledCacheLanes|=v),C=N),f.memoizedState={parent:b,cache:C},Vi(f),Ae(f,ti,C)):((l.lanes&v)!==0&&(ls(l,f),lo(f,null,null,v),aa()),C=l.memoizedState,N=f.memoizedState,C.parent!==b?(C={parent:b,cache:b},f.memoizedState=C,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=C),Ae(f,ti,b)):(b=N.cache,Ae(f,ti,b),b!==C.cache&&dt(f,[ti],v,!0))),ur(l,f,f.pendingProps.children,v),f.child;case 29:throw f.pendingProps}throw Error(i(156,f.tag))}function Ns(l){l.flags|=4}function vf(l){ms&&(l.flags|=8)}function Dv(l,f){if(l!==null&&l.child===f.child)return!1;if((f.flags&16)!==0)return!0;for(l=f.child;l!==null;){if((l.flags&8218)!==0||(l.subtreeFlags&8218)!==0)return!0;l=l.sibling}return!1}function Sm(l,f,v,b){if(vn)for(v=f.child;v!==null;){if(v.tag===5||v.tag===6)Nf(l,v.stateNode);else if(!(v.tag===4||Wi&&v.tag===27)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===f)break;for(;v.sibling===null;){if(v.return===null||v.return===f)return;v=v.return}v.sibling.return=v.return,v=v.sibling}else if(ms)for(var C=f.child;C!==null;){if(C.tag===5){var N=C.stateNode;v&&b&&(N=ry(N,C.type,C.memoizedProps)),Nf(l,N)}else if(C.tag===6)N=C.stateNode,v&&b&&(N=Qm(N,C.memoizedProps)),Nf(l,N);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)N=C.child,N!==null&&(N.return=C),Sm(l,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===f)break;for(;C.sibling===null;){if(C.return===null||C.return===f)return;C=C.return}C.sibling.return=C.return,C=C.sibling}}function Nv(l,f,v,b){var C=!1;if(ms)for(var N=f.child;N!==null;){if(N.tag===5){var V=N.stateNode;v&&b&&(V=ry(V,N.type,N.memoizedProps)),Km(l,V)}else if(N.tag===6)V=N.stateNode,v&&b&&(V=Qm(V,N.memoizedProps)),Km(l,V);else if(N.tag!==4){if(N.tag===22&&N.memoizedState!==null)C=N.child,C!==null&&(C.return=N),Nv(l,N,!0,!0),C=!0;else if(N.child!==null){N.child.return=N,N=N.child;continue}}if(N===f)break;for(;N.sibling===null;){if(N.return===null||N.return===f)return C;N=N.return}N.sibling.return=N.return,N=N.sibling}return C}function Lv(l,f){if(ms&&Dv(l,f)){l=f.stateNode;var v=l.containerInfo,b=Zm();Nv(b,f,!1,!1),l.pendingChildren=b,Ns(f),iy(v,b)}}function Mm(l,f,v,b){if(vn)l.memoizedProps!==b&&Ns(f);else if(ms){var C=l.stateNode,N=l.memoizedProps;if((l=Dv(l,f))||N!==b){var V=rr.current;N=ny(C,v,N,b,!l,null),N===C?f.stateNode=C:(vf(f),Gr(N,v,b,V)&&Ns(f),f.stateNode=N,l&&Sm(N,f,!1,!1))}else f.stateNode=C}}function Ar(l,f,v,b,C){if((l.mode&32)!==0&&(v===null?Lf(f,b):hc(f,v,b))){if(l.flags|=16777216,(C&335544128)===C||Fm(f,b))if(li(l.stateNode,f,b))l.flags|=8192;else if(gn())l.flags|=8192;else throw Lr=ja,Bd}else l.flags&=-16777217}function Zu(l,f){if(cg(f)){if(l.flags|=16777216,!fg(f))if(gn())l.flags|=8192;else throw Lr=ja,Bd}else l.flags&=-16777217}function yf(l,f){f!==null&&(l.flags|=4),l.flags&16384&&(f=l.tag!==22?L():536870912,l.lanes|=f,bc|=f)}function Ku(l,f){if(!pn)switch(l.tailMode){case"hidden":f=l.tail;for(var v=null;f!==null;)f.alternate!==null&&(v=f),f=f.sibling;v===null?l.tail=null:v.sibling=null;break;case"collapsed":v=l.tail;for(var b=null;v!==null;)v.alternate!==null&&(b=v),v=v.sibling;b===null?f||l.tail===null?l.tail=null:l.tail.sibling=null:b.sibling=null}}function Gn(l){var f=l.alternate!==null&&l.alternate.child===l.child,v=0,b=0;if(f)for(var C=l.child;C!==null;)v|=C.lanes|C.childLanes,b|=C.subtreeFlags&65011712,b|=C.flags&65011712,C.return=l,C=C.sibling;else for(C=l.child;C!==null;)v|=C.lanes|C.childLanes,b|=C.subtreeFlags,b|=C.flags,C.return=l,C=C.sibling;return l.subtreeFlags|=b,l.childLanes=v,f}function Ov(l,f,v){var b=f.pendingProps;switch(Re(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(f),null;case 1:return Gn(f),null;case 3:return v=f.stateNode,b=null,l!==null&&(b=l.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),be(ti),ge(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(Yt(f)?Ns(f):l===null||l.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,ve())),Lv(l,f),Gn(f),null;case 26:if(Bs){var C=f.type,N=f.memoizedState;return l===null?(Ns(f),N!==null?(Gn(f),Zu(f,N)):(Gn(f),Ar(f,C,null,b,v))):N?N!==l.memoizedState?(Ns(f),Gn(f),Zu(f,N)):(Gn(f),f.flags&=-16777217):(N=l.memoizedProps,vn?N!==b&&Ns(f):Mm(l,f,C,b),Gn(f),Ar(f,C,N,b,v)),null}case 27:if(Wi){if(it(f),v=fr.current,C=f.type,l!==null&&f.stateNode!=null)vn?l.memoizedProps!==b&&Ns(f):Mm(l,f,C,b);else{if(!b){if(f.stateNode===null)throw Error(i(166));return Gn(f),null}l=rr.current,Yt(f)?ft(f,l):(l=Cd(C,b,v,l,!0),f.stateNode=l,Ns(f))}return Gn(f),null}case 5:if(it(f),C=f.type,l!==null&&f.stateNode!=null)Mm(l,f,C,b);else{if(!b){if(f.stateNode===null)throw Error(i(166));return Gn(f),null}if(N=rr.current,Yt(f))ft(f,N),xy(f.stateNode,C,b,N)&&(f.flags|=64);else{var V=Um(C,b,fr.current,N,f);vf(f),Sm(V,f,!1,!1),f.stateNode=V,Gr(V,C,b,N)&&Ns(f)}}return Gn(f),Ar(f,f.type,l===null?null:l.memoizedProps,f.pendingProps,v),null;case 6:if(l&&f.stateNode!=null)v=l.memoizedProps,vn?v!==b&&Ns(f):ms&&(v!==b?(l=fr.current,v=rr.current,vf(f),f.stateNode=bo(b,l,v,f)):f.stateNode=l.stateNode);else{if(typeof b!="string"&&f.stateNode===null)throw Error(i(166));if(l=fr.current,v=rr.current,Yt(f)){if(!Jn)throw Error(i(176));if(l=f.stateNode,v=f.memoizedProps,b=null,C=Xi,C!==null)switch(C.tag){case 27:case 5:b=C.memoizedProps}M1(l,v,f,b)||ne(f,!0)}else vf(f),f.stateNode=bo(b,l,v,f)}return Gn(f),null;case 31:if(v=f.memoizedState,l===null||l.memoizedState!==null){if(b=Yt(f),v!==null){if(l===null){if(!b)throw Error(i(318));if(!Jn)throw Error(i(556));if(l=f.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(i(557));ng(l,f)}else Et(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Gn(f),l=!1}else v=ve(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=v),l=!0;if(!l)return f.flags&256?(at(f),f):(at(f),null);if((f.flags&128)!==0)throw Error(i(558))}return Gn(f),null;case 13:if(b=f.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(C=Yt(f),b!==null&&b.dehydrated!==null){if(l===null){if(!C)throw Error(i(318));if(!Jn)throw Error(i(344));if(C=f.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(i(317));gy(C,f)}else Et(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Gn(f),C=!1}else C=ve(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=C),C=!0;if(!C)return f.flags&256?(at(f),f):(at(f),null)}return at(f),(f.flags&128)!==0?(f.lanes=v,f):(v=b!==null,l=l!==null&&l.memoizedState!==null,v&&(b=f.child,C=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(C=b.alternate.memoizedState.cachePool.pool),N=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(N=b.memoizedState.cachePool.pool),N!==C&&(b.flags|=2048)),v!==l&&v&&(f.child.flags|=8192),yf(f,f.updateQueue),Gn(f),null);case 4:return ge(),Lv(l,f),l===null&&Bn(f.stateNode.containerInfo),Gn(f),null;case 10:return be(f.type),Gn(f),null;case 19:if(x(mi),b=f.memoizedState,b===null)return Gn(f),null;if(C=(f.flags&128)!==0,N=b.rendering,N===null)if(C)Ku(b,!1);else{if(fi!==0||l!==null&&(l.flags&128)!==0)for(l=f.child;l!==null;){if(N=vt(l),N!==null){for(f.flags|=128,Ku(b,!1),l=N.updateQueue,f.updateQueue=l,yf(f,l),f.subtreeFlags=0,l=v,v=f.child;v!==null;)fd(v,l),v=v.sibling;return E(mi,mi.current&1|2),pn&&Ue(f,b.treeForkCount),f.child}l=l.sibling}b.tail!==null&&xr()>ml&&(f.flags|=128,C=!0,Ku(b,!1),f.lanes=4194304)}else{if(!C)if(l=vt(N),l!==null){if(f.flags|=128,C=!0,l=l.updateQueue,f.updateQueue=l,yf(f,l),Ku(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!pn)return Gn(f),null}else 2*xr()-b.renderingStartTime>ml&&v!==536870912&&(f.flags|=128,C=!0,Ku(b,!1),f.lanes=4194304);b.isBackwards?(N.sibling=f.child,f.child=N):(l=b.last,l!==null?l.sibling=N:f.child=N,b.last=N)}return b.tail!==null?(l=b.tail,b.rendering=l,b.tail=l.sibling,b.renderingStartTime=xr(),l.sibling=null,v=mi.current,E(mi,C?v&1|2:v&1),pn&&Ue(f,b.treeForkCount),l):(Gn(f),null);case 22:case 23:return at(f),H(),b=f.memoizedState!==null,l!==null?l.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(v&536870912)!==0&&(f.flags&128)===0&&(Gn(f),f.subtreeFlags&6&&(f.flags|=8192)):Gn(f),v=f.updateQueue,v!==null&&yf(f,v.retryQueue),v=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==v&&(f.flags|=2048),l!==null&&x(ol),null;case 24:return v=null,l!==null&&(v=l.memoizedState.cache),f.memoizedState.cache!==v&&(f.flags|=2048),be(ti),Gn(f),null;case 25:return null;case 30:return null}throw Error(i(156,f.tag))}function Em(l,f){switch(Re(f),f.tag){case 1:return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 3:return be(ti),ge(),l=f.flags,(l&65536)!==0&&(l&128)===0?(f.flags=l&-65537|128,f):null;case 26:case 27:case 5:return it(f),null;case 31:if(f.memoizedState!==null){if(at(f),f.alternate===null)throw Error(i(340));Et()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 13:if(at(f),l=f.memoizedState,l!==null&&l.dehydrated!==null){if(f.alternate===null)throw Error(i(340));Et()}return l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 19:return x(mi),null;case 4:return ge(),null;case 10:return be(f.type),null;case 22:case 23:return at(f),H(),l!==null&&x(ol),l=f.flags,l&65536?(f.flags=l&-65537|128,f):null;case 24:return be(ti),null;case 25:return null;default:return null}}function Iv(l,f){switch(Re(f),f.tag){case 3:be(ti),ge();break;case 26:case 27:case 5:it(f);break;case 4:ge();break;case 31:f.memoizedState!==null&&at(f);break;case 13:at(f);break;case 19:x(mi);break;case 10:be(f.type);break;case 22:case 23:at(f),H(),l!==null&&x(ol);break;case 24:be(ti)}}function Na(l,f){try{var v=f.updateQueue,b=v!==null?v.lastEffect:null;if(b!==null){var C=b.next;v=C;do{if((v.tag&l)===l){b=void 0;var N=v.create,V=v.inst;b=N(),V.destroy=b}v=v.next}while(v!==C)}}catch(se){Gt(f,f.return,se)}}function La(l,f,v){try{var b=f.updateQueue,C=b!==null?b.lastEffect:null;if(C!==null){var N=C.next;b=N;do{if((b.tag&l)===l){var V=b.inst,se=V.destroy;if(se!==void 0){V.destroy=void 0,C=f;var Oe=v,je=se;try{je()}catch(ut){Gt(C,Oe,ut)}}}b=b.next}while(b!==N)}}catch(ut){Gt(f,f.return,ut)}}function $u(l){var f=l.updateQueue;if(f!==null){var v=l.stateNode;try{co(f,v)}catch(b){Gt(l,l.return,b)}}}function ed(l,f,v){v.props=jl(l.type,l.memoizedProps),v.state=l.memoizedState;try{v.componentWillUnmount()}catch(b){Gt(l,f,b)}}function Qu(l,f){try{var v=l.ref;if(v!==null){switch(l.tag){case 26:case 27:case 5:var b=uc(l.stateNode);break;case 30:b=l.stateNode;break;default:b=l.stateNode}typeof v=="function"?l.refCleanup=v(b):v.current=b}}catch(C){Gt(l,f,C)}}function _r(l,f){var v=l.ref,b=l.refCleanup;if(v!==null)if(typeof b=="function")try{b()}catch(C){Gt(l,f,C)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof v=="function")try{v(null)}catch(C){Gt(l,f,C)}else v.current=null}function Kl(l){var f=l.type,v=l.memoizedProps,b=l.stateNode;try{Yv(b,f,v,l)}catch(C){Gt(l,l.return,C)}}function _f(l,f,v){try{Zv(l.stateNode,l.type,v,f,l)}catch(b){Gt(l,l.return,b)}}function Tm(l){return l.tag===5||l.tag===3||(Bs?l.tag===26:!1)||(Wi?l.tag===27&&ou(l.type):!1)||l.tag===4}function ho(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Tm(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(Wi&&l.tag===27&&ou(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function td(l,f,v){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?$v(v,l,f):Xm(v,l);else if(b!==4&&(Wi&&b===27&&ou(l.type)&&(v=l.stateNode,f=null),l=l.child,l!==null))for(td(l,f,v),l=l.sibling;l!==null;)td(l,f,v),l=l.sibling}function xf(l,f,v){var b=l.tag;if(b===5||b===6)l=l.stateNode,f?Kv(v,l,f):Wm(v,l);else if(b!==4&&(Wi&&b===27&&ou(l.type)&&(v=l.stateNode),l=l.child,l!==null))for(xf(l,f,v),l=l.sibling;l!==null;)xf(l,f,v),l=l.sibling}function wm(l,f,v){l=l.containerInfo;try{$m(l,v)}catch(b){Gt(f,f.return,b)}}function Pv(l){var f=l.stateNode,v=l.memoizedProps;try{Ii(l.type,v,f,l)}catch(b){Gt(l,l.return,b)}}function _1(l,f){for(vd(l.containerInfo),Si=f;Si!==null;)if(l=Si,f=l.child,(l.subtreeFlags&1028)!==0&&f!==null)f.return=l,Si=f;else for(;Si!==null;){l=Si;var v=l.alternate;switch(f=l.flags,l.tag){case 0:if((f&4)!==0&&(f=l.updateQueue,f=f!==null?f.events:null,f!==null))for(var b=0;b<f.length;b++){var C=f[b];C.ref.impl=C.nextImpl}break;case 11:case 15:break;case 1:if((f&1024)!==0&&v!==null){f=void 0,b=l,C=v.memoizedProps,v=v.memoizedState;var N=b.stateNode;try{var V=jl(b.type,C);f=N.getSnapshotBeforeUpdate(V,v),N.__reactInternalSnapshotBeforeUpdate=f}catch(se){Gt(b,b.return,se)}}break;case 3:(f&1024)!==0&&vn&&Ym(l.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((f&1024)!==0)throw Error(i(163))}if(f=l.sibling,f!==null){f.return=l.return,Si=f;break}Si=l.return}}function Uv(l,f,v){var b=v.flags;switch(v.tag){case 0:case 11:case 15:Cr(l,v),b&4&&Na(5,v);break;case 1:if(Cr(l,v),b&4)if(l=v.stateNode,f===null)try{l.componentDidMount()}catch(V){Gt(v,v.return,V)}else{var C=jl(v.type,f.memoizedProps);f=f.memoizedState;try{l.componentDidUpdate(C,f,l.__reactInternalSnapshotBeforeUpdate)}catch(V){Gt(v,v.return,V)}}b&64&&$u(v),b&512&&Qu(v,v.return);break;case 3:if(Cr(l,v),b&64&&(b=v.updateQueue,b!==null)){if(l=null,v.child!==null)switch(v.child.tag){case 27:case 5:l=uc(v.child.stateNode);break;case 1:l=v.child.stateNode}try{co(b,l)}catch(V){Gt(v,v.return,V)}}break;case 27:Wi&&f===null&&b&4&&Pv(v);case 26:case 5:if(Cr(l,v),f===null){if(b&4)Kl(v);else if(b&64){l=v.type,f=v.memoizedProps,C=v.stateNode;try{yy(C,l,f,v)}catch(V){Gt(v,v.return,V)}}}b&512&&Qu(v,v.return);break;case 12:Cr(l,v);break;case 31:Cr(l,v),b&4&&Os(l,v);break;case 13:Cr(l,v),b&4&&Sf(l,v),b&64&&(b=v.memoizedState,b!==null&&(b=b.dehydrated,b!==null&&(v=x1.bind(null,v),Ed(b,v))));break;case 22:if(b=v.memoizedState!==null||gi,!b){f=f!==null&&f.memoizedState!==null||vi,C=gi;var N=vi;gi=b,(vi=f)&&!N?Ps(l,v,(v.subtreeFlags&8772)!==0):Cr(l,v),gi=C,vi=N}break;case 30:break;default:Cr(l,v)}}function Am(l){var f=l.alternate;f!==null&&(l.alternate=null,Am(f)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(f=l.stateNode,f!==null&&yd(f)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Ls(l,f,v){for(v=v.child;v!==null;)bf(l,f,v),v=v.sibling}function bf(l,f,v){if(jr&&typeof jr.onCommitFiberUnmount=="function")try{jr.onCommitFiberUnmount(cu,v)}catch{}switch(v.tag){case 26:if(Bs){vi||_r(v,f),Ls(l,f,v),v.memoizedState?sl(v.memoizedState):v.stateNode&&ug(v.stateNode);break}case 27:if(Wi){vi||_r(v,f);var b=ci,C=Mi;ou(v.type)&&(ci=v.stateNode,Mi=!1),Ls(l,f,v),ir(v.stateNode),ci=b,Mi=C;break}case 5:vi||_r(v,f);case 6:if(vn){if(b=ci,C=Mi,ci=null,Ls(l,f,v),ci=b,Mi=C,ci!==null)if(Mi)try{jm(ci,v.stateNode)}catch(N){Gt(v,f,N)}else try{Qv(ci,v.stateNode)}catch(N){Gt(v,f,N)}}else Ls(l,f,v);break;case 18:vn&&ci!==null&&(Mi?Td(ci,v.stateNode):rg(ci,v.stateNode));break;case 4:vn?(b=ci,C=Mi,ci=v.stateNode.containerInfo,Mi=!0,Ls(l,f,v),ci=b,Mi=C):(ms&&wm(v.stateNode,v,Zm()),Ls(l,f,v));break;case 0:case 11:case 14:case 15:La(2,v,f),vi||La(4,v,f),Ls(l,f,v);break;case 1:vi||(_r(v,f),b=v.stateNode,typeof b.componentWillUnmount=="function"&&ed(v,f,b)),Ls(l,f,v);break;case 21:Ls(l,f,v);break;case 22:vi=(b=vi)||v.memoizedState!==null,Ls(l,f,v),vi=b;break;default:Ls(l,f,v)}}function Os(l,f){if(Jn&&f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{E1(l)}catch(v){Gt(f,f.return,v)}}}function Sf(l,f){if(Jn&&f.memoizedState===null&&(l=f.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{T1(l)}catch(v){Gt(f,f.return,v)}}function Is(l){switch(l.tag){case 31:case 13:case 19:var f=l.stateNode;return f===null&&(f=l.stateNode=new _g),f;case 22:return l=l.stateNode,f=l._retryCache,f===null&&(f=l._retryCache=new _g),f;default:throw Error(i(435,l.tag))}}function po(l,f){var v=Is(l);f.forEach(function(b){if(!v.has(b)){v.add(b);var C=b1.bind(null,l,b);b.then(C,C)}})}function tr(l,f){var v=f.deletions;if(v!==null)for(var b=0;b<v.length;b++){var C=v[b],N=l,V=f;if(vn){var se=V;e:for(;se!==null;){switch(se.tag){case 27:if(Wi){if(ou(se.type)){ci=se.stateNode,Mi=!1;break e}break}case 5:ci=se.stateNode,Mi=!1;break e;case 3:case 4:ci=se.stateNode.containerInfo,Mi=!0;break e}se=se.return}if(ci===null)throw Error(i(160));bf(N,V,C),ci=null,Mi=!1}else bf(N,V,C);N=C.alternate,N!==null&&(N.return=null),C.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)Mf(f,l),f=f.sibling}function Mf(l,f){var v=l.alternate,b=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:tr(f,l),nr(l),b&4&&(La(3,l,l.return),Na(3,l),La(5,l,l.return));break;case 1:tr(f,l),nr(l),b&512&&(vi||v===null||_r(v,v.return)),b&64&&gi&&(l=l.updateQueue,l!==null&&(b=l.callbacks,b!==null&&(v=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=v===null?b:v.concat(b))));break;case 26:if(Bs){var C=Pn;if(tr(f,l),nr(l),b&512&&(vi||v===null||_r(v,v.return)),b&4){b=v!==null?v.memoizedState:null;var N=l.memoizedState;v===null?N===null?l.stateNode===null?l.stateNode=Ey(C,l.type,l.memoizedProps,l):lg(C,l.type,l.stateNode):l.stateNode=og(C,N,l.memoizedProps):b!==N?(b===null?v.stateNode!==null&&ug(v.stateNode):sl(b),N===null?lg(C,l.type,l.stateNode):og(C,N,l.memoizedProps)):N===null&&l.stateNode!==null&&_f(l,l.memoizedProps,v.memoizedProps)}break}case 27:if(Wi){tr(f,l),nr(l),b&512&&(vi||v===null||_r(v,v.return)),v!==null&&b&4&&_f(l,l.memoizedProps,v.memoizedProps);break}case 5:if(tr(f,l),nr(l),b&512&&(vi||v===null||_r(v,v.return)),vn){if(l.flags&32){C=l.stateNode;try{qm(C)}catch($e){Gt(l,l.return,$e)}}b&4&&l.stateNode!=null&&(C=l.memoizedProps,_f(l,C,v!==null?v.memoizedProps:C)),b&1024&&(gc=!0)}else ms&&l.alternate!==null&&(l.alternate.stateNode=l.stateNode);break;case 6:if(tr(f,l),nr(l),b&4&&vn){if(l.stateNode===null)throw Error(i(162));b=l.memoizedProps,v=v!==null?v.memoizedProps:b,C=l.stateNode;try{qv(C,v,b)}catch($e){Gt(l,l.return,$e)}}break;case 3:if(Bs?(Ty(),C=Pn,Pn=Pf(f.containerInfo),tr(f,l),Pn=C):tr(f,l),nr(l),b&4){if(vn&&Jn&&v!==null&&v.memoizedState.isDehydrated)try{_y(f.containerInfo)}catch($e){Gt(l,l.return,$e)}if(ms){b=f.containerInfo,v=f.pendingChildren;try{$m(b,v)}catch($e){Gt(l,l.return,$e)}}}gc&&(gc=!1,nd(l));break;case 4:Bs?(v=Pn,Pn=Pf(l.stateNode.containerInfo),tr(f,l),nr(l),Pn=v):(tr(f,l),nr(l)),b&4&&ms&&wm(l.stateNode,l,l.stateNode.pendingChildren);break;case 12:tr(f,l),nr(l);break;case 31:tr(f,l),nr(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,po(l,b)));break;case 13:tr(f,l),nr(l),l.child.flags&8192&&l.memoizedState!==null!=(v!==null&&v.memoizedState!==null)&&(Xf=xr()),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,po(l,b)));break;case 22:C=l.memoizedState!==null;var V=v!==null&&v.memoizedState!==null,se=gi,Oe=vi;if(gi=se||C,vi=Oe||V,tr(f,l),vi=Oe,gi=se,nr(l),b&8192&&(f=l.stateNode,f._visibility=C?f._visibility&-2:f._visibility|1,C&&(v===null||V||gi||vi||jo(l)),vn)){e:if(v=null,vn)for(f=l;;){if(f.tag===5||Bs&&f.tag===26){if(v===null){V=v=f;try{N=V.stateNode,C?S1(N):ey(V.stateNode,V.memoizedProps)}catch($e){Gt(V,V.return,$e)}}}else if(f.tag===6){if(v===null){V=f;try{var je=V.stateNode;C?Jv(je):ty(je,V.memoizedProps)}catch($e){Gt(V,V.return,$e)}}}else if(f.tag===18){if(v===null){V=f;try{var ut=V.stateNode;C?by(ut):Sy(V.stateNode)}catch($e){Gt(V,V.return,$e)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break e;for(;f.sibling===null;){if(f.return===null||f.return===l)break e;v===f&&(v=null),f=f.return}v===f&&(v=null),f.sibling.return=f.return,f=f.sibling}}b&4&&(b=l.updateQueue,b!==null&&(v=b.retryQueue,v!==null&&(b.retryQueue=null,po(l,v))));break;case 19:tr(f,l),nr(l),b&4&&(b=l.updateQueue,b!==null&&(l.updateQueue=null,po(l,b)));break;case 30:break;case 21:break;default:tr(f,l),nr(l)}}function nr(l){var f=l.flags;if(f&2){try{for(var v,b=l.return;b!==null;){if(Tm(b)){v=b;break}b=b.return}if(vn){if(v==null)throw Error(i(160));switch(v.tag){case 27:if(Wi){var C=v.stateNode,N=ho(l);xf(l,N,C);break}case 5:var V=v.stateNode;v.flags&32&&(qm(V),v.flags&=-33);var se=ho(l);xf(l,se,V);break;case 3:case 4:var Oe=v.stateNode.containerInfo,je=ho(l);td(l,je,Oe);break;default:throw Error(i(161))}}}catch(ut){Gt(l,l.return,ut)}l.flags&=-3}f&4096&&(l.flags&=-4097)}function nd(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var f=l;nd(f),f.tag===5&&f.flags&1024&&km(f.stateNode),l=l.sibling}}function Cr(l,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Uv(l,f.alternate,f),f=f.sibling}function jo(l){for(l=l.child;l!==null;){var f=l;switch(f.tag){case 0:case 11:case 14:case 15:La(4,f,f.return),jo(f);break;case 1:_r(f,f.return);var v=f.stateNode;typeof v.componentWillUnmount=="function"&&ed(f,f.return,v),jo(f);break;case 27:Wi&&ir(f.stateNode);case 26:case 5:_r(f,f.return),jo(f);break;case 22:f.memoizedState===null&&jo(f);break;case 30:jo(f);break;default:jo(f)}l=l.sibling}}function Ps(l,f,v){for(v=v&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,C=l,N=f,V=N.flags;switch(N.tag){case 0:case 11:case 15:Ps(C,N,v),Na(4,N);break;case 1:if(Ps(C,N,v),b=N,C=b.stateNode,typeof C.componentDidMount=="function")try{C.componentDidMount()}catch(je){Gt(b,b.return,je)}if(b=N,C=b.updateQueue,C!==null){var se=b.stateNode;try{var Oe=C.shared.hiddenCallbacks;if(Oe!==null)for(C.shared.hiddenCallbacks=null,C=0;C<Oe.length;C++)uo(Oe[C],se)}catch(je){Gt(b,b.return,je)}}v&&V&64&&$u(N),Qu(N,N.return);break;case 27:Wi&&Pv(N);case 26:case 5:Ps(C,N,v),v&&b===null&&V&4&&Kl(N),Qu(N,N.return);break;case 12:Ps(C,N,v);break;case 31:Ps(C,N,v),v&&V&4&&Os(C,N);break;case 13:Ps(C,N,v),v&&V&4&&Sf(C,N);break;case 22:N.memoizedState===null&&Ps(C,N,v),Qu(N,N.return);break;case 30:break;default:Ps(C,N,v)}f=f.sibling}}function qo(l,f){var v=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(v=l.memoizedState.cachePool.pool),l=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(l=f.memoizedState.cachePool.pool),l!==v&&(l!=null&&l.refCount++,v!=null&&Be(v))}function Cm(l,f){l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Be(l))}function ai(l,f,v,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)id(l,f,v,b),f=f.sibling}function id(l,f,v,b){var C=f.flags;switch(f.tag){case 0:case 11:case 15:ai(l,f,v,b),C&2048&&Na(9,f);break;case 1:ai(l,f,v,b);break;case 3:ai(l,f,v,b),C&2048&&(l=null,f.alternate!==null&&(l=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==l&&(f.refCount++,l!=null&&Be(l)));break;case 12:if(C&2048){ai(l,f,v,b),l=f.stateNode;try{var N=f.memoizedProps,V=N.id,se=N.onPostCommit;typeof se=="function"&&se(V,f.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Oe){Gt(f,f.return,Oe)}}else ai(l,f,v,b);break;case 31:ai(l,f,v,b);break;case 13:ai(l,f,v,b);break;case 23:break;case 22:N=f.stateNode,V=f.alternate,f.memoizedState!==null?N._visibility&2?ai(l,f,v,b):Ju(l,f):N._visibility&2?ai(l,f,v,b):(N._visibility|=2,kr(l,f,v,b,(f.subtreeFlags&10256)!==0||!1)),C&2048&&qo(V,f);break;case 24:ai(l,f,v,b),C&2048&&Cm(f.alternate,f);break;default:ai(l,f,v,b)}}function kr(l,f,v,b,C){for(C=C&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var N=l,V=f,se=v,Oe=b,je=V.flags;switch(V.tag){case 0:case 11:case 15:kr(N,V,se,Oe,C),Na(8,V);break;case 23:break;case 22:var ut=V.stateNode;V.memoizedState!==null?ut._visibility&2?kr(N,V,se,Oe,C):Ju(N,V):(ut._visibility|=2,kr(N,V,se,Oe,C)),C&&je&2048&&qo(V.alternate,V);break;case 24:kr(N,V,se,Oe,C),C&&je&2048&&Cm(V.alternate,V);break;default:kr(N,V,se,Oe,C)}f=f.sibling}}function Ju(l,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var v=l,b=f,C=b.flags;switch(b.tag){case 22:Ju(v,b),C&2048&&qo(b.alternate,b);break;case 24:Ju(v,b),C&2048&&Cm(b.alternate,b);break;default:Ju(v,b)}f=f.sibling}}function Oa(l,f,v){if(l.subtreeFlags&_s)for(l=l.child;l!==null;)Yo(l,f,v),l=l.sibling}function Yo(l,f,v){switch(l.tag){case 26:if(Oa(l,f,v),l.flags&_s)if(l.memoizedState!==null)wy(v,Pn,l.memoizedState,l.memoizedProps);else{var b=l.stateNode,C=l.type;l=l.memoizedProps,((f&335544128)===f||Fm(C,l))&&_d(v,b,C,l)}break;case 5:Oa(l,f,v),l.flags&_s&&(b=l.stateNode,C=l.type,l=l.memoizedProps,((f&335544128)===f||Fm(C,l))&&_d(v,b,C,l));break;case 3:case 4:Bs?(b=Pn,Pn=Pf(l.stateNode.containerInfo),Oa(l,f,v),Pn=b):Oa(l,f,v);break;case 22:l.memoizedState===null&&(b=l.alternate,b!==null&&b.memoizedState!==null?(b=_s,_s=16777216,Oa(l,f,v),_s=b):Oa(l,f,v));break;default:Oa(l,f,v)}}function rd(l){var f=l.alternate;if(f!==null&&(l=f.child,l!==null)){f.child=null;do f=l.sibling,l.sibling=null,l=f;while(l!==null)}}function ec(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var b=f[v];Si=b,hs(b,l)}rd(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)sd(l),l=l.sibling}function sd(l){switch(l.tag){case 0:case 11:case 15:ec(l),l.flags&2048&&La(9,l,l.return);break;case 3:ec(l);break;case 12:ec(l);break;case 22:var f=l.stateNode;l.memoizedState!==null&&f._visibility&2&&(l.return===null||l.return.tag!==13)?(f._visibility&=-3,Ef(l)):ec(l);break;default:ec(l)}}function Ef(l){var f=l.deletions;if((l.flags&16)!==0){if(f!==null)for(var v=0;v<f.length;v++){var b=f[v];Si=b,hs(b,l)}rd(l)}for(l=l.child;l!==null;){switch(f=l,f.tag){case 0:case 11:case 15:La(8,f,f.return),Ef(f);break;case 22:v=f.stateNode,v._visibility&2&&(v._visibility&=-3,Ef(f));break;default:Ef(f)}l=l.sibling}}function hs(l,f){for(;Si!==null;){var v=Si;switch(v.tag){case 0:case 11:case 15:La(8,v,f);break;case 23:case 22:if(v.memoizedState!==null&&v.memoizedState.cachePool!==null){var b=v.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:Be(v.memoizedState.cache)}if(b=v.child,b!==null)b.return=v,Si=b;else e:for(v=l;Si!==null;){b=Si;var C=b.sibling,N=b.return;if(Am(b),b===v){Si=null;break e}if(C!==null){C.return=N,Si=C;break e}Si=N}}}function Zo(l){var f=$t(l);if(f!=null){if(typeof f.memoizedProps["data-testname"]!="string")throw Error(i(364));return f}if(l=xi(l),l===null)throw Error(i(362));return l.stateNode.current}function Ko(l,f){var v=l.tag;switch(f.$$typeof){case qs:if(l.type===f.value)return!0;break;case yc:e:{for(f=f.value,l=[l,0],v=0;v<l.length;){var b=l[v++],C=b.tag,N=l[v++],V=f[N];if(C!==5&&C!==26&&C!==27||!il(b)){for(;V!=null&&Ko(b,V);)N++,V=f[N];if(N===f.length){f=!0;break e}else for(b=b.child;b!==null;)l.push(b,N),b=b.sibling}}f=!1}return f;case _c:if((v===5||v===26||v===27)&&Gm(l.stateNode,f.value))return!0;break;case fl:if((v===5||v===6||v===26||v===27)&&(l=Of(l),l!==null&&0<=l.indexOf(f.value)))return!0;break;case Gf:if((v===5||v===26||v===27)&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===f.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function tc(l){switch(l.$$typeof){case qs:return"<"+(y(l.value)||"Unknown")+">";case yc:return":has("+(tc(l)||"")+")";case _c:return'[role="'+l.value+'"]';case fl:return'"'+l.value+'"';case Gf:return'[data-testname="'+l.value+'"]';default:throw Error(i(365))}}function nc(l,f){var v=[];l=[l,0];for(var b=0;b<l.length;){var C=l[b++],N=C.tag,V=l[b++],se=f[V];if(N!==5&&N!==26&&N!==27||!il(C)){for(;se!=null&&Ko(C,se);)V++,se=f[V];if(V===f.length)v.push(C);else for(C=C.child;C!==null;)l.push(C,V),C=C.sibling}}return v}function Vr(l,f){if(!Gi)throw Error(i(363));l=Zo(l),l=nc(l,f),f=[],l=Array.from(l);for(var v=0;v<l.length;){var b=l[v++],C=b.tag;if(C===5||C===26||C===27)il(b)||f.push(b.stateNode);else for(b=b.child;b!==null;)l.push(b),b=b.sibling}return f}function Qn(){return(fn&2)!==0&&mn!==0?mn&-mn:Pt.T!==null?ye():fc()}function mo(){if(Ir===0)if((mn&536870912)===0||pn){var l=uu;uu<<=1,(uu&3932160)===0&&(uu=262144),Ir=l}else Ir=536870912;return l=qr.current,l!==null&&(l.flags|=32),Ir}function oi(l,f,v){(l===on&&(Un===2||Un===9)||l.cancelPendingCommit!==null)&&(pi(l,0),Pa(l,mn,Ir,!1)),z(l,v),((fn&2)===0||l!==on)&&(l===on&&((fn&2)===0&&(pl|=v),fi===4&&Pa(l,mn,Ir,!1)),st(l))}function la(l,f,v){if((fn&6)!==0)throw Error(i(327));var b=!v&&(f&127)===0&&(f&l.expiredLanes)===0||R(l,f),C=b?Bv(l,f):Ua(l,f,!0),N=b;do{if(C===0){hl&&!b&&Pa(l,f,0,!1);break}else{if(v=l.current.alternate,N&&!zv(v)){C=Ua(l,f,!1),N=!1;continue}if(C===2){if(N=f,l.errorRecoveryDisabledLanes&N)var V=0;else V=l.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var se=l;C=Wf;var Oe=Jn&&se.current.memoizedState.isDehydrated;if(Oe&&(pi(se,V).flags|=256),V=Ua(se,V,!1),V!==2){if(dl&&!Oe){se.errorRecoveryDisabledLanes|=N,pl|=N,C=4;break e}N=Zr,Zr=C,N!==null&&(Zr===null?Zr=N:Zr.push.apply(Zr,N))}C=V}if(N=!1,C!==2)continue}}if(C===1){pi(l,0),Pa(l,f,0,!0);break}e:{switch(b=l,N=C,N){case 0:case 1:throw Error(i(345));case 4:if((f&4194048)!==f)break;case 6:Pa(b,f,Ir,!ha);break e;case 2:Zr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((f&62914560)===f&&(C=Xf+300-xr(),10<C)){if(Pa(b,f,Ir,!ha),M(b,0,!0)!==0)break e;Ka=f,b.timeoutHandle=zm(Ia.bind(null,b,v,Zr,jf,Vd,f,Ir,pl,bc,ha,N,"Throttled",-0,0),C);break e}Ia(b,v,Zr,jf,Vd,f,Ir,pl,bc,ha,N,null,-0,0)}}break}while(!0);st(l)}function Ia(l,f,v,b,C,N,V,se,Oe,je,ut,$e,yt,Kt){if(l.timeoutHandle=Wr,$e=f.subtreeFlags,$e&8192||($e&16785408)===16785408){$e=Bm(),Yo(f,N,$e);var Ei=(N&62914560)===N?Xf-xr():(N&4194048)===N?gu-xr():0;if(Ei=jv($e,Ei),Ei!==null){Ka=N,l.cancelPendingCommit=Ei(Fa.bind(null,l,f,N,v,b,C,V,se,Oe,ut,$e,null,yt,Kt)),Pa(l,N,V,!je);return}}Fa(l,f,N,v,b,C,V,se,Oe)}function zv(l){for(var f=l;;){var v=f.tag;if((v===0||v===11||v===15)&&f.flags&16384&&(v=f.updateQueue,v!==null&&(v=v.stores,v!==null)))for(var b=0;b<v.length;b++){var C=v[b],N=C.getSnapshot;C=C.value;try{if(!bi(N(),C))return!1}catch{return!1}}if(v=f.child,f.subtreeFlags&16384&&v!==null)v.return=f,f=v;else{if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Pa(l,f,v,b){f&=~xc,f&=~pl,l.suspendedLanes|=f,l.pingedLanes&=~f,b&&(l.warmLanes|=f),b=l.expirationTimes;for(var C=f;0<C;){var N=31-Xr(C),V=1<<N;b[N]=-1,C&=~V}v!==0&&k(l,v,f)}function ad(){return(fn&6)===0?(Ge(0),!1):!0}function od(){if(hn!==null){if(Un===0)var l=hn.return;else l=hn,ca=Xn=null,Fn(l),ll=null,fu=0,l=hn;for(;l!==null;)Iv(l.alternate,l),l=l.return;hn=null}}function pi(l,f){var v=l.timeoutHandle;v!==Wr&&(l.timeoutHandle=Wr,Xv(v)),v=l.cancelPendingCommit,v!==null&&(l.cancelPendingCommit=null,v()),Ka=0,od(),on=l,hn=v=ps(l.current,null),mn=f,Un=0,Pi=null,ha=!1,hl=R(l,f),dl=!1,bc=Ir=xc=pl=Ao=fi=0,Zr=Wf=null,Vd=!1,(f&8)!==0&&(f|=f&32);var b=l.entangledLanes;if(b!==0)for(l=l.entanglements,b&=f;0<b;){var C=31-Xr(b),N=1<<C;f|=l[C],b&=~N}return Za=f,ko(),v}function Wn(l,f){Qt=null,Pt.H=ys,f===qi||f===Xs?(f=rn(),Un=3):f===Bd?(f=rn(),Un=4):Un=f===Or?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Pi=f,hn===null&&(fi=1,Kh(l,Pe(f,l.current)))}function gn(){var l=qr.current;return l===null?!0:(mn&4194048)===mn?Yr===null:(mn&62914560)===mn||(mn&536870912)!==0?l===Yr:!1}function go(){var l=Pt.H;return Pt.H=ys,l===null?ys:l}function ds(){var l=Pt.A;return Pt.A=vc,l}function ic(){fi=4,ha||(mn&4194048)!==mn&&qr.current!==null||(hl=!0),(Ao&134217727)===0&&(pl&134217727)===0||on===null||Pa(on,mn,Ir,!1)}function Ua(l,f,v){var b=fn;fn|=2;var C=go(),N=ds();(on!==l||mn!==f)&&(jf=null,pi(l,f)),f=!1;var V=fi;e:do try{if(Un!==0&&hn!==null){var se=hn,Oe=Pi;switch(Un){case 8:od(),V=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(f=!0);var je=Un;if(Un=0,Pi=null,za(l,se,Oe,je),v&&hl){V=0;break e}break;default:je=Un,Un=0,Pi=null,za(l,se,Oe,je)}}Fv(),V=fi;break}catch(ut){Wn(l,ut)}while(!0);return f&&l.shellSuspendCounter++,ca=Xn=null,fn=b,Pt.H=C,Pt.A=N,hn===null&&(on=null,mn=0,ko()),V}function Fv(){for(;hn!==null;)$o(hn)}function Bv(l,f){var v=fn;fn|=2;var b=go(),C=ds();on!==l||mn!==f?(jf=null,ml=xr()+500,pi(l,f)):hl=R(l,f);e:do try{if(Un!==0&&hn!==null){f=hn;var N=Pi;t:switch(Un){case 1:Un=0,Pi=null,za(l,f,N,1);break;case 2:case 9:if(tt(N)){Un=0,Pi=null,ld(f);break}f=function(){Un!==2&&Un!==9||on!==l||(Un=7),st(l)},N.then(f,f);break e;case 3:Un=7;break e;case 4:Un=5;break e;case 7:tt(N)?(Un=0,Pi=null,ld(f)):(Un=0,Pi=null,za(l,f,N,7));break;case 5:var V=null;switch(hn.tag){case 26:V=hn.memoizedState;case 5:case 27:var se=hn,Oe=se.type,je=se.pendingProps;if(V?fg(V):li(se.stateNode,Oe,je)){Un=0,Pi=null;var ut=se.sibling;if(ut!==null)hn=ut;else{var $e=se.return;$e!==null?(hn=$e,sc($e)):hn=null}break t}}Un=0,Pi=null,za(l,f,N,5);break;case 6:Un=0,Pi=null,za(l,f,N,6);break;case 8:od(),fi=6;break e;default:throw Error(i(462))}}rc();break}catch(yt){Wn(l,yt)}while(!0);return ca=Xn=null,Pt.H=b,Pt.A=C,fn=v,hn!==null?0:(on=null,mn=0,ko(),fi)}function rc(){for(;hn!==null&&!Cy();)$o(hn)}function $o(l){var f=bm(l.alternate,l,Za);l.memoizedProps=l.pendingProps,f===null?sc(l):hn=f}function ld(l){var f=l,v=f.alternate;switch(f.tag){case 15:case 0:f=mm(v,f,f.pendingProps,f.type,void 0,mn);break;case 11:f=mm(v,f,f.pendingProps,f.type.render,f.ref,mn);break;case 5:Fn(f);default:Iv(v,f),f=hn=fd(f,Za),f=bm(v,f,Za)}l.memoizedProps=l.pendingProps,f===null?sc(l):hn=f}function za(l,f,v,b){ca=Xn=null,Fn(f),ll=null,fu=0;var C=f.return;try{if(y1(l,C,f,v,mn)){fi=1,Kh(l,Pe(v,l.current)),hn=null;return}}catch(N){if(C!==null)throw hn=C,N;fi=1,Kh(l,Pe(v,l.current)),hn=null;return}f.flags&32768?(pn||b===1?l=!0:hl||(mn&536870912)!==0?l=!1:(ha=l=!0,(b===2||b===9||b===3||b===6)&&(b=qr.current,b!==null&&b.tag===13&&(b.flags|=16384))),Qo(f,l)):sc(f)}function sc(l){var f=l;do{if((f.flags&32768)!==0){Qo(f,ha);return}l=f.return;var v=Ov(f.alternate,f,Za);if(v!==null){hn=v;return}if(f=f.sibling,f!==null){hn=f;return}hn=f=l}while(f!==null);fi===0&&(fi=5)}function Qo(l,f){do{var v=Em(l.alternate,l);if(v!==null){v.flags&=32767,hn=v;return}if(v=l.return,v!==null&&(v.flags|=32768,v.subtreeFlags=0,v.deletions=null),!f&&(l=l.sibling,l!==null)){hn=l;return}hn=l=v}while(l!==null);fi=6,hn=null}function Fa(l,f,v,b,C,N,V,se,Oe){l.cancelPendingCommit=null;do ka();while(Ui!==0);if((fn&6)!==0)throw Error(i(327));if(f!==null){if(f===l.current)throw Error(i(177));if(N=f.lanes|f.childLanes,N|=hu,B(l,v,N,V,se,Oe),l===on&&(hn=on=null,mn=0),vu=f,Ro=l,Ka=v,Sc=N,Hd=C,xg=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Oi(zf,function(){return Tf(),null})):(l.callbackNode=null,l.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=Pt.T,Pt.T=null,C=Fs(),dn(2),V=fn,fn|=4;try{_1(l,f,v)}finally{fn=V,dn(C),Pt.T=b}}Ui=1,vo(),Ba(),ud()}}function vo(){if(Ui===1){Ui=0;var l=Ro,f=vu,v=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||v){v=Pt.T,Pt.T=null;var b=Fs();dn(2);var C=fn;fn|=4;try{Mf(f,l),Wv(l.containerInfo)}finally{fn=C,dn(b),Pt.T=v}}l.current=f,Ui=2}}function Ba(){if(Ui===2){Ui=0;var l=Ro,f=vu,v=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||v){v=Pt.T,Pt.T=null;var b=Fs();dn(2);var C=fn;fn|=4;try{Uv(l,f.alternate,f)}finally{fn=C,dn(b),Pt.T=v}}Ui=3}}function ud(){if(Ui===4||Ui===3){Ui=0,dg();var l=Ro,f=vu,v=Ka,b=xg;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Ui=5:(Ui=0,vu=Ro=null,cd(l,l.pendingLanes));var C=l.pendingLanes;if(C===0&&(Co=null),ee(v),f=f.stateNode,jr&&typeof jr.onCommitFiberRoot=="function")try{jr.onCommitFiberRoot(cu,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=Pt.T,C=Fs(),dn(2),Pt.T=null;try{for(var N=l.onRecoverableError,V=0;V<b.length;V++){var se=b[V];N(se.value,{componentStack:se.stack})}}finally{Pt.T=f,dn(C)}}(Ka&3)!==0&&ka(),st(l),C=l.pendingLanes,(v&261930)!==0&&(C&42)!==0?l===qf?Tn++:(Tn=0,qf=l):Tn=0,Jn&&If(),Ge(0)}}function cd(l,f){(l.pooledCacheLanes&=f)===0&&(f=l.pooledCache,f!=null&&(l.pooledCache=null,Be(f)))}function ka(){return vo(),Ba(),ud(),Tf()}function Tf(){if(Ui!==5)return!1;var l=Ro,f=Sc;Sc=0;var v=ee(Ka),b=32>v?32:v;v=Pt.T;var C=Fs();try{dn(b),Pt.T=null,b=Hd,Hd=null;var N=Ro,V=Ka;if(Ui=0,vu=Ro=null,Ka=0,(fn&6)!==0)throw Error(i(331));var se=fn;if(fn|=4,sd(N.current),id(N,N.current,V,b),fn=se,Ge(0,!1),jr&&typeof jr.onPostCommitFiberRoot=="function")try{jr.onPostCommitFiberRoot(cu,N)}catch{}return!0}finally{dn(C),Pt.T=v,cd(l,f)}}function Jo(l,f,v){f=Pe(v,f),f=dm(l.stateNode,f,2),l=cs(l,f,2),l!==null&&(z(l,2),st(l))}function Gt(l,f,v){if(l.tag===3)Jo(l,l,v);else for(;f!==null;){if(f.tag===3){Jo(f,l,v);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Co===null||!Co.has(b))){l=Pe(v,l),v=bv(2),b=cs(f,v,2),b!==null&&(Sv(v,b,f,l),z(b,2),st(b));break}}f=f.return}}function ac(l,f,v){var b=l.pingCache;if(b===null){b=l.pingCache=new xs;var C=new Set;b.set(f,C)}else C=b.get(f),C===void 0&&(C=new Set,b.set(f,C));C.has(v)||(dl=!0,C.add(v),l=kv.bind(null,l,f,v),f.then(l,l))}function kv(l,f,v){var b=l.pingCache;b!==null&&b.delete(f),l.pingedLanes|=l.suspendedLanes&v,l.warmLanes&=~v,on===l&&(mn&v)===v&&(fi===4||fi===3&&(mn&62914560)===mn&&300>xr()-Xf?(fn&2)===0&&pi(l,0):xc|=v,bc===mn&&(bc=0)),st(l)}function Vv(l,f){f===0&&(f=L()),l=yr(l,f),l!==null&&(z(l,f),st(l))}function x1(l){var f=l.memoizedState,v=0;f!==null&&(v=f.retryLane),Vv(l,v)}function b1(l,f){var v=0;switch(l.tag){case 31:case 13:var b=l.stateNode,C=l.memoizedState;C!==null&&(v=C.retryLane);break;case 19:b=l.stateNode;break;case 22:b=l.stateNode._retryCache;break;default:throw Error(i(314))}b!==null&&b.delete(f),Vv(l,v)}function Oi(l,f){return Uf(l,f)}function Rm(l,f,v,b){this.tag=l,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $l(l){return l=l.prototype,!(!l||!l.isReactComponent)}function ps(l,f){var v=l.alternate;return v===null?(v=t(l.tag,f,l.key,l.mode),v.elementType=l.elementType,v.type=l.type,v.stateNode=l.stateNode,v.alternate=l,l.alternate=v):(v.pendingProps=f,v.type=l.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=l.flags&65011712,v.childLanes=l.childLanes,v.lanes=l.lanes,v.child=l.child,v.memoizedProps=l.memoizedProps,v.memoizedState=l.memoizedState,v.updateQueue=l.updateQueue,f=l.dependencies,v.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},v.sibling=l.sibling,v.index=l.index,v.ref=l.ref,v.refCleanup=l.refCleanup,v}function fd(l,f){l.flags&=65011714;var v=l.alternate;return v===null?(l.childLanes=0,l.lanes=f,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=v.childLanes,l.lanes=v.lanes,l.child=v.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=v.memoizedProps,l.memoizedState=v.memoizedState,l.updateQueue=v.updateQueue,l.type=v.type,f=v.dependencies,l.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),l}function yo(l,f,v,b,C,N){var V=0;if(b=l,typeof l=="function")$l(l)&&(V=1);else if(typeof l=="string")V=Bs&&Wi?wd(l,v,rr.current)?26:hg(l)?27:5:Bs?wd(l,v,rr.current)?26:5:Wi&&hg(l)?27:5;else e:switch(l){case Rf:return l=t(31,v,f,C),l.elementType=Rf,l.lanes=N,l;case tu:return Us(v.children,C,N,f);case nu:V=8,C|=24;break;case iu:return l=t(12,v,f,C|2),l.elementType=iu,l.lanes=N,l;case md:return l=t(13,v,f,C),l.elementType=md,l.lanes=N,l;case _o:return l=t(19,v,f,C),l.elementType=_o,l.lanes=N,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case zs:V=10;break e;case Cf:V=9;break e;case oc:V=11;break e;case gd:V=14;break e;case Rr:V=16,b=null;break e}V=29,v=Error(i(130,l===null?"null":typeof l,"")),b=null}return f=t(V,v,f,C),f.elementType=l,f.type=b,f.lanes=N,f}function Us(l,f,v,b){return l=t(7,l,b,f),l.lanes=v,l}function Dm(l,f,v){return l=t(6,l,null,f),l.lanes=v,l}function Nm(l){var f=t(18,null,null,0);return f.stateNode=l,f}function Lm(l,f,v){return f=t(4,l.children!==null?l.children:[],l.key,f),f.lanes=v,f.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},f}function Hv(l,f,v,b,C,N,V,se,Oe){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Wr,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=P(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=P(0),this.hiddenUpdates=P(null),this.identifierPrefix=b,this.onUncaughtError=C,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Oe,this.incompleteTransitions=new Map}function el(l,f,v,b,C,N,V,se,Oe,je,ut,$e){return l=new Hv(l,f,v,V,Oe,je,ut,$e,se),f=1,N===!0&&(f|=24),N=t(3,null,null,f),l.current=N,N.stateNode=l,f=Le(),f.refCount++,l.pooledCache=f,f.refCount++,N.memoizedState={element:b,isDehydrated:v,cache:f},Vi(N),l}function hd(l){return l?(l=Ha,l):Ha}function wf(l){var f=l._reactInternals;if(f===void 0)throw typeof l.render=="function"?Error(i(188)):(l=Object.keys(l).join(","),Error(i(268,l)));return l=c(f),l=l!==null?d(l):null,l===null?null:uc(l.stateNode)}function Om(l,f,v,b,C,N){C=hd(C),b.context===null?b.context=C:b.pendingContext=C,b=us(f),b.payload={element:v},N=N===void 0?null:N,N!==null&&(b.callback=N),v=cs(l,b,f),v!==null&&(oi(v,l,f),Vo(v,l,f))}function Ql(l,f){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var v=l.retryLane;l.retryLane=v!==0&&v<f?v:f}}function Af(l,f){Ql(l,f),(l=l.alternate)&&Ql(l,f)}var sn={},dd=xE,Hr=O6,pd=Object.assign,Jl=Symbol.for("react.element"),Va=Symbol.for("react.transitional.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),nu=Symbol.for("react.strict_mode"),iu=Symbol.for("react.profiler"),Cf=Symbol.for("react.consumer"),zs=Symbol.for("react.context"),oc=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),_o=Symbol.for("react.suspense_list"),gd=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),Rf=Symbol.for("react.activity"),Im=Symbol.for("react.memo_cache_sentinel"),xo=Symbol.iterator,tl=Symbol.for("react.client.reference"),nl=Array.isArray,Pt=dd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Pm=e.rendererVersion,Df=e.rendererPackageName,lc=e.extraDevToolsConfig,uc=e.getPublicInstance,Gv=e.getRootHostContext,cc=e.getChildHostContext,vd=e.prepareForCommit,Wv=e.resetAfterCommit,Um=e.createInstance;e.cloneMutableInstance;var Nf=e.appendInitialChild,Gr=e.finalizeInitialChildren,Dr=e.shouldSetTextContent,bo=e.createTextInstance;e.cloneMutableTextInstance;var zm=e.scheduleTimeout,Xv=e.cancelTimeout,Wr=e.noTimeout,_i=e.isPrimaryRenderer;e.warnsIfNotActing;var vn=e.supportsMutation,ms=e.supportsPersistence,Jn=e.supportsHydration,$t=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Bn=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var dn=e.setCurrentUpdatePriority,Fs=e.getCurrentUpdatePriority,fc=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var ru=e.shouldAttemptEagerTransition,yd=e.detachDeletedInstance;e.requestPostPaintCallback;var Lf=e.maySuspendCommit,hc=e.maySuspendCommitOnUpdate,Fm=e.maySuspendCommitInSyncRender,li=e.preloadInstance,Bm=e.startSuspendingCommit,_d=e.suspendInstance;e.suspendOnActiveViewTransition;var jv=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var su=e.NotPendingTransition,au=e.HostTransitionContext,km=e.resetFormInstance;e.bindToConsole;var Vm=e.supportsMicrotasks,Hm=e.scheduleMicrotask,Gi=e.supportsTestSelectors,xi=e.findFiberRoot,xd=e.getBoundingRect,Of=e.getTextContent,il=e.isHiddenSubtree,Gm=e.matchAccessibilityRole,So=e.setFocusIfFocusable,bd=e.setupIntersectionObserver,Wm=e.appendChild,Xm=e.appendChildToContainer,qv=e.commitTextUpdate,Yv=e.commitMount,Zv=e.commitUpdate,Kv=e.insertBefore,$v=e.insertInContainerBefore,Qv=e.removeChild,jm=e.removeChildFromContainer,qm=e.resetTextContent,S1=e.hideInstance,Jv=e.hideTextInstance,ey=e.unhideInstance,ty=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var Ym=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var ny=e.cloneInstance,Zm=e.createContainerChildSet,Km=e.appendChildToContainerChildSet,iy=e.finalizeContainerChildren,$m=e.replaceContainerChildren,ry=e.cloneHiddenInstance,Qm=e.cloneHiddenTextInstance,rl=e.isSuspenseInstancePending,Sd=e.isSuspenseInstanceFallback,Md=e.getSuspenseInstanceFallbackErrorDetails,Ed=e.registerSuspenseInstanceRetry,sy=e.canHydrateFormStateMarker,Jm=e.isFormStateMarkerMatching,ay=e.getNextHydratableSibling,oy=e.getNextHydratableSiblingAfterSingleton,ly=e.getFirstHydratableChild,uy=e.getFirstHydratableChildWithinContainer,cy=e.getFirstHydratableChildWithinActivityInstance,fy=e.getFirstHydratableChildWithinSuspenseInstance,eg=e.getFirstHydratableChildWithinSingleton,hy=e.canHydrateInstance,dy=e.canHydrateTextInstance,tg=e.canHydrateActivityInstance,py=e.canHydrateSuspenseInstance,my=e.hydrateInstance,M1=e.hydrateTextInstance,ng=e.hydrateActivityInstance,gy=e.hydrateSuspenseInstance,vy=e.getNextHydratableInstanceAfterActivityInstance,ig=e.getNextHydratableInstanceAfterSuspenseInstance,yy=e.commitHydratedInstance,_y=e.commitHydratedContainer,E1=e.commitHydratedActivityInstance,T1=e.commitHydratedSuspenseInstance,xy=e.finalizeHydratedChildren,If=e.flushHydrationEvents;e.clearActivityBoundary;var rg=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var Td=e.clearSuspenseBoundaryFromContainer,by=e.hideDehydratedBoundary,Sy=e.unhideDehydratedBoundary,dc=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var My=e.validateHydratableInstance,sg=e.validateHydratableTextInstance,Bs=e.supportsResources,wd=e.isHostHoistableType,Pf=e.getHoistableRoot,ag=e.getResource,og=e.acquireResource,sl=e.releaseResource,Ey=e.hydrateHoistable,lg=e.mountHoistable,ug=e.unmountHoistable,Ad=e.createHoistableInstance,Ty=e.prepareToCommitHoistables,cg=e.mayResourceSuspendCommit,fg=e.preloadResource,wy=e.suspendResource,Wi=e.supportsSingletons,Cd=e.resolveSingletonInstance,Ii=e.acquireSingletonInstance,ir=e.releaseSingletonInstance,hg=e.isHostSingletonType,ou=e.isSingletonScope,Rd=[],lu=-1,Ha={},Xr=Math.clz32?Math.clz32:T,Dd=Math.log,Ay=Math.LN2,Nd=256,uu=262144,pc=4194304,Uf=Hr.unstable_scheduleCallback,Ld=Hr.unstable_cancelCallback,Cy=Hr.unstable_shouldYield,dg=Hr.unstable_requestPaint,xr=Hr.unstable_now,Od=Hr.unstable_ImmediatePriority,Ry=Hr.unstable_UserBlockingPriority,zf=Hr.unstable_NormalPriority,Id=Hr.unstable_IdlePriority,pg=Hr.log,Dy=Hr.unstable_setDisableYieldValue,cu=null,jr=null,bi=typeof Object.is=="function"?Object.is:fe,Pd=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},w1=Object.prototype.hasOwnProperty,Ud,Ga,Ff=!1,mg=new WeakMap,Mo=[],Wa=0,kn=null,Bf=0,ks=[],gs=0,Vs=null,cr=1,ua="",rr=_(null),Eo=_(null),fr=_(null),kf=_(null),Xi=null,ei=null,pn=!1,Xa=null,Nr=!1,zd=Error(i(519)),Hs=_(null),Xn=null,ca=null,Ny=typeof AbortController<"u"?AbortController:function(){var l=[],f=this.signal={aborted:!1,addEventListener:function(v,b){l.push(b)}};this.abort=function(){f.aborted=!0,l.forEach(function(v){return v()})}},sr=Hr.unstable_scheduleCallback,A1=Hr.unstable_NormalPriority,ti={$$typeof:zs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Vf=null,In=null,br=!1,Gs=!1,Fd=!1,al=0,mc=null,gg=0,To=0,ji=null,Ws=Pt.S;Pt.S=function(l,f){gu=xr(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&lt(l,f),Ws!==null&&Ws(l,f)};var ol=_(null),qi=Error(i(460)),Bd=Error(i(474)),Xs=Error(i(542)),ja={then:function(){}},Lr=null,ll=null,fu=0,hr=kl(!0),vg=kl(!1),dr=[],qa=0,hu=0,vs=!1,kd=!1,du=_(null),ul=_(0),qr=_(null),Yr=null,mi=_(0),wo=0,Qt=null,Dt=null,qt=null,an=!1,tn=!1,yn=!1,Sr=0,js=0,fa=null,yg=0,ys={readContext:q,use:Ni,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};ys.useEffectEvent=Qe;var ui={readContext:q,use:Ni,useCallback:function(l,f){return Zt().memoizedState=[l,f===void 0?null:f],l},useContext:q,useEffect:ff,useImperativeHandle:function(l,f,v){v=v!=null?v.concat([l]):null,Xl(4194308,4,Wu.bind(null,f,l),v)},useLayoutEffect:function(l,f){return Xl(4194308,4,l,f)},useInsertionEffect:function(l,f){Xl(4,2,l,f)},useMemo:function(l,f){var v=Zt();f=f===void 0?null:f;var b=l();if(yn){Q(!0);try{l()}finally{Q(!1)}}return v.memoizedState=[b,f],b},useReducer:function(l,f,v){var b=Zt();if(v!==void 0){var C=v(f);if(yn){Q(!0);try{v(f)}finally{Q(!1)}}}else C=f;return b.memoizedState=b.baseState=C,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:C},b.queue=l,l=l.dispatch=v1.bind(null,Qt,l),[b.memoizedState,l]},useRef:function(l){var f=Zt();return l={current:l},f.memoizedState=l},useState:function(l){l=sm(l);var f=l.queue,v=vv.bind(null,Qt,f);return f.dispatch=v,[l.memoizedState,v]},useDebugValue:df,useDeferredValue:function(l,f){var v=Zt();return ju(v,l,f)},useTransition:function(){var l=sm(!1);return l=pv.bind(null,Qt,l.queue,!0,!1),Zt().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,f,v){var b=Qt,C=Zt();if(pn){if(v===void 0)throw Error(i(407));v=v()}else{if(v=f(),on===null)throw Error(i(349));(mn&127)!==0||Ji(b,f,v)}C.memoizedState=v;var N={value:v,getSnapshot:f};return C.queue=N,ff(Gl.bind(null,b,N,l),[l]),b.flags|=2048,fs(9,{destroy:void 0},er.bind(null,b,N,v,f),null),v},useId:function(){var l=Zt(),f=on.identifierPrefix;if(pn){var v=ua,b=cr;v=(b&~(1<<32-Xr(b)-1)).toString(32)+v,f="_"+f+"R_"+v,v=Sr++,0<v&&(f+="H"+v.toString(32)),f+="_"}else v=yg++,f="_"+f+"r_"+v.toString(32)+"_";return l.memoizedState=f},useHostTransitionStatus:cm,useFormState:om,useActionState:om,useOptimistic:function(l){var f=Zt();f.memoizedState=f.baseState=l;var v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=v,f=qh.bind(null,Qt,!0,v),v.dispatch=f,[l,f]},useMemoCache:oa,useCacheRefresh:function(){return Zt().memoizedState=g1.bind(null,Qt)},useEffectEvent:function(l){var f=Zt(),v={impl:l};return f.memoizedState=v,function(){if((fn&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}},Ya={readContext:q,use:Ni,useCallback:Xh,useContext:q,useEffect:Gu,useImperativeHandle:dv,useInsertionEffect:Wo,useLayoutEffect:hf,useMemo:Xu,useReducer:Tr,useRef:Wh,useState:function(){return Tr(Yn)},useDebugValue:df,useDeferredValue:function(l,f){var v=ht();return um(v,Dt.memoizedState,l,f)},useTransition:function(){var l=Tr(Yn)[0],f=ht().memoizedState;return[typeof l=="boolean"?l:Vt(l),f]},useSyncExternalStore:Li,useId:jh,useHostTransitionStatus:cm,useFormState:Vu,useActionState:Vu,useOptimistic:function(l,f){var v=ht();return uf(v,Dt,l,f)},useMemoCache:oa,useCacheRefresh:gv};Ya.useEffectEvent=wr;var cl={readContext:q,use:Ni,useCallback:Xh,useContext:q,useEffect:Gu,useImperativeHandle:dv,useInsertionEffect:Wo,useLayoutEffect:hf,useMemo:Xu,useReducer:Hi,useRef:Wh,useState:function(){return Hi(Yn)},useDebugValue:df,useDeferredValue:function(l,f){var v=ht();return Dt===null?ju(v,l,f):um(v,Dt.memoizedState,l,f)},useTransition:function(){var l=Hi(Yn)[0],f=ht().memoizedState;return[typeof l=="boolean"?l:Vt(l),f]},useSyncExternalStore:Li,useId:jh,useHostTransitionStatus:cm,useFormState:Hu,useActionState:Hu,useOptimistic:function(l,f){var v=ht();return Dt!==null?uf(v,Dt,l,f):(v.baseState=l,[l,v.queue.dispatch])},useMemoCache:oa,useCacheRefresh:gv};cl.useEffectEvent=wr;var Hf={enqueueSetState:function(l,f,v){l=l._reactInternals;var b=Qn(),C=us(b);C.payload=f,v!=null&&(C.callback=v),f=cs(l,C,b),f!==null&&(oi(f,l,b),Vo(f,l,b))},enqueueReplaceState:function(l,f,v){l=l._reactInternals;var b=Qn(),C=us(b);C.tag=1,C.payload=f,v!=null&&(C.callback=v),f=cs(l,C,b),f!==null&&(oi(f,l,b),Vo(f,l,b))},enqueueForceUpdate:function(l,f){l=l._reactInternals;var v=Qn(),b=us(v);b.tag=2,f!=null&&(b.callback=f),f=cs(l,b,v),f!==null&&(oi(f,l,v),Vo(f,l,v))}},Or=Error(i(461)),Zn=!1,pu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},gi=!1,vi=!1,gc=!1,_g=typeof WeakSet=="function"?WeakSet:Set,Si=null,ci=null,Mi=!1,Pn=null,_s=8192,vc={getCacheForType:function(l){var f=q(ti),v=f.data.get(l);return v===void 0&&(v=l(),f.data.set(l,v)),v},cacheSignal:function(){return q(ti).controller.signal}},qs=0,yc=1,_c=2,Gf=3,fl=4;if(typeof Symbol=="function"&&Symbol.for){var mu=Symbol.for;qs=mu("selector.component"),yc=mu("selector.has_pseudo_class"),_c=mu("selector.role"),Gf=mu("selector.test_id"),fl=mu("selector.text")}var xs=typeof WeakMap=="function"?WeakMap:Map,fn=0,on=null,hn=null,mn=0,Un=0,Pi=null,ha=!1,hl=!1,dl=!1,Za=0,fi=0,Ao=0,pl=0,xc=0,Ir=0,bc=0,Wf=null,Zr=null,Vd=!1,Xf=0,gu=0,ml=1/0,jf=null,Co=null,Ui=0,Ro=null,vu=null,Ka=0,Sc=0,Hd=null,xg=null,Tn=0,qf=null;return sn.attemptContinuousHydration=function(l){if(l.tag===13||l.tag===31){var f=yr(l,67108864);f!==null&&oi(f,l,67108864),Af(l,67108864)}},sn.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13||l.tag===31){var f=Qn();f=W(f);var v=yr(l,f);v!==null&&oi(v,l,f),Af(l,f)}},sn.attemptSynchronousHydration=function(l){switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var f=A(l.pendingLanes);if(f!==0){for(l.pendingLanes|=2,l.entangledLanes|=2;f;){var v=1<<31-Xr(f);l.entanglements[1]|=v,f&=~v}st(l),(fn&6)===0&&(ml=xr()+500,Ge(0))}}break;case 31:case 13:f=yr(l,2),f!==null&&oi(f,l,2),ad(),Af(l,2)}},sn.batchedUpdates=function(l,f){return l(f)},sn.createComponentSelector=function(l){return{$$typeof:qs,value:l}},sn.createContainer=function(l,f,v,b,C,N,V,se,Oe,je){return el(l,f,!1,null,v,b,N,null,V,se,Oe,je)},sn.createHasPseudoClassSelector=function(l){return{$$typeof:yc,value:l}},sn.createHydrationContainer=function(l,f,v,b,C,N,V,se,Oe,je,ut,$e,yt,Kt){var Ei;return l=el(v,b,!0,l,C,N,se,Kt,Oe,je,ut,$e),l.context=hd(null),v=l.current,b=Qn(),b=W(b),C=us(b),C.callback=(Ei=f)!=null?Ei:null,cs(v,C,b),f=b,l.current.lanes=f,z(l,f),st(l),l},sn.createPortal=function(l,f,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:b==null?null:""+b,children:l,containerInfo:f,implementation:v}},sn.createRoleSelector=function(l){return{$$typeof:_c,value:l}},sn.createTestNameSelector=function(l){return{$$typeof:Gf,value:l}},sn.createTextSelector=function(l){return{$$typeof:fl,value:l}},sn.defaultOnCaughtError=function(l){console.error(l)},sn.defaultOnRecoverableError=function(l){Pd(l)},sn.defaultOnUncaughtError=function(l){Pd(l)},sn.deferredUpdates=function(l){var f=Pt.T,v=Fs();try{return dn(32),Pt.T=null,l()}finally{dn(v),Pt.T=f}},sn.discreteUpdates=function(l,f,v,b,C){var N=Pt.T,V=Fs();try{return dn(2),Pt.T=null,l(f,v,b,C)}finally{dn(V),Pt.T=N,fn===0&&(ml=xr()+500)}},sn.findAllNodes=Vr,sn.findBoundingRects=function(l,f){if(!Gi)throw Error(i(363));f=Vr(l,f),l=[];for(var v=0;v<f.length;v++)l.push(xd(f[v]));for(f=l.length-1;0<f;f--){v=l[f];for(var b=v.x,C=b+v.width,N=v.y,V=N+v.height,se=f-1;0<=se;se--)if(f!==se){var Oe=l[se],je=Oe.x,ut=je+Oe.width,$e=Oe.y,yt=$e+Oe.height;if(b>=je&&N>=$e&&C<=ut&&V<=yt){l.splice(f,1);break}else if(b!==je||v.width!==Oe.width||yt<N||$e>V){if(!(N!==$e||v.height!==Oe.height||ut<b||je>C)){je>b&&(Oe.width+=je-b,Oe.x=b),ut<C&&(Oe.width=C-je),l.splice(f,1);break}}else{$e>N&&(Oe.height+=$e-N,Oe.y=N),yt<V&&(Oe.height=V-$e),l.splice(f,1);break}}}return l},sn.findHostInstance=wf,sn.findHostInstanceWithNoPortals=function(l){return l=c(l),l=l!==null?p(l):null,l===null?null:uc(l.stateNode)},sn.findHostInstanceWithWarning=function(l){return wf(l)},sn.flushPassiveEffects=ka,sn.flushSyncFromReconciler=function(l){var f=fn;fn|=1;var v=Pt.T,b=Fs();try{if(dn(2),Pt.T=null,l)return l()}finally{dn(b),Pt.T=v,fn=f,(fn&6)===0&&Ge(0)}},sn.flushSyncWork=ad,sn.focusWithin=function(l,f){if(!Gi)throw Error(i(363));for(l=Zo(l),f=nc(l,f),f=Array.from(f),l=0;l<f.length;){var v=f[l++],b=v.tag;if(!il(v)){if((b===5||b===26||b===27)&&So(v.stateNode))return!0;for(v=v.child;v!==null;)f.push(v),v=v.sibling}}return!1},sn.getFindAllNodesFailureDescription=function(l,f){if(!Gi)throw Error(i(363));var v=0,b=[];l=[Zo(l),0];for(var C=0;C<l.length;){var N=l[C++],V=N.tag,se=l[C++],Oe=f[se];if((V!==5&&V!==26&&V!==27||!il(N))&&(Ko(N,Oe)&&(b.push(tc(Oe)),se++,se>v&&(v=se)),se<f.length))for(N=N.child;N!==null;)l.push(N,se),N=N.sibling}if(v<f.length){for(l=[];v<f.length;v++)l.push(tc(f[v]));return`findAllNodes was able to match part of the selector:
  `+(b.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},sn.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 27:case 5:return uc(l.child.stateNode);default:return l.child.stateNode}},sn.injectIntoDevTools=function(){var l={bundleType:0,version:Pm,rendererPackageName:Df,currentDispatcherRef:Pt,reconcilerVersion:"19.2.0"};if(lc!==null&&(l.rendererConfig=lc),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(f.isDisabled||!f.supportsFiber)l=!0;else{try{cu=f.inject(l),jr=f}catch{}l=!!f.checkDCE}}return l},sn.isAlreadyRendering=function(){return(fn&6)!==0},sn.observeVisibleRects=function(l,f,v,b){if(!Gi)throw Error(i(363));l=Vr(l,f);var C=bd(l,v,b).disconnect;return{disconnect:function(){C()}}},sn.shouldError=function(){return null},sn.shouldSuspend=function(){return!1},sn.startHostTransition=function(l,f,v,b){if(l.tag!==5)throw Error(i(476));var C=mv(l).queue;pv(l,C,f,su,v===null?n:function(){var N=mv(l);return N.next===null&&(N=l.alternate.memoizedState),pf(l,N.next.queue,{},Qn()),v(b)})},sn.updateContainer=function(l,f,v,b){var C=f.current,N=Qn();return Om(C,N,l,f,v,b),N},sn.updateContainerSync=function(l,f,v,b){return Om(f.current,2,l,f,v,b),2},sn},r.exports.default=r.exports,Object.defineProperty(r.exports,"__esModule",{value:!0})})(C3)),C3.exports}var D3;function a8(){return D3||(D3=1,A3.exports=s8()),A3.exports}var o8=a8();const l8=r8(o8);function u8(r){const e=l8(r);return e.injectIntoDevTools(),e}const WD=0,Vp={},c8=/^three(?=[A-Z])/,a1=r=>`${r[0].toUpperCase()}${r.slice(1)}`;let f8=0;const h8=r=>typeof r=="function";function d8(r){if(h8(r)){const e=`${f8++}`;return Vp[e]=r,e}else Object.assign(Vp,r)}function XD(r,e){const t=a1(r),n=Vp[t];if(r!=="primitive"&&!n)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(r==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function p8(r,e,t){var n;return r=a1(r)in Vp?r:r.replace(c8,""),XD(r,e),r==="primitive"&&(n=e.object)!=null&&n.__r3f&&delete e.object.__r3f,ab(e.object,t,r,e)}function m8(r){if(!r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?lb(r.parent,r):$s(r.object)&&(r.object.visible=!1),r.isHidden=!0,tm(r)}}function jD(r){if(r.isHidden){var e;r.props.attach&&(e=r.parent)!=null&&e.object?ob(r.parent,r):$s(r.object)&&r.props.visible!==!1&&(r.object.visible=!0),r.isHidden=!1,tm(r)}}function ST(r,e,t){const n=e.root.getState();if(!(!r.parent&&r.object!==n.scene)){if(!e.object){var i,a;const u=Vp[a1(e.type)];e.object=(i=e.props.object)!=null?i:new u(...(a=e.props.args)!=null?a:[]),e.object.__r3f=e}if(Fc(e.object,e.props),e.props.attach)ob(r,e);else if($s(e.object)&&$s(r.object)){const u=r.object.children.indexOf(t==null?void 0:t.object);if(t&&u!==-1){const c=r.object.children.indexOf(e.object);if(c!==-1){r.object.children.splice(c,1);const d=c<u?u-1:u;r.object.children.splice(d,0,e.object)}else e.object.parent=r.object,r.object.children.splice(u,0,e.object),e.object.dispatchEvent({type:"added"}),r.object.dispatchEvent({type:"childadded",child:e.object})}else r.object.add(e.object)}for(const u of e.children)ST(e,u);tm(e)}}function QS(r,e){e&&(e.parent=r,r.children.push(e),ST(r,e))}function N3(r,e,t){if(!e||!t)return;e.parent=r;const n=r.children.indexOf(t);n!==-1?r.children.splice(n,0,e):r.children.push(e),ST(r,e,t)}function qD(r){if(typeof r.dispose=="function"){const e=()=>{try{r.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():VM.unstable_scheduleCallback(VM.unstable_IdlePriority,e)}}function GM(r,e,t){if(!e)return;e.parent=null;const n=r.children.indexOf(e);n!==-1&&r.children.splice(n,1),e.props.attach?lb(r,e):$s(e.object)&&$s(r.object)&&(r.object.remove(e.object),K6(UD(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let a=e.children.length-1;a>=0;a--){const u=e.children[a];GM(e,u,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&qD(e.object),t===void 0&&tm(e)}function g8(r,e){for(const t of[r,r.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const n=t.ref(e);typeof n=="function"&&(t.refCleanup=n)}else t.ref&&(t.ref.current=e)}const ex=[];function v8(){for(const[t]of ex){const n=t.parent;if(n){t.props.attach?lb(n,t):$s(t.object)&&$s(n.object)&&n.object.remove(t.object);for(const i of t.children)i.props.attach?lb(t,i):$s(i.object)&&$s(t.object)&&t.object.remove(i.object)}t.isHidden&&jD(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&qD(t.object)}for(const[t,n,i]of ex){t.props=n;const a=t.parent;if(a){var r,e;const u=Vp[a1(t.type)];t.object=(r=t.props.object)!=null?r:new u(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,g8(i,t.object),Fc(t.object,t.props),t.props.attach?ob(a,t):$s(t.object)&&$s(a.object)&&a.object.add(t.object);for(const c of t.children)c.props.attach?ob(t,c):$s(c.object)&&$s(t.object)&&t.object.add(c.object);tm(t)}}ex.length=0}const JS=()=>{},L3={};let k_=WD;const y8=0,_8=4,WM=u8({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:p8,removeChild:GM,appendChild:QS,appendInitialChild:QS,insertBefore:N3,appendChildToContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||QS(t,e)},removeChildFromContainer(r,e){const t=r.getState().scene.__r3f;!e||!t||GM(t,e)},insertInContainerBefore(r,e,t){const n=r.getState().scene.__r3f;!e||!t||!n||N3(n,e,t)},getRootHostContext:()=>L3,getChildHostContext:()=>L3,commitUpdate(r,e,t,n,i){var a,u,c;XD(e,n);let d=!1;if((r.type==="primitive"&&t.object!==n.object||((a=n.args)==null?void 0:a.length)!==((u=t.args)==null?void 0:u.length)||(c=n.args)!=null&&c.some((g,y)=>{var _;return g!==((_=t.args)==null?void 0:_[y])}))&&(d=!0),d)ex.push([r,{...n},i]);else{const g=j6(r,n);Object.keys(g).length&&(Object.assign(r.props,g),Fc(r.object,g))}(i.sibling===null||(i.flags&_8)===y8)&&v8()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:r=>r==null?void 0:r.object,prepareForCommit:()=>null,preparePortalMount:r=>ab(r.getState().scene,r,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:m8,unhideInstance:jD,createTextInstance:JS,hideTextInstance:JS,unhideTextInstance:JS,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:K.createContext(null),setCurrentUpdatePriority(r){k_=r},getCurrentUpdatePriority(){return k_},resolveUpdatePriority(){var r;if(k_!==WD)return k_;switch(typeof window<"u"&&((r=window.event)==null?void 0:r.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return n8;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return e8;default:return t8}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:i8.version,applyViewTransitionName(r,e,t){},restoreViewTransitionName(r,e){},cancelViewTransitionName(r,e,t){},cancelRootViewTransitionName(r){},restoreRootViewTransitionName(r){},InstanceMeasurement:null,measureInstance:r=>null,wasInstanceInViewport:r=>!0,hasInstanceChanged:(r,e)=>!1,hasInstanceAffectedParent:(r,e)=>!1,suspendOnActiveViewTransition(r,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(r){},createViewTransitionInstance:r=>null,getCurrentGestureOffset(r){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(r,e){return r},cloneMutableTextInstance(r){return r},cloneRootViewTransitionContainer(r){throw new Error("Not implemented.")},removeRootViewTransitionClone(r,e){throw new Error("Not implemented.")},createFragmentInstance:r=>null,updateFragmentInstanceFiber(r,e){},commitNewChildToFragmentInstance(r,e){},deleteChildFromFragmentInstance(r,e){},measureClonedInstance:r=>null,maySuspendCommitOnUpdate:(r,e,t)=>!1,maySuspendCommitInSyncRender:(r,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(r,e)=>null}),Ih=new Map,mp={objects:"shallow",strict:!1};function x8(r,e){if(!e&&typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&r.parentElement){const{width:t,height:n,top:i,left:a}=r.parentElement.getBoundingClientRect();return{width:t,height:n,top:i,left:a}}else if(!e&&typeof OffscreenCanvas<"u"&&r instanceof OffscreenCanvas)return{width:r.width,height:r.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function b8(r){const e=Ih.get(r),t=e==null?void 0:e.fiber,n=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=n||Q6(qM,I3),u=t||WM.createContainer(a,J6,null,!1,null,"",i,i,i,null);e||Ih.set(r,{fiber:u,store:a});let c,d,p=!1,g=null;return{async configure(y={}){let _;g=new Promise(j=>_=j);let{gl:x,size:E,scene:T,events:A,onCreated:M,shadows:R=!1,linear:D=!1,flat:L=!1,legacy:P=!1,orthographic:z=!1,frameloop:B="always",dpr:k=[1,2],performance:I,raycaster:O,camera:W,onPointerMissed:ee}=y,Q=a.getState(),fe=Q.gl;if(!Q.gl){const j={canvas:r,powerPreference:"high-performance",antialias:!0,alpha:!0},le=typeof x=="function"?await x(j):x;w3(le)?fe=le:fe=new LD({...j,...x}),Q.set({gl:fe})}let ue=Q.raycaster;ue||Q.set({raycaster:ue=new MD});const{params:Z,...J}=O||{};if(Ti.equ(J,ue,mp)||Fc(ue,{...J}),Ti.equ(Z,ue.params,mp)||Fc(ue,{params:{...ue.params,...Z}}),!Q.camera||Q.camera===d&&!Ti.equ(d,W,mp)){d=W;const j=W==null?void 0:W.isCamera,le=j?W:z?new Pu(0,0,0,0,.1,1e3):new Ki(75,0,.1,1e3);j||(le.position.z=5,W&&(Fc(le,W),le.manual||("aspect"in W||"left"in W||"right"in W||"bottom"in W||"top"in W)&&(le.manual=!0,le.updateProjectionMatrix())),!Q.camera&&!(W!=null&&W.rotation)&&le.lookAt(0,0,0)),Q.set({camera:le}),ue.camera=le}if(!Q.scene){let j;T!=null&&T.isScene?(j=T,ab(j,a,"",{})):(j=new jE,ab(j,a,"",{}),T&&Fc(j,T)),Q.set({scene:j})}A&&!Q.events.handlers&&Q.set({events:A(a)});const he=x8(r,E);if(Ti.equ(he,Q.size,mp)||Q.setSize(he.width,he.height,he.top,he.left),k&&Q.viewport.dpr!==BD(k)&&Q.setDpr(k),Q.frameloop!==B&&Q.setFrameloop(B),Q.onPointerMissed||Q.set({onPointerMissed:ee}),I&&!Ti.equ(I,Q.performance,mp)&&Q.set(j=>({performance:{...j.performance,...I}})),!Q.xr){var Pe;const j=(ze,rt)=>{const ge=a.getState();ge.frameloop!=="never"&&I3(ze,!0,ge,rt)},le=()=>{const ze=a.getState();ze.gl.xr.enabled=ze.gl.xr.isPresenting,ze.gl.xr.setAnimationLoop(ze.gl.xr.isPresenting?j:null),ze.gl.xr.isPresenting||qM(ze)},Re={connect(){const ze=a.getState().gl;ze.xr.addEventListener("sessionstart",le),ze.xr.addEventListener("sessionend",le)},disconnect(){const ze=a.getState().gl;ze.xr.removeEventListener("sessionstart",le),ze.xr.removeEventListener("sessionend",le)}};typeof((Pe=fe.xr)==null?void 0:Pe.addEventListener)=="function"&&Re.connect(),Q.set({xr:Re})}if(fe.shadowMap){const j=fe.shadowMap.enabled,le=fe.shadowMap.type;if(fe.shadowMap.enabled=!!R,Ti.boo(R))fe.shadowMap.type=n0;else if(Ti.str(R)){var Ue;const Re={basic:jC,percentage:wp,soft:n0,variance:vh};fe.shadowMap.type=(Ue=Re[R])!=null?Ue:n0}else Ti.obj(R)&&Object.assign(fe.shadowMap,R);(j!==fe.shadowMap.enabled||le!==fe.shadowMap.type)&&(fe.shadowMap.needsUpdate=!0)}return Mn.enabled=!P,p||(fe.outputColorSpace=D?Yc:es,fe.toneMapping=L?io:Eb),Q.legacy!==P&&Q.set(()=>({legacy:P})),Q.linear!==D&&Q.set(()=>({linear:D})),Q.flat!==L&&Q.set(()=>({flat:L})),x&&!Ti.fun(x)&&!w3(x)&&!Ti.equ(x,fe,mp)&&Fc(fe,x),c=M,p=!0,_(),this},render(y){return!p&&!g&&this.configure(),g.then(()=>{WM.updateContainer($.jsx(S8,{store:a,children:y,onCreated:c,rootElement:r}),u,null,()=>{})}),a},unmount(){YD(r)}}}function S8({store:r,children:e,onCreated:t,rootElement:n}){return av(()=>{const i=r.getState();i.set(a=>({internal:{...a.internal,active:!0}})),t&&t(i),r.getState().events.connected||i.events.connect==null||i.events.connect(n)},[]),$.jsx(HD.Provider,{value:r,children:e})}function YD(r,e){const t=Ih.get(r),n=t==null?void 0:t.fiber;if(n){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),WM.updateContainer(null,n,null,()=>{i&&setTimeout(()=>{try{var a,u,c,d;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(u=a.renderLists)==null||u.dispose==null||u.dispose(),(c=i.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(d=i.gl)!=null&&d.xr&&i.xr.disconnect(),G6(i.scene),Ih.delete(r)}catch{}},500)})}}const M8=new Set,E8=new Set,T8=new Set;function eM(r,e){if(r.size)for(const{callback:t}of r.values())t(e)}function f0(r,e){switch(r){case"before":return eM(M8,e);case"after":return eM(E8,e);case"tail":return eM(T8,e)}}let tM,nM;function XM(r,e,t){let n=e.clock.getDelta();e.frameloop==="never"&&typeof r=="number"&&(n=r-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=r),tM=e.internal.subscribers;for(let i=0;i<tM.length;i++)nM=tM[i],nM.ref.current(nM.store.getState(),n,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let ub=!1,jM=!1,iM,O3,gp;function ZD(r){O3=requestAnimationFrame(ZD),ub=!0,iM=0,f0("before",r),jM=!0;for(const t of Ih.values()){var e;gp=t.store.getState(),gp.internal.active&&(gp.frameloop==="always"||gp.internal.frames>0)&&!((e=gp.gl.xr)!=null&&e.isPresenting)&&(iM+=XM(r,gp))}if(jM=!1,f0("after",r),iM===0)return f0("tail",r),ub=!1,cancelAnimationFrame(O3)}function qM(r,e=1){var t;if(!r)return Ih.forEach(n=>qM(n.store.getState(),e));(t=r.gl.xr)!=null&&t.isPresenting||!r.internal.active||r.frameloop==="never"||(e>1?r.internal.frames=Math.min(60,r.internal.frames+e):jM?r.internal.frames=2:r.internal.frames=1,ub||(ub=!0,requestAnimationFrame(ZD)))}function I3(r,e=!0,t,n){if(e&&f0("before",r),t)XM(r,t,n);else for(const i of Ih.values())XM(r,i.store.getState());e&&f0("after",r)}const rM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function w8(r){const{handlePointer:e}=$6(r);return{priority:1,enabled:!0,compute(t,n,i){n.pointer.set(t.offsetX/n.size.width*2-1,-(t.offsetY/n.size.height)*2+1),n.raycaster.setFromCamera(n.pointer,n.camera)},connected:void 0,handlers:Object.keys(rM).reduce((t,n)=>({...t,[n]:e(n)}),{}),update:()=>{var t;const{events:n,internal:i}=r.getState();(t=i.lastEvent)!=null&&t.current&&n.handlers&&n.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:n,events:i}=r.getState();if(i.disconnect==null||i.disconnect(),n(a=>({events:{...a.events,connected:t}})),i.handlers)for(const a in i.handlers){const u=i.handlers[a],[c,d]=rM[a];t.addEventListener(c,u,{passive:d})}},disconnect:()=>{const{set:t,events:n}=r.getState();if(n.connected){if(n.handlers)for(const i in n.handlers){const a=n.handlers[i],[u]=rM[i];n.connected.removeEventListener(u,a)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function P3(r,e){let t;return(...n)=>{window.clearTimeout(t),t=window.setTimeout(()=>r(...n),e)}}function A8({debounce:r,scroll:e,polyfill:t,offsetSize:n}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,u]=K.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=K.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),d=r?typeof r=="number"?r:r.scroll:null,p=r?typeof r=="number"?r:r.resize:null,g=K.useRef(!1);K.useEffect(()=>(g.current=!0,()=>void(g.current=!1)));const[y,_,x]=K.useMemo(()=>{const M=()=>{if(!c.current.element)return;const{left:R,top:D,width:L,height:P,bottom:z,right:B,x:k,y:I}=c.current.element.getBoundingClientRect(),O={left:R,top:D,width:L,height:P,bottom:z,right:B,x:k,y:I};c.current.element instanceof HTMLElement&&n&&(O.height=c.current.element.offsetHeight,O.width=c.current.element.offsetWidth),Object.freeze(O),g.current&&!N8(c.current.lastBounds,O)&&u(c.current.lastBounds=O)};return[M,p?P3(M,p):M,d?P3(M,d):M]},[u,n,d,p]);function E(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(M=>M.removeEventListener("scroll",x,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function T(){c.current.element&&(c.current.resizeObserver=new i(x),c.current.resizeObserver.observe(c.current.element),e&&c.current.scrollContainers&&c.current.scrollContainers.forEach(M=>M.addEventListener("scroll",x,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{x()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const A=M=>{!M||M===c.current.element||(E(),c.current.element=M,c.current.scrollContainers=KD(M),T())};return R8(x,!!e),C8(_),K.useEffect(()=>{E(),T()},[e,x,_]),K.useEffect(()=>E,[]),[A,a,y]}function C8(r){K.useEffect(()=>{const e=r;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[r])}function R8(r,e){K.useEffect(()=>{if(e){const t=r;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[r,e])}function KD(r){const e=[];if(!r||r===document.body)return e;const{overflow:t,overflowX:n,overflowY:i}=window.getComputedStyle(r);return[t,n,i].some(a=>a==="auto"||a==="scroll")&&e.push(r),[...e,...KD(r.parentElement)]}const D8=["x","y","top","bottom","left","right","width","height"],N8=(r,e)=>D8.every(t=>r[t]===e[t]);function L8({ref:r,children:e,fallback:t,resize:n,style:i,gl:a,events:u=w8,eventSource:c,eventPrefix:d,shadows:p,linear:g,flat:y,legacy:_,orthographic:x,frameloop:E,dpr:T,performance:A,raycaster:M,camera:R,scene:D,onPointerMissed:L,onCreated:P,...z}){K.useMemo(()=>d8(b6),[]);const B=k6(),[k,I]=A8({scroll:!0,debounce:{scroll:50,resize:0},...n}),O=K.useRef(null),W=K.useRef(null);K.useImperativeHandle(r,()=>O.current);const ee=FD(L),[Q,fe]=K.useState(!1),[ue,Z]=K.useState(!1);if(Q)throw Q;if(ue)throw ue;const J=K.useRef(null);av(()=>{const Pe=O.current;if(I.width>0&&I.height>0&&Pe){J.current||(J.current=b8(Pe));async function Ue(){await J.current.configure({gl:a,scene:D,events:u,shadows:p,linear:g,flat:y,legacy:_,orthographic:x,frameloop:E,dpr:T,performance:A,raycaster:M,camera:R,size:I,onPointerMissed:(...j)=>ee.current==null?void 0:ee.current(...j),onCreated:j=>{j.events.connect==null||j.events.connect(c?F6(c)?c.current:c:W.current),d&&j.setEvents({compute:(le,Re)=>{const ze=le[d+"X"],rt=le[d+"Y"];Re.pointer.set(ze/Re.size.width*2-1,-(rt/Re.size.height)*2+1),Re.raycaster.setFromCamera(Re.pointer,Re.camera)}}),P==null||P(j)}}),J.current.render($.jsx(B,{children:$.jsx(H6,{set:Z,children:$.jsx(K.Suspense,{fallback:$.jsx(V6,{set:fe}),children:e??null})})}))}Ue()}}),K.useEffect(()=>{const Pe=O.current;if(Pe)return()=>YD(Pe)},[]);const he=c?"none":"auto";return $.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:he,...i},...z,children:$.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:$.jsx("canvas",{ref:O,style:{display:"block"},children:t})})})}function ov(r){return $.jsx(ID,{children:$.jsx(L8,{...r})})}function z0(){return z0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)({}).hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},z0.apply(null,arguments)}const $D=parseInt(K0.replace(/\D+/g,"")),QD=$D>=125?"uv1":"uv2";var O8=Object.defineProperty,I8=(r,e,t)=>e in r?O8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,P8=(r,e,t)=>(I8(r,e+"",t),t);class U8{constructor(){P8(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const n=this._listeners;n[e]===void 0&&(n[e]=[]),n[e].indexOf(t)===-1&&n[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const n=this._listeners;return n[e]!==void 0&&n[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(t);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const n=this._listeners[e.type];if(n!==void 0){e.target=this;const i=n.slice(0);for(let a=0,u=i.length;a<u;a++)i[a].call(this,e);e.target=null}}}var z8=Object.defineProperty,F8=(r,e,t)=>e in r?z8(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,kt=(r,e,t)=>(F8(r,typeof e!="symbol"?e+"":e,t),t);const V_=new Ph,U3=new Au,B8=Math.cos(70*(Math.PI/180)),z3=(r,e)=>(r%e+e)%e;let k8=class extends U8{constructor(e,t){super(),kt(this,"object"),kt(this,"domElement"),kt(this,"enabled",!0),kt(this,"target",new X),kt(this,"minDistance",0),kt(this,"maxDistance",1/0),kt(this,"minZoom",0),kt(this,"maxZoom",1/0),kt(this,"minPolarAngle",0),kt(this,"maxPolarAngle",Math.PI),kt(this,"minAzimuthAngle",-1/0),kt(this,"maxAzimuthAngle",1/0),kt(this,"enableDamping",!1),kt(this,"dampingFactor",.05),kt(this,"enableZoom",!0),kt(this,"zoomSpeed",1),kt(this,"enableRotate",!0),kt(this,"rotateSpeed",1),kt(this,"enablePan",!0),kt(this,"panSpeed",1),kt(this,"screenSpacePanning",!0),kt(this,"keyPanSpeed",7),kt(this,"zoomToCursor",!1),kt(this,"autoRotate",!1),kt(this,"autoRotateSpeed",2),kt(this,"reverseOrbit",!1),kt(this,"reverseHorizontalOrbit",!1),kt(this,"reverseVerticalOrbit",!1),kt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),kt(this,"mouseButtons",{LEFT:hh.ROTATE,MIDDLE:hh.DOLLY,RIGHT:hh.PAN}),kt(this,"touches",{ONE:dh.ROTATE,TWO:dh.DOLLY_PAN}),kt(this,"target0"),kt(this,"position0"),kt(this,"zoom0"),kt(this,"_domElementKeyEvents",null),kt(this,"getPolarAngle"),kt(this,"getAzimuthalAngle"),kt(this,"setPolarAngle"),kt(this,"setAzimuthalAngle"),kt(this,"getDistance"),kt(this,"getZoomScale"),kt(this,"listenToKeyEvents"),kt(this,"stopListenToKeyEvents"),kt(this,"saveState"),kt(this,"reset"),kt(this,"update"),kt(this,"connect"),kt(this,"dispose"),kt(this,"dollyIn"),kt(this,"dollyOut"),kt(this,"getScale"),kt(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>g.phi,this.getAzimuthalAngle=()=>g.theta,this.setPolarAngle=te=>{let ye=z3(te,2*Math.PI),lt=g.phi;lt<0&&(lt+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let ie=Math.abs(ye-lt);2*Math.PI-ie<ie&&(ye<lt?ye+=2*Math.PI:lt+=2*Math.PI),y.phi=ye-lt,n.update()},this.setAzimuthalAngle=te=>{let ye=z3(te,2*Math.PI),lt=g.theta;lt<0&&(lt+=2*Math.PI),ye<0&&(ye+=2*Math.PI);let ie=Math.abs(ye-lt);2*Math.PI-ie<ie&&(ye<lt?ye+=2*Math.PI:lt+=2*Math.PI),y.theta=ye-lt,n.update()},this.getDistance=()=>n.object.position.distanceTo(n.target),this.listenToKeyEvents=te=>{te.addEventListener("keydown",_e),this._domElementKeyEvents=te},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",_e),this._domElementKeyEvents=null},this.saveState=()=>{n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=()=>{n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),d=c.NONE},this.update=(()=>{const te=new X,ye=new X(0,1,0),lt=new is().setFromUnitVectors(e.up,ye),ie=lt.clone().invert(),et=new X,Ye=new is,ct=2*Math.PI;return function(){const ke=n.object.position;lt.setFromUnitVectors(e.up,ye),ie.copy(lt).invert(),te.copy(ke).sub(n.target),te.applyQuaternion(lt),g.setFromVector3(te),n.autoRotate&&d===c.NONE&&fe(ee()),n.enableDamping?(g.theta+=y.theta*n.dampingFactor,g.phi+=y.phi*n.dampingFactor):(g.theta+=y.theta,g.phi+=y.phi);let tt=n.minAzimuthAngle,Nt=n.maxAzimuthAngle;isFinite(tt)&&isFinite(Nt)&&(tt<-Math.PI?tt+=ct:tt>Math.PI&&(tt-=ct),Nt<-Math.PI?Nt+=ct:Nt>Math.PI&&(Nt-=ct),tt<=Nt?g.theta=Math.max(tt,Math.min(Nt,g.theta)):g.theta=g.theta>(tt+Nt)/2?Math.max(tt,g.theta):Math.min(Nt,g.theta)),g.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,g.phi)),g.makeSafe(),n.enableDamping===!0?n.target.addScaledVector(x,n.dampingFactor):n.target.add(x),n.zoomToCursor&&I||n.object.isOrthographicCamera?g.radius=Re(g.radius):g.radius=Re(g.radius*_),te.setFromSpherical(g),te.applyQuaternion(ie),ke.copy(n.target).add(te),n.object.matrixAutoUpdate||n.object.updateMatrix(),n.object.lookAt(n.target),n.enableDamping===!0?(y.theta*=1-n.dampingFactor,y.phi*=1-n.dampingFactor,x.multiplyScalar(1-n.dampingFactor)):(y.set(0,0,0),x.set(0,0,0));let en=!1;if(n.zoomToCursor&&I){let rn=null;if(n.object instanceof Ki&&n.object.isPerspectiveCamera){const ri=te.length();rn=Re(ri*_);const ki=ri-rn;n.object.position.addScaledVector(B,ki),n.object.updateMatrixWorld()}else if(n.object.isOrthographicCamera){const ri=new X(k.x,k.y,0);ri.unproject(n.object),n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/_)),n.object.updateProjectionMatrix(),en=!0;const ki=new X(k.x,k.y,0);ki.unproject(n.object),n.object.position.sub(ki).add(ri),n.object.updateMatrixWorld(),rn=te.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),n.zoomToCursor=!1;rn!==null&&(n.screenSpacePanning?n.target.set(0,0,-1).transformDirection(n.object.matrix).multiplyScalar(rn).add(n.object.position):(V_.origin.copy(n.object.position),V_.direction.set(0,0,-1).transformDirection(n.object.matrix),Math.abs(n.object.up.dot(V_.direction))<B8?e.lookAt(n.target):(U3.setFromNormalAndCoplanarPoint(n.object.up,n.target),V_.intersectPlane(U3,n.target))))}else n.object instanceof Pu&&n.object.isOrthographicCamera&&(en=_!==1,en&&(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/_)),n.object.updateProjectionMatrix()));return _=1,I=!1,en||et.distanceToSquared(n.object.position)>p||8*(1-Ye.dot(n.object.quaternion))>p?(n.dispatchEvent(i),et.copy(n.object.position),Ye.copy(n.object.quaternion),en=!1,!0):!1}})(),this.connect=te=>{n.domElement=te,n.domElement.style.touchAction="none",n.domElement.addEventListener("contextmenu",Ke),n.domElement.addEventListener("pointerdown",Je),n.domElement.addEventListener("pointercancel",F),n.domElement.addEventListener("wheel",Be)},this.dispose=()=>{var te,ye,lt,ie,et,Ye;n.domElement&&(n.domElement.style.touchAction="auto"),(te=n.domElement)==null||te.removeEventListener("contextmenu",Ke),(ye=n.domElement)==null||ye.removeEventListener("pointerdown",Je),(lt=n.domElement)==null||lt.removeEventListener("pointercancel",F),(ie=n.domElement)==null||ie.removeEventListener("wheel",Be),(et=n.domElement)==null||et.ownerDocument.removeEventListener("pointermove",q),(Ye=n.domElement)==null||Ye.ownerDocument.removeEventListener("pointerup",F),n._domElementKeyEvents!==null&&n._domElementKeyEvents.removeEventListener("keydown",_e)};const n=this,i={type:"change"},a={type:"start"},u={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let d=c.NONE;const p=1e-6,g=new UM,y=new UM;let _=1;const x=new X,E=new Ve,T=new Ve,A=new Ve,M=new Ve,R=new Ve,D=new Ve,L=new Ve,P=new Ve,z=new Ve,B=new X,k=new Ve;let I=!1;const O=[],W={};function ee(){return 2*Math.PI/60/60*n.autoRotateSpeed}function Q(){return Math.pow(.95,n.zoomSpeed)}function fe(te){n.reverseOrbit||n.reverseHorizontalOrbit?y.theta+=te:y.theta-=te}function ue(te){n.reverseOrbit||n.reverseVerticalOrbit?y.phi+=te:y.phi-=te}const Z=(()=>{const te=new X;return function(lt,ie){te.setFromMatrixColumn(ie,0),te.multiplyScalar(-lt),x.add(te)}})(),J=(()=>{const te=new X;return function(lt,ie){n.screenSpacePanning===!0?te.setFromMatrixColumn(ie,1):(te.setFromMatrixColumn(ie,0),te.crossVectors(n.object.up,te)),te.multiplyScalar(lt),x.add(te)}})(),he=(()=>{const te=new X;return function(lt,ie){const et=n.domElement;if(et&&n.object instanceof Ki&&n.object.isPerspectiveCamera){const Ye=n.object.position;te.copy(Ye).sub(n.target);let ct=te.length();ct*=Math.tan(n.object.fov/2*Math.PI/180),Z(2*lt*ct/et.clientHeight,n.object.matrix),J(2*ie*ct/et.clientHeight,n.object.matrix)}else et&&n.object instanceof Pu&&n.object.isOrthographicCamera?(Z(lt*(n.object.right-n.object.left)/n.object.zoom/et.clientWidth,n.object.matrix),J(ie*(n.object.top-n.object.bottom)/n.object.zoom/et.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}})();function Pe(te){n.object instanceof Ki&&n.object.isPerspectiveCamera||n.object instanceof Pu&&n.object.isOrthographicCamera?_=te:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function Ue(te){Pe(_/te)}function j(te){Pe(_*te)}function le(te){if(!n.zoomToCursor||!n.domElement)return;I=!0;const ye=n.domElement.getBoundingClientRect(),lt=te.clientX-ye.left,ie=te.clientY-ye.top,et=ye.width,Ye=ye.height;k.x=lt/et*2-1,k.y=-(ie/Ye)*2+1,B.set(k.x,k.y,1).unproject(n.object).sub(n.object.position).normalize()}function Re(te){return Math.max(n.minDistance,Math.min(n.maxDistance,te))}function ze(te){E.set(te.clientX,te.clientY)}function rt(te){le(te),L.set(te.clientX,te.clientY)}function ge(te){M.set(te.clientX,te.clientY)}function De(te){T.set(te.clientX,te.clientY),A.subVectors(T,E).multiplyScalar(n.rotateSpeed);const ye=n.domElement;ye&&(fe(2*Math.PI*A.x/ye.clientHeight),ue(2*Math.PI*A.y/ye.clientHeight)),E.copy(T),n.update()}function it(te){P.set(te.clientX,te.clientY),z.subVectors(P,L),z.y>0?Ue(Q()):z.y<0&&j(Q()),L.copy(P),n.update()}function ne(te){R.set(te.clientX,te.clientY),D.subVectors(R,M).multiplyScalar(n.panSpeed),he(D.x,D.y),M.copy(R),n.update()}function ft(te){le(te),te.deltaY<0?j(Q()):te.deltaY>0&&Ue(Q()),n.update()}function _t(te){let ye=!1;switch(te.code){case n.keys.UP:he(0,n.keyPanSpeed),ye=!0;break;case n.keys.BOTTOM:he(0,-n.keyPanSpeed),ye=!0;break;case n.keys.LEFT:he(n.keyPanSpeed,0),ye=!0;break;case n.keys.RIGHT:he(-n.keyPanSpeed,0),ye=!0;break}ye&&(te.preventDefault(),n.update())}function Yt(){if(O.length==1)E.set(O[0].pageX,O[0].pageY);else{const te=.5*(O[0].pageX+O[1].pageX),ye=.5*(O[0].pageY+O[1].pageY);E.set(te,ye)}}function Et(){if(O.length==1)M.set(O[0].pageX,O[0].pageY);else{const te=.5*(O[0].pageX+O[1].pageX),ye=.5*(O[0].pageY+O[1].pageY);M.set(te,ye)}}function ve(){const te=O[0].pageX-O[1].pageX,ye=O[0].pageY-O[1].pageY,lt=Math.sqrt(te*te+ye*ye);L.set(0,lt)}function Xe(){n.enableZoom&&ve(),n.enablePan&&Et()}function Ae(){n.enableZoom&&ve(),n.enableRotate&&Yt()}function be(te){if(O.length==1)T.set(te.pageX,te.pageY);else{const lt=pt(te),ie=.5*(te.pageX+lt.x),et=.5*(te.pageY+lt.y);T.set(ie,et)}A.subVectors(T,E).multiplyScalar(n.rotateSpeed);const ye=n.domElement;ye&&(fe(2*Math.PI*A.x/ye.clientHeight),ue(2*Math.PI*A.y/ye.clientHeight)),E.copy(T)}function Y(te){if(O.length==1)R.set(te.pageX,te.pageY);else{const ye=pt(te),lt=.5*(te.pageX+ye.x),ie=.5*(te.pageY+ye.y);R.set(lt,ie)}D.subVectors(R,M).multiplyScalar(n.panSpeed),he(D.x,D.y),M.copy(R)}function dt(te){const ye=pt(te),lt=te.pageX-ye.x,ie=te.pageY-ye.y,et=Math.sqrt(lt*lt+ie*ie);P.set(0,et),z.set(0,Math.pow(P.y/L.y,n.zoomSpeed)),Ue(z.y),L.copy(P)}function Te(te){n.enableZoom&&dt(te),n.enablePan&&Y(te)}function Ct(te){n.enableZoom&&dt(te),n.enableRotate&&be(te)}function Je(te){var ye,lt;n.enabled!==!1&&(O.length===0&&((ye=n.domElement)==null||ye.ownerDocument.addEventListener("pointermove",q),(lt=n.domElement)==null||lt.ownerDocument.addEventListener("pointerup",F)),Mt(te),te.pointerType==="touch"?st(te):oe(te))}function q(te){n.enabled!==!1&&(te.pointerType==="touch"?Ge(te):Le(te))}function F(te){var ye,lt,ie;qe(te),O.length===0&&((ye=n.domElement)==null||ye.releasePointerCapture(te.pointerId),(lt=n.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",q),(ie=n.domElement)==null||ie.ownerDocument.removeEventListener("pointerup",F)),n.dispatchEvent(u),d=c.NONE}function oe(te){let ye;switch(te.button){case 0:ye=n.mouseButtons.LEFT;break;case 1:ye=n.mouseButtons.MIDDLE;break;case 2:ye=n.mouseButtons.RIGHT;break;default:ye=-1}switch(ye){case hh.DOLLY:if(n.enableZoom===!1)return;rt(te),d=c.DOLLY;break;case hh.ROTATE:if(te.ctrlKey||te.metaKey||te.shiftKey){if(n.enablePan===!1)return;ge(te),d=c.PAN}else{if(n.enableRotate===!1)return;ze(te),d=c.ROTATE}break;case hh.PAN:if(te.ctrlKey||te.metaKey||te.shiftKey){if(n.enableRotate===!1)return;ze(te),d=c.ROTATE}else{if(n.enablePan===!1)return;ge(te),d=c.PAN}break;default:d=c.NONE}d!==c.NONE&&n.dispatchEvent(a)}function Le(te){if(n.enabled!==!1)switch(d){case c.ROTATE:if(n.enableRotate===!1)return;De(te);break;case c.DOLLY:if(n.enableZoom===!1)return;it(te);break;case c.PAN:if(n.enablePan===!1)return;ne(te);break}}function Be(te){n.enabled===!1||n.enableZoom===!1||d!==c.NONE&&d!==c.ROTATE||(te.preventDefault(),n.dispatchEvent(a),ft(te),n.dispatchEvent(u))}function _e(te){n.enabled===!1||n.enablePan===!1||_t(te)}function st(te){switch(nt(te),O.length){case 1:switch(n.touches.ONE){case dh.ROTATE:if(n.enableRotate===!1)return;Yt(),d=c.TOUCH_ROTATE;break;case dh.PAN:if(n.enablePan===!1)return;Et(),d=c.TOUCH_PAN;break;default:d=c.NONE}break;case 2:switch(n.touches.TWO){case dh.DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Xe(),d=c.TOUCH_DOLLY_PAN;break;case dh.DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ae(),d=c.TOUCH_DOLLY_ROTATE;break;default:d=c.NONE}break;default:d=c.NONE}d!==c.NONE&&n.dispatchEvent(a)}function Ge(te){switch(nt(te),d){case c.TOUCH_ROTATE:if(n.enableRotate===!1)return;be(te),n.update();break;case c.TOUCH_PAN:if(n.enablePan===!1)return;Y(te),n.update();break;case c.TOUCH_DOLLY_PAN:if(n.enableZoom===!1&&n.enablePan===!1)return;Te(te),n.update();break;case c.TOUCH_DOLLY_ROTATE:if(n.enableZoom===!1&&n.enableRotate===!1)return;Ct(te),n.update();break;default:d=c.NONE}}function Ke(te){n.enabled!==!1&&te.preventDefault()}function Mt(te){O.push(te)}function qe(te){delete W[te.pointerId];for(let ye=0;ye<O.length;ye++)if(O[ye].pointerId==te.pointerId){O.splice(ye,1);return}}function nt(te){let ye=W[te.pointerId];ye===void 0&&(ye=new Ve,W[te.pointerId]=ye),ye.set(te.pageX,te.pageY)}function pt(te){const ye=te.pointerId===O[0].pointerId?O[1]:O[0];return W[ye.pointerId]}this.dollyIn=(te=Q())=>{j(te),n.update()},this.dollyOut=(te=Q())=>{Ue(te),n.update()},this.getScale=()=>_,this.setScale=te=>{Pe(te),n.update()},this.getZoomScale=()=>Q(),t!==void 0&&this.connect(t),this.update()}};const F3=new pr,H_=new X;class MT extends dT{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],n=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(n),this.setAttribute("position",new bt(e,3)),this.setAttribute("uv",new bt(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const n=new sb(t,6,1);return this.setAttribute("instanceStart",new ya(n,3,0)),this.setAttribute("instanceEnd",new ya(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e,t=3){let n;e instanceof Float32Array?n=e:Array.isArray(e)&&(n=new Float32Array(e));const i=new sb(n,t*2,1);return this.setAttribute("instanceColorStart",new ya(i,t,0)),this.setAttribute("instanceColorEnd",new ya(i,t,t)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new nT(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new pr);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),F3.setFromBufferAttribute(t),this.boundingBox.union(F3))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new mr),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const n=this.boundingSphere.center;this.boundingBox.getCenter(n);let i=0;for(let a=0,u=e.count;a<u;a++)H_.fromBufferAttribute(e,a),i=Math.max(i,n.distanceToSquared(H_)),H_.fromBufferAttribute(t,a),i=Math.max(i,n.distanceToSquared(H_));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}class JD extends MT{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,n=new Float32Array(2*t);for(let i=0;i<t;i+=3)n[2*i]=e[i],n[2*i+1]=e[i+1],n[2*i+2]=e[i+2],n[2*i+3]=e[i+3],n[2*i+4]=e[i+4],n[2*i+5]=e[i+5];return super.setPositions(n),this}setColors(e,t=3){const n=e.length-t,i=new Float32Array(2*n);if(t===3)for(let a=0;a<n;a+=t)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5];else for(let a=0;a<n;a+=t)i[2*a]=e[a],i[2*a+1]=e[a+1],i[2*a+2]=e[a+2],i[2*a+3]=e[a+3],i[2*a+4]=e[a+4],i[2*a+5]=e[a+5],i[2*a+6]=e[a+6],i[2*a+7]=e[a+7];return super.setColors(i,t),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class ET extends Ta{constructor(e){super({type:"LineMaterial",uniforms:eb.clone(eb.merge([mt.common,mt.fog,{worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ve(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}}])),vertexShader:`
				#include <common>
				#include <fog_pars_vertex>
				#include <logdepthbuf_pars_vertex>
				#include <clipping_planes_pars_vertex>

				uniform float linewidth;
				uniform vec2 resolution;

				attribute vec3 instanceStart;
				attribute vec3 instanceEnd;

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
						attribute vec4 instanceColorStart;
						attribute vec4 instanceColorEnd;
					#else
						varying vec3 vLineColor;
						attribute vec3 instanceColorStart;
						attribute vec3 instanceColorEnd;
					#endif
				#endif

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#ifdef USE_DASH

					uniform float dashScale;
					attribute float instanceDistanceStart;
					attribute float instanceDistanceEnd;
					varying float vLineDistance;

				#endif

				void trimSegment( const in vec4 start, inout vec4 end ) {

					// trim end segment so it terminates between the camera plane and the near plane

					// conservative estimate of the near plane
					float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
					float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
					float nearEstimate = - 0.5 * b / a;

					float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

					end.xyz = mix( start.xyz, end.xyz, alpha );

				}

				void main() {

					#ifdef USE_COLOR

						vLineColor = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

					#endif

					#ifdef USE_DASH

						vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
						vUv = uv;

					#endif

					float aspect = resolution.x / resolution.y;

					// camera space
					vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
					vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

					#ifdef WORLD_UNITS

						worldStart = start.xyz;
						worldEnd = end.xyz;

					#else

						vUv = uv;

					#endif

					// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
					// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
					// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
					// perhaps there is a more elegant solution -- WestLangley

					bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

					if ( perspective ) {

						if ( start.z < 0.0 && end.z >= 0.0 ) {

							trimSegment( start, end );

						} else if ( end.z < 0.0 && start.z >= 0.0 ) {

							trimSegment( end, start );

						}

					}

					// clip space
					vec4 clipStart = projectionMatrix * start;
					vec4 clipEnd = projectionMatrix * end;

					// ndc space
					vec3 ndcStart = clipStart.xyz / clipStart.w;
					vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

					// direction
					vec2 dir = ndcEnd.xy - ndcStart.xy;

					// account for clip-space aspect ratio
					dir.x *= aspect;
					dir = normalize( dir );

					#ifdef WORLD_UNITS

						// get the offset direction as perpendicular to the view vector
						vec3 worldDir = normalize( end.xyz - start.xyz );
						vec3 offset;
						if ( position.y < 0.5 ) {

							offset = normalize( cross( start.xyz, worldDir ) );

						} else {

							offset = normalize( cross( end.xyz, worldDir ) );

						}

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						float forwardOffset = dot( worldDir, vec3( 0.0, 0.0, 1.0 ) );

						// don't extend the line if we're rendering dashes because we
						// won't be rendering the endcaps
						#ifndef USE_DASH

							// extend the line bounds to encompass  endcaps
							start.xyz += - worldDir * linewidth * 0.5;
							end.xyz += worldDir * linewidth * 0.5;

							// shift the position of the quad so it hugs the forward edge of the line
							offset.xy -= dir * forwardOffset;
							offset.z += 0.5;

						#endif

						// endcaps
						if ( position.y > 1.0 || position.y < 0.0 ) {

							offset.xy += dir * 2.0 * forwardOffset;

						}

						// adjust for linewidth
						offset *= linewidth * 0.5;

						// set the world position
						worldPos = ( position.y < 0.5 ) ? start : end;
						worldPos.xyz += offset;

						// project the worldpos
						vec4 clip = projectionMatrix * worldPos;

						// shift the depth of the projected points so the line
						// segments overlap neatly
						vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
						clip.z = clipPose.z * clip.w;

					#else

						vec2 offset = vec2( dir.y, - dir.x );
						// undo aspect ratio adjustment
						dir.x /= aspect;
						offset.x /= aspect;

						// sign flip
						if ( position.x < 0.0 ) offset *= - 1.0;

						// endcaps
						if ( position.y < 0.0 ) {

							offset += - dir;

						} else if ( position.y > 1.0 ) {

							offset += dir;

						}

						// adjust for linewidth
						offset *= linewidth;

						// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
						offset /= resolution.y;

						// select end
						vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

						// back to clip space
						offset *= clip.w;

						clip.xy += offset;

					#endif

					gl_Position = clip;

					vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

					#include <logdepthbuf_vertex>
					#include <clipping_planes_vertex>
					#include <fog_vertex>

				}
			`,fragmentShader:`
				uniform vec3 diffuse;
				uniform float opacity;
				uniform float linewidth;

				#ifdef USE_DASH

					uniform float dashOffset;
					uniform float dashSize;
					uniform float gapSize;

				#endif

				varying float vLineDistance;

				#ifdef WORLD_UNITS

					varying vec4 worldPos;
					varying vec3 worldStart;
					varying vec3 worldEnd;

					#ifdef USE_DASH

						varying vec2 vUv;

					#endif

				#else

					varying vec2 vUv;

				#endif

				#include <common>
				#include <fog_pars_fragment>
				#include <logdepthbuf_pars_fragment>
				#include <clipping_planes_pars_fragment>

				#ifdef USE_COLOR
					#ifdef USE_LINE_COLOR_ALPHA
						varying vec4 vLineColor;
					#else
						varying vec3 vLineColor;
					#endif
				#endif

				vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

					float mua;
					float mub;

					vec3 p13 = p1 - p3;
					vec3 p43 = p4 - p3;

					vec3 p21 = p2 - p1;

					float d1343 = dot( p13, p43 );
					float d4321 = dot( p43, p21 );
					float d1321 = dot( p13, p21 );
					float d4343 = dot( p43, p43 );
					float d2121 = dot( p21, p21 );

					float denom = d2121 * d4343 - d4321 * d4321;

					float numer = d1343 * d4321 - d1321 * d4343;

					mua = numer / denom;
					mua = clamp( mua, 0.0, 1.0 );
					mub = ( d1343 + d4321 * ( mua ) ) / d4343;
					mub = clamp( mub, 0.0, 1.0 );

					return vec2( mua, mub );

				}

				void main() {

					#include <clipping_planes_fragment>

					#ifdef USE_DASH

						if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

						if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

					#endif

					float alpha = opacity;

					#ifdef WORLD_UNITS

						// Find the closest points on the view ray and the line segment
						vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
						vec3 lineDir = worldEnd - worldStart;
						vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

						vec3 p1 = worldStart + lineDir * params.x;
						vec3 p2 = rayEnd * params.y;
						vec3 delta = p1 - p2;
						float len = length( delta );
						float norm = len / linewidth;

						#ifndef USE_DASH

							#ifdef USE_ALPHA_TO_COVERAGE

								float dnorm = fwidth( norm );
								alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

							#else

								if ( norm > 0.5 ) {

									discard;

								}

							#endif

						#endif

					#else

						#ifdef USE_ALPHA_TO_COVERAGE

							// artifacts appear on some hardware if a derivative is taken within a conditional
							float a = vUv.x;
							float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
							float len2 = a * a + b * b;
							float dlen = fwidth( len2 );

							if ( abs( vUv.y ) > 1.0 ) {

								alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

							}

						#else

							if ( abs( vUv.y ) > 1.0 ) {

								float a = vUv.x;
								float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
								float len2 = a * a + b * b;

								if ( len2 > 1.0 ) discard;

							}

						#endif

					#endif

					vec4 diffuseColor = vec4( diffuse, alpha );
					#ifdef USE_COLOR
						#ifdef USE_LINE_COLOR_ALPHA
							diffuseColor *= vLineColor;
						#else
							diffuseColor.rgb *= vLineColor;
						#endif
					#endif

					#include <logdepthbuf_fragment>

					gl_FragColor = diffuseColor;

					#include <tonemapping_fragment>
					#include <${$D>=154?"colorspace_fragment":"encodings_fragment"}>
					#include <fog_fragment>
					#include <premultiplied_alpha_fragment>

				}
			`,clipping:!0}),this.isLineMaterial=!0,this.onBeforeCompile=function(){this.transparent?this.defines.USE_LINE_COLOR_ALPHA="1":delete this.defines.USE_LINE_COLOR_ALPHA},Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(t){this.uniforms.diffuse.value=t}},worldUnits:{enumerable:!0,get:function(){return"WORLD_UNITS"in this.defines},set:function(t){t===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(t){this.uniforms.linewidth.value=t}},dashed:{enumerable:!0,get:function(){return"USE_DASH"in this.defines},set(t){!!t!="USE_DASH"in this.defines&&(this.needsUpdate=!0),t===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(t){this.uniforms.dashScale.value=t}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(t){this.uniforms.dashSize.value=t}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(t){this.uniforms.dashOffset.value=t}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(t){this.uniforms.gapSize.value=t}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(t){this.uniforms.resolution.value.copy(t)}},alphaToCoverage:{enumerable:!0,get:function(){return"USE_ALPHA_TO_COVERAGE"in this.defines},set:function(t){!!t!="USE_ALPHA_TO_COVERAGE"in this.defines&&(this.needsUpdate=!0),t===!0?(this.defines.USE_ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.USE_ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}}}),this.setValues(e)}}const sM=new Dn,B3=new X,k3=new X,Ur=new Dn,zr=new Dn,xl=new Dn,aM=new X,oM=new Xt,Fr=new ED,V3=new X,G_=new pr,W_=new mr,bl=new Dn;let Ml,Th;function H3(r,e,t){return bl.set(0,0,-e,1).applyMatrix4(r.projectionMatrix),bl.multiplyScalar(1/bl.w),bl.x=Th/t.width,bl.y=Th/t.height,bl.applyMatrix4(r.projectionMatrixInverse),bl.multiplyScalar(1/bl.w),Math.abs(Math.max(bl.x,bl.y))}function V8(r,e){const t=r.matrixWorld,n=r.geometry,i=n.attributes.instanceStart,a=n.attributes.instanceEnd,u=Math.min(n.instanceCount,i.count);for(let c=0,d=u;c<d;c++){Fr.start.fromBufferAttribute(i,c),Fr.end.fromBufferAttribute(a,c),Fr.applyMatrix4(t);const p=new X,g=new X;Ml.distanceSqToSegment(Fr.start,Fr.end,g,p),g.distanceTo(p)<Th*.5&&e.push({point:g,pointOnLine:p,distance:Ml.origin.distanceTo(g),object:r,face:null,faceIndex:c,uv:null,[QD]:null})}}function H8(r,e,t){const n=e.projectionMatrix,a=r.material.resolution,u=r.matrixWorld,c=r.geometry,d=c.attributes.instanceStart,p=c.attributes.instanceEnd,g=Math.min(c.instanceCount,d.count),y=-e.near;Ml.at(1,xl),xl.w=1,xl.applyMatrix4(e.matrixWorldInverse),xl.applyMatrix4(n),xl.multiplyScalar(1/xl.w),xl.x*=a.x/2,xl.y*=a.y/2,xl.z=0,aM.copy(xl),oM.multiplyMatrices(e.matrixWorldInverse,u);for(let _=0,x=g;_<x;_++){if(Ur.fromBufferAttribute(d,_),zr.fromBufferAttribute(p,_),Ur.w=1,zr.w=1,Ur.applyMatrix4(oM),zr.applyMatrix4(oM),Ur.z>y&&zr.z>y)continue;if(Ur.z>y){const D=Ur.z-zr.z,L=(Ur.z-y)/D;Ur.lerp(zr,L)}else if(zr.z>y){const D=zr.z-Ur.z,L=(zr.z-y)/D;zr.lerp(Ur,L)}Ur.applyMatrix4(n),zr.applyMatrix4(n),Ur.multiplyScalar(1/Ur.w),zr.multiplyScalar(1/zr.w),Ur.x*=a.x/2,Ur.y*=a.y/2,zr.x*=a.x/2,zr.y*=a.y/2,Fr.start.copy(Ur),Fr.start.z=0,Fr.end.copy(zr),Fr.end.z=0;const T=Fr.closestPointToPointParameter(aM,!0);Fr.at(T,V3);const A=CR.lerp(Ur.z,zr.z,T),M=A>=-1&&A<=1,R=aM.distanceTo(V3)<Th*.5;if(M&&R){Fr.start.fromBufferAttribute(d,_),Fr.end.fromBufferAttribute(p,_),Fr.start.applyMatrix4(u),Fr.end.applyMatrix4(u);const D=new X,L=new X;Ml.distanceSqToSegment(Fr.start,Fr.end,L,D),t.push({point:L,pointOnLine:D,distance:Ml.origin.distanceTo(L),object:r,face:null,faceIndex:_,uv:null,[QD]:null})}}}class eN extends Qi{constructor(e=new MT,t=new ET({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,i=new Float32Array(2*t.count);for(let u=0,c=0,d=t.count;u<d;u++,c+=2)B3.fromBufferAttribute(t,u),k3.fromBufferAttribute(n,u),i[c]=c===0?0:i[c-1],i[c+1]=i[c]+B3.distanceTo(k3);const a=new sb(i,2,1);return e.setAttribute("instanceDistanceStart",new ya(a,1,0)),e.setAttribute("instanceDistanceEnd",new ya(a,1,1)),this}raycast(e,t){const n=this.material.worldUnits,i=e.camera;i===null&&!n&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const a=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Ml=e.ray;const u=this.matrixWorld,c=this.geometry,d=this.material;Th=d.linewidth+a,c.boundingSphere===null&&c.computeBoundingSphere(),W_.copy(c.boundingSphere).applyMatrix4(u);let p;if(n)p=Th*.5;else{const y=Math.max(i.near,W_.distanceToPoint(Ml.origin));p=H3(i,y,d.resolution)}if(W_.radius+=p,Ml.intersectsSphere(W_)===!1)return;c.boundingBox===null&&c.computeBoundingBox(),G_.copy(c.boundingBox).applyMatrix4(u);let g;if(n)g=Th*.5;else{const y=Math.max(i.near,G_.distanceToPoint(Ml.origin));g=H3(i,y,d.resolution)}G_.expandByScalar(g),Ml.intersectsBox(G_)!==!1&&(n?V8(this,t):H8(this,i,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(sM),this.material.uniforms.resolution.value.set(sM.z,sM.w))}}class G8 extends eN{constructor(e=new JD,t=new ET({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}const lv=K.forwardRef(function({points:e,color:t=16777215,vertexColors:n,linewidth:i,lineWidth:a,segments:u,dashed:c,...d},p){var g,y;const _=Tu(M=>M.size),x=K.useMemo(()=>u?new eN:new G8,[u]),[E]=K.useState(()=>new ET),T=(n==null||(g=n[0])==null?void 0:g.length)===4?4:3,A=K.useMemo(()=>{const M=u?new MT:new JD,R=e.map(D=>{const L=Array.isArray(D);return D instanceof X||D instanceof Dn?[D.x,D.y,D.z]:D instanceof Ve?[D.x,D.y,0]:L&&D.length===3?[D[0],D[1],D[2]]:L&&D.length===2?[D[0],D[1],0]:D});if(M.setPositions(R.flat()),n){t=16777215;const D=n.map(L=>L instanceof xt?L.toArray():L);M.setColors(D.flat(),T)}return M},[e,u,n,T]);return K.useLayoutEffect(()=>{x.computeLineDistances()},[e,x]),K.useLayoutEffect(()=>{c?E.defines.USE_DASH="":delete E.defines.USE_DASH,E.needsUpdate=!0},[c,E]),K.useEffect(()=>()=>{A.dispose(),E.dispose()},[A]),K.createElement("primitive",z0({object:x,ref:p},d),K.createElement("primitive",{object:A,attach:"geometry"}),K.createElement("primitive",z0({object:E,attach:"material",color:t,vertexColors:!!n,resolution:[_.width,_.height],linewidth:(y=i??a)!==null&&y!==void 0?y:1,dashed:c,transparent:T===4},d)))}),uv=K.forwardRef(({makeDefault:r,camera:e,regress:t,domElement:n,enableDamping:i=!0,keyEvents:a=!1,onChange:u,onStart:c,onEnd:d,...p},g)=>{const y=Tu(z=>z.invalidate),_=Tu(z=>z.camera),x=Tu(z=>z.gl),E=Tu(z=>z.events),T=Tu(z=>z.setEvents),A=Tu(z=>z.set),M=Tu(z=>z.get),R=Tu(z=>z.performance),D=e||_,L=n||E.connected||x.domElement,P=K.useMemo(()=>new k8(D),[D]);return zo(()=>{P.enabled&&P.update()},-1),K.useEffect(()=>(a&&P.connect(a===!0?L:a),P.connect(L),()=>void P.dispose()),[a,L,t,P,y]),K.useEffect(()=>{const z=I=>{y(),t&&R.regress(),u&&u(I)},B=I=>{c&&c(I)},k=I=>{d&&d(I)};return P.addEventListener("change",z),P.addEventListener("start",B),P.addEventListener("end",k),()=>{P.removeEventListener("start",B),P.removeEventListener("end",k),P.removeEventListener("change",z)}},[u,c,d,P,y,T]),K.useEffect(()=>{if(r){const z=M().controls;return A({controls:P}),()=>A({controls:z})}},[r,P]),K.createElement("primitive",z0({ref:g,object:P,enableDamping:i},p))});function W8({start:r,end:e,color:t}){const n=K.useMemo(()=>[new X(...r),new X(...e)],[r,e]);return $.jsx(lv,{points:n,color:t,lineWidth:2,opacity:.9,transparent:!0})}function X8({vertices:r,color:e}){const t=K.useMemo(()=>{const n=new jt,i=new Float32Array(r.flat());return n.setAttribute("position",new zn(i,3)),n.computeVertexNormals(),n},[r]);return $.jsx("mesh",{geometry:t,children:$.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:0,side:Ms,depthWrite:!1})})}function j8({shapeColor:r,vertices:e}){const t=K.useRef([]),n=K.useRef(),i=K.useMemo(()=>{const u=document.createElement("canvas");u.width=64,u.height=64;const c=u.getContext("2d");c.clearRect(0,0,64,64),c.beginPath(),c.arc(32,32,24,0,Math.PI*2),c.fillStyle=r==="#ffffff"?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 1)",c.fill();const d=new Qp(u);return d.needsUpdate=!0,d},[r]),a=u=>{const c=[[0,1,2],[0,1,3],[0,2,3]],d=c[Math.floor(Math.random()*c.length)],p=new X(...u[d[0]]),g=new X(...u[d[1]]),y=new X(...u[d[2]]);let _=Math.random(),x=Math.random();return _+x>1&&(_=1-_,x=1-x),p.clone().multiplyScalar(1-_-x).add(g.clone().multiplyScalar(_)).add(y.clone().multiplyScalar(x))};return K.useEffect(()=>{const u=[];for(let c=0;c<15;c++){const d=new zh(new rf({map:i,transparent:!0,opacity:0,depthWrite:!1,sizeAttenuation:!0})),p=a(e);d.position.copy(p);const g=.12+Math.random()*.08;d.scale.set(g,g,1),d.userData={life:Math.random()*4,maxLife:3+Math.random()*2,size:g,drift:(Math.random()-.5)*.003,startPos:p.clone()},u.push(d),n.current&&n.current.add(d)}return t.current=u,()=>{u.forEach(c=>{c.parent&&c.parent.remove(c),c.material.dispose()})}},[i,e]),zo((u,c)=>{t.current.forEach(d=>{d.userData.life+=c;const{life:p,maxLife:g,size:y,drift:_}=d.userData,x=p%g/g;if(p>=g){d.userData.life=0;const M=a(e);d.position.copy(M),d.userData.startPos.copy(M),d.userData.drift=(Math.random()-.5)*.003,d.userData.size=.12+Math.random()*.08;return}const E=x*3.5;d.position.y=d.userData.startPos.y+E,d.position.x=d.userData.startPos.x+Math.sin(p*2)*.15,d.position.z=d.userData.startPos.z+Math.cos(p*1.5)*.1;let T;x<.1?T=x*10:x<.6?T=1:T=(1-x)*2.5,d.material.opacity=Math.max(0,T*.4);const A=d.userData.size*(1+x*.3);d.scale.set(A,A,1)})}),$.jsx("group",{ref:n})}function q8({shapeColor:r}){const e=K.useRef();zo(()=>{e.current&&(e.current.rotation.y+=.01)});const t=K.useMemo(()=>[[0,2.2,0],[2.2*Math.sqrt(8/9),-2.2/3,0],[-2.2*Math.sqrt(2/9),-2.2/3,2.2*Math.sqrt(2/3)],[-2.2*Math.sqrt(2/9),-2.2/3,-2.2*Math.sqrt(2/3)]],[]),n=K.useMemo(()=>[{start:t[0],end:t[1],key:"e01"},{start:t[0],end:t[2],key:"e02"},{start:t[0],end:t[3],key:"e03"},{start:t[1],end:t[2],key:"e12"},{start:t[1],end:t[3],key:"e13"},{start:t[2],end:t[3],key:"e23"}],[t]),i=K.useMemo(()=>[{vertices:[t[0],t[1],t[2]],key:"f012"},{vertices:[t[0],t[1],t[3]],key:"f013"},{vertices:[t[0],t[2],t[3]],key:"f023"},{vertices:[t[1],t[2],t[3]],key:"f123"}],[t]);return $.jsxs("group",{ref:e,position:[0,-1.5,0],children:[i.map(a=>$.jsx(X8,{vertices:a.vertices,color:r},a.key)),n.map(a=>$.jsx(W8,{start:a.start,end:a.end,color:r},a.key)),t.map((a,u)=>$.jsxs("mesh",{position:a,children:[$.jsx("sphereGeometry",{args:[.05,16,16]}),$.jsx("meshStandardMaterial",{color:r})]},`v${u}`)),$.jsx(j8,{shapeColor:r,vertices:t})]})}function Y8(){const[r,e]=K.useState("#000000");return K.useEffect(()=>{const t=()=>{const i=document.documentElement.getAttribute("data-theme")==="dark";e(i?"#ffffff":"#000000")};t();const n=new MutationObserver(t);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>n.disconnect()},[]),$.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsxs(ov,{camera:{position:[0,-1.5,7],fov:60},style:{background:"transparent"},children:[$.jsx("ambientLight",{intensity:.5,color:"#ffffff"}),$.jsx("directionalLight",{position:[5,5,5],intensity:.5,color:"#ffffff"}),$.jsx(q8,{shapeColor:r}),$.jsx(uv,{enableZoom:!1,enablePan:!1,autoRotate:!1})]})})}function Z8({start:r,end:e,color:t}){const n=K.useMemo(()=>[new X(...r),new X(...e)],[r,e]);return $.jsx(lv,{points:n,color:t,lineWidth:2,opacity:.9,transparent:!0})}function K8({vertices:r,color:e}){const t=K.useMemo(()=>{const n=new jt,i=[...r[0],...r[1],...r[2],...r[0],...r[2],...r[3]];return n.setAttribute("position",new bt(i,3)),n.computeVertexNormals(),n},[r]);return $.jsx("mesh",{geometry:t,children:$.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:0,side:Ms,depthWrite:!1})})}function $8({shapeColor:r,vertices:e}){const t=K.useRef([]),n=K.useRef(),i=K.useMemo(()=>{const u=document.createElement("canvas");u.width=64,u.height=64;const c=u.getContext("2d");c.clearRect(0,0,64,64),c.beginPath(),c.arc(32,32,24,0,Math.PI*2),c.fillStyle=r==="#ffffff"?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 1)",c.fill();const d=new Qp(u);return d.needsUpdate=!0,d},[r]),a=u=>{const c=[u[2],u[3],u[6],u[7]],d=new X(...c[0]),p=new X(...c[1]),g=new X(...c[2]),y=new X(...c[3]),_=Math.random(),x=Math.random(),E=d.clone().lerp(p,_),T=y.clone().lerp(g,_);return E.lerp(T,x)};return K.useEffect(()=>{const u=[];for(let c=0;c<15;c++){const d=new zh(new rf({map:i,transparent:!0,opacity:0,depthWrite:!1,sizeAttenuation:!0})),p=a(e);d.position.copy(p);const g=.12+Math.random()*.08;d.scale.set(g,g,1),d.userData={life:Math.random()*4,maxLife:3+Math.random()*2,size:g,startPos:p.clone()},u.push(d),n.current&&n.current.add(d)}return t.current=u,()=>{u.forEach(c=>{c.parent&&c.parent.remove(c),c.material.dispose()})}},[i,e]),zo((u,c)=>{t.current.forEach(d=>{d.userData.life+=c;const{life:p,maxLife:g}=d.userData,y=p%g/g;if(p>=g){d.userData.life=0;const T=a(e);d.position.copy(T),d.userData.startPos.copy(T),d.userData.size=.12+Math.random()*.08;return}const _=y*3.5;d.position.y=d.userData.startPos.y+_,d.position.x=d.userData.startPos.x+Math.sin(p*2)*.15,d.position.z=d.userData.startPos.z+Math.cos(p*1.5)*.1;let x;y<.1?x=y*10:y<.6?x=1:x=(1-y)*2.5,d.material.opacity=Math.max(0,x*.4);const E=d.userData.size*(1+y*.3);d.scale.set(E,E,1)})}),$.jsx("group",{ref:n})}function Q8({shapeColor:r}){const e=K.useRef();zo(()=>{e.current&&(e.current.rotation.y+=.01)});const t=K.useMemo(()=>[[-1.5,-1.5,-1.5],[1.5,-1.5,-1.5],[1.5,1.5,-1.5],[-1.5,1.5,-1.5],[-1.5,-1.5,1.5],[1.5,-1.5,1.5],[1.5,1.5,1.5],[-1.5,1.5,1.5]],[]),n=K.useMemo(()=>[{start:t[0],end:t[1],key:"e01"},{start:t[1],end:t[5],key:"e15"},{start:t[5],end:t[4],key:"e54"},{start:t[4],end:t[0],key:"e40"},{start:t[3],end:t[2],key:"e32"},{start:t[2],end:t[6],key:"e26"},{start:t[6],end:t[7],key:"e67"},{start:t[7],end:t[3],key:"e73"},{start:t[0],end:t[3],key:"e03"},{start:t[1],end:t[2],key:"e12"},{start:t[5],end:t[6],key:"e56"},{start:t[4],end:t[7],key:"e47"}],[t]),i=K.useMemo(()=>[{vertices:[t[0],t[1],t[2],t[3]],key:"back"},{vertices:[t[4],t[5],t[6],t[7]],key:"front"},{vertices:[t[3],t[2],t[6],t[7]],key:"top"},{vertices:[t[0],t[1],t[5],t[4]],key:"bottom"},{vertices:[t[0],t[3],t[7],t[4]],key:"left"},{vertices:[t[1],t[2],t[6],t[5]],key:"right"}],[t]);return $.jsxs("group",{ref:e,position:[0,-1.5,0],children:[i.map(a=>$.jsx(K8,{vertices:a.vertices,color:r},a.key)),n.map(a=>$.jsx(Z8,{start:a.start,end:a.end,color:r},a.key)),t.map((a,u)=>$.jsxs("mesh",{position:a,children:[$.jsx("sphereGeometry",{args:[.05,16,16]}),$.jsx("meshStandardMaterial",{color:r})]},`v${u}`)),$.jsx($8,{shapeColor:r,vertices:t})]})}function J8(){const[r,e]=K.useState("#000000");return K.useEffect(()=>{const t=()=>{const i=document.documentElement.getAttribute("data-theme")==="dark";e(i?"#ffffff":"#000000")};t();const n=new MutationObserver(t);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>n.disconnect()},[]),$.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsxs(ov,{camera:{position:[0,2,9],fov:60},style:{background:"transparent"},children:[$.jsx("ambientLight",{intensity:.5,color:"#ffffff"}),$.jsx("directionalLight",{position:[5,5,5],intensity:.5,color:"#ffffff"}),$.jsx(Q8,{shapeColor:r}),$.jsx(uv,{enableZoom:!1,enablePan:!1,autoRotate:!1})]})})}function eV({start:r,end:e,color:t}){const n=K.useMemo(()=>[new X(...r),new X(...e)],[r,e]);return $.jsx(lv,{points:n,color:t,lineWidth:2,opacity:.9,transparent:!0})}function tV({vertices:r,color:e}){const t=K.useMemo(()=>{const n=new jt,i=new Float32Array(r.flat());return n.setAttribute("position",new zn(i,3)),n.computeVertexNormals(),n},[r]);return $.jsx("mesh",{geometry:t,children:$.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:0,side:Ms,depthWrite:!1})})}function nV({shapeColor:r,vertices:e}){const t=K.useRef([]),n=K.useRef(),i=K.useMemo(()=>{const u=document.createElement("canvas");u.width=64,u.height=64;const c=u.getContext("2d");c.clearRect(0,0,64,64),c.beginPath(),c.arc(32,32,24,0,Math.PI*2),c.fillStyle=r==="#ffffff"?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 1)",c.fill();const d=new Qp(u);return d.needsUpdate=!0,d},[r]),a=u=>{const c=[[0,1,2],[0,2,3],[0,3,4],[0,4,1]],d=c[Math.floor(Math.random()*c.length)],p=new X(...u[d[0]]),g=new X(...u[d[1]]),y=new X(...u[d[2]]);let _=Math.random(),x=Math.random();return _+x>1&&(_=1-_,x=1-x),p.clone().multiplyScalar(1-_-x).add(g.clone().multiplyScalar(_)).add(y.clone().multiplyScalar(x))};return K.useEffect(()=>{const u=[];for(let c=0;c<15;c++){const d=new zh(new rf({map:i,transparent:!0,opacity:0,depthWrite:!1,sizeAttenuation:!0})),p=a(e);d.position.copy(p);const g=.12+Math.random()*.08;d.scale.set(g,g,1),d.userData={life:Math.random()*4,maxLife:3+Math.random()*2,size:g,startPos:p.clone()},u.push(d),n.current&&n.current.add(d)}return t.current=u,()=>{u.forEach(c=>{c.parent&&c.parent.remove(c),c.material.dispose()})}},[i,e]),zo((u,c)=>{t.current.forEach(d=>{d.userData.life+=c;const{life:p,maxLife:g}=d.userData,y=p%g/g;if(p>=g){d.userData.life=0;const T=a(e);d.position.copy(T),d.userData.startPos.copy(T),d.userData.size=.12+Math.random()*.08;return}const _=y*3.5;d.position.y=d.userData.startPos.y+_,d.position.x=d.userData.startPos.x+Math.sin(p*2)*.15,d.position.z=d.userData.startPos.z+Math.cos(p*1.5)*.1;let x;y<.1?x=y*10:y<.6?x=1:x=(1-y)*2.5,d.material.opacity=Math.max(0,x*.4);const E=d.userData.size*(1+y*.3);d.scale.set(E,E,1)})}),$.jsx("group",{ref:n})}function iV({shapeColor:r}){const e=K.useRef(),t=0,n=0;zo(()=>{e.current&&(e.current.rotation.y+=.01)});const i=K.useMemo(()=>[[0,2,0],[2,0,0],[0,0,2],[-2,0,0],[0,0,-2],[0,-2,0]],[]),a=K.useMemo(()=>[{start:i[0],end:i[1],key:"e01"},{start:i[0],end:i[2],key:"e02"},{start:i[0],end:i[3],key:"e03"},{start:i[0],end:i[4],key:"e04"},{start:i[1],end:i[2],key:"e12"},{start:i[2],end:i[3],key:"e23"},{start:i[3],end:i[4],key:"e34"},{start:i[4],end:i[1],key:"e41"},{start:i[5],end:i[1],key:"e51"},{start:i[5],end:i[2],key:"e52"},{start:i[5],end:i[3],key:"e53"},{start:i[5],end:i[4],key:"e54"}],[i]),u=K.useMemo(()=>[{vertices:[i[0],i[1],i[2]],key:"f012"},{vertices:[i[0],i[2],i[3]],key:"f023"},{vertices:[i[0],i[3],i[4]],key:"f034"},{vertices:[i[0],i[4],i[1]],key:"f041"},{vertices:[i[5],i[2],i[1]],key:"f521"},{vertices:[i[5],i[3],i[2]],key:"f532"},{vertices:[i[5],i[4],i[3]],key:"f543"},{vertices:[i[5],i[1],i[4]],key:"f514"}],[i]);return $.jsx("group",{ref:e,position:[0,-1.5,0],children:$.jsxs("group",{rotation:[t,n,0],children:[u.map(c=>$.jsx(tV,{vertices:c.vertices,color:r},c.key)),a.map(c=>$.jsx(eV,{start:c.start,end:c.end,color:r},c.key)),i.map((c,d)=>$.jsxs("mesh",{position:c,children:[$.jsx("sphereGeometry",{args:[.05,16,16]}),$.jsx("meshStandardMaterial",{color:r})]},`v${d}`)),$.jsx(nV,{shapeColor:r,vertices:i})]})})}function rV(){const[r,e]=K.useState("#000000");return K.useEffect(()=>{const t=()=>{const i=document.documentElement.getAttribute("data-theme")==="dark";e(i?"#ffffff":"#000000")};t();const n=new MutationObserver(t);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>n.disconnect()},[]),$.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsxs(ov,{camera:{position:[0,-1.5,7],fov:70},style:{background:"transparent"},children:[$.jsx("ambientLight",{intensity:.5,color:"#ffffff"}),$.jsx("directionalLight",{position:[5,5,5],intensity:.5,color:"#ffffff"}),$.jsx(iV,{shapeColor:r}),$.jsx(uv,{enableZoom:!1,enablePan:!1,autoRotate:!1})]})})}function sV({start:r,end:e,color:t}){const n=K.useMemo(()=>[new X(...r),new X(...e)],[r,e]);return $.jsx(lv,{points:n,color:t,lineWidth:2,opacity:.9,transparent:!0})}function aV({vertices:r,color:e}){const t=K.useMemo(()=>{const n=new jt,i=[...r[0],...r[1],...r[2],...r[0],...r[2],...r[3],...r[0],...r[3],...r[4]];return n.setAttribute("position",new bt(i,3)),n.computeVertexNormals(),n},[r]);return $.jsx("mesh",{geometry:t,children:$.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:0,side:Ms,depthWrite:!1})})}function oV({shapeColor:r,topFaceIndices:e,vertices:t,faces:n}){const i=K.useRef([]),a=K.useRef(),u=K.useMemo(()=>{const d=document.createElement("canvas");d.width=64,d.height=64;const p=d.getContext("2d");p.clearRect(0,0,64,64),p.beginPath(),p.arc(32,32,24,0,Math.PI*2),p.fillStyle=r==="#ffffff"?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 1)",p.fill();const g=new Qp(d);return g.needsUpdate=!0,g},[r]),c=()=>{const d=e[Math.floor(Math.random()*e.length)],p=n[d].vertices,g=Math.floor(Math.random()*3),y=new X(...p[0]),_=new X(...p[g+1]),x=new X(...p[g+2]);let E=Math.random(),T=Math.random();return E+T>1&&(E=1-E,T=1-T),y.clone().multiplyScalar(1-E-T).add(_.clone().multiplyScalar(E)).add(x.clone().multiplyScalar(T))};return K.useEffect(()=>{const d=[];for(let p=0;p<15;p++){const g=new zh(new rf({map:u,transparent:!0,opacity:0,depthWrite:!1,sizeAttenuation:!0})),y=c();g.position.copy(y);const _=.12+Math.random()*.08;g.scale.set(_,_,1),g.userData={life:Math.random()*4,maxLife:3+Math.random()*2,size:_,startPos:y.clone()},d.push(g),a.current&&a.current.add(g)}return i.current=d,()=>{d.forEach(p=>{p.parent&&p.parent.remove(p),p.material.dispose()})}},[u]),zo((d,p)=>{i.current.forEach(g=>{g.userData.life+=p;const{life:y,maxLife:_}=g.userData,x=y%_/_;if(y>=_){g.userData.life=0;const M=c();g.position.copy(M),g.userData.startPos.copy(M),g.userData.size=.12+Math.random()*.08;return}const E=x*3.5;g.position.y=g.userData.startPos.y+E,g.position.x=g.userData.startPos.x+Math.sin(y*2)*.15,g.position.z=g.userData.startPos.z+Math.cos(y*1.5)*.1;let T;x<.1?T=x*10:x<.6?T=1:T=(1-x)*2.5,g.material.opacity=Math.max(0,T*.4);const A=g.userData.size*(1+x*.3);g.scale.set(A,A,1)})}),$.jsx("group",{ref:a})}function lV({shapeColor:r}){const e=K.useRef(),t=0;zo(()=>{e.current&&(e.current.rotation.y+=.01)});const n=(1+Math.sqrt(5))/2,i=1/n,a=K.useMemo(()=>[[1.2,1.2,1.2],[1.2,1.2,-1.2],[1.2,-1.2,1.2],[1.2,-1.2,-1.2],[-1.2,1.2,1.2],[-1.2,1.2,-1.2],[-1.2,-1.2,1.2],[-1.2,-1.2,-1.2],[0,1.2*i,1.2*n],[0,-1.2*i,1.2*n],[0,1.2*i,-1.2*n],[0,-1.2*i,-1.2*n],[1.2*i,1.2*n,0],[-1.2*i,1.2*n,0],[1.2*i,-1.2*n,0],[-1.2*i,-1.2*n,0],[1.2*n,0,1.2*i],[-1.2*n,0,1.2*i],[1.2*n,0,-1.2*i],[-1.2*n,0,-1.2*i]],[]),u=K.useMemo(()=>[{start:a[0],end:a[8],key:"e0-8"},{start:a[0],end:a[12],key:"e0-12"},{start:a[0],end:a[16],key:"e0-16"},{start:a[1],end:a[10],key:"e1-10"},{start:a[1],end:a[12],key:"e1-12"},{start:a[1],end:a[18],key:"e1-18"},{start:a[2],end:a[9],key:"e2-9"},{start:a[2],end:a[14],key:"e2-14"},{start:a[2],end:a[16],key:"e2-16"},{start:a[3],end:a[11],key:"e3-11"},{start:a[3],end:a[14],key:"e3-14"},{start:a[3],end:a[18],key:"e3-18"},{start:a[4],end:a[8],key:"e4-8"},{start:a[4],end:a[13],key:"e4-13"},{start:a[4],end:a[17],key:"e4-17"},{start:a[5],end:a[10],key:"e5-10"},{start:a[5],end:a[13],key:"e5-13"},{start:a[5],end:a[19],key:"e5-19"},{start:a[6],end:a[9],key:"e6-9"},{start:a[6],end:a[15],key:"e6-15"},{start:a[6],end:a[17],key:"e6-17"},{start:a[7],end:a[11],key:"e7-11"},{start:a[7],end:a[15],key:"e7-15"},{start:a[7],end:a[19],key:"e7-19"},{start:a[8],end:a[9],key:"e8-9"},{start:a[10],end:a[11],key:"e10-11"},{start:a[12],end:a[13],key:"e12-13"},{start:a[14],end:a[15],key:"e14-15"},{start:a[16],end:a[18],key:"e16-18"},{start:a[17],end:a[19],key:"e17-19"}],[a]),c=K.useMemo(()=>[{vertices:[a[0],a[16],a[2],a[9],a[8]],key:"f0"},{vertices:[a[0],a[8],a[4],a[13],a[12]],key:"f1"},{vertices:[a[0],a[12],a[1],a[18],a[16]],key:"f2"},{vertices:[a[8],a[9],a[6],a[17],a[4]],key:"f3"},{vertices:[a[2],a[16],a[18],a[3],a[14]],key:"f4"},{vertices:[a[1],a[12],a[13],a[5],a[10]],key:"f5"},{vertices:[a[4],a[17],a[19],a[5],a[13]],key:"f6"},{vertices:[a[2],a[14],a[15],a[6],a[9]],key:"f7"},{vertices:[a[1],a[10],a[11],a[3],a[18]],key:"f8"},{vertices:[a[6],a[15],a[7],a[19],a[17]],key:"f9"},{vertices:[a[3],a[11],a[7],a[15],a[14]],key:"f10"},{vertices:[a[5],a[19],a[7],a[11],a[10]],key:"f11"}],[a]),d=[1,5];return $.jsx("group",{position:[0,-1.5,0],children:$.jsx("group",{rotation:[t,0,0],children:$.jsxs("group",{ref:e,children:[c.map(p=>$.jsx(aV,{vertices:p.vertices,color:r},p.key)),u.map(p=>$.jsx(sV,{start:p.start,end:p.end,color:r},p.key)),a.map((p,g)=>$.jsxs("mesh",{position:p,children:[$.jsx("sphereGeometry",{args:[.05,16,16]}),$.jsx("meshStandardMaterial",{color:r})]},`v${g}`)),$.jsx(oV,{shapeColor:r,topFaceIndices:d,vertices:a,faces:c})]})})})}function uV(){const[r,e]=K.useState("#000000");return K.useEffect(()=>{const t=()=>{const i=document.documentElement.getAttribute("data-theme")==="dark";e(i?"#ffffff":"#000000")};t();const n=new MutationObserver(t);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>n.disconnect()},[]),$.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsxs(ov,{camera:{position:[0,4,7],fov:60},style:{background:"transparent"},children:[$.jsx("ambientLight",{intensity:.5,color:"#ffffff"}),$.jsx("directionalLight",{position:[5,5,5],intensity:.5,color:"#ffffff"}),$.jsx(lV,{shapeColor:r}),$.jsx(uv,{enableZoom:!1,enablePan:!1,autoRotate:!1})]})})}function cV({start:r,end:e,color:t}){const n=K.useMemo(()=>[new X(...r),new X(...e)],[r,e]);return $.jsx(lv,{points:n,color:t,lineWidth:2,opacity:.9,transparent:!0})}function fV({vertices:r,color:e}){const t=K.useMemo(()=>{const n=new jt,i=new Float32Array(r.flat());return n.setAttribute("position",new zn(i,3)),n.computeVertexNormals(),n},[r]);return $.jsx("mesh",{geometry:t,children:$.jsx("meshStandardMaterial",{color:e,transparent:!0,opacity:0,side:Ms,depthWrite:!1})})}function hV({shapeColor:r,vertices:e,faces:t,topFaceIndices:n}){const i=K.useRef([]),a=K.useRef(),u=K.useMemo(()=>{const d=document.createElement("canvas");d.width=64,d.height=64;const p=d.getContext("2d");p.clearRect(0,0,64,64),p.beginPath(),p.arc(32,32,24,0,Math.PI*2),p.fillStyle=r==="#ffffff"?"rgba(255, 255, 255, 1)":"rgba(0, 0, 0, 1)",p.fill();const g=new Qp(d);return g.needsUpdate=!0,g},[r]),c=()=>{const d=n[Math.floor(Math.random()*n.length)],p=t[d].vertices,g=new X(...p[0]),y=new X(...p[1]),_=new X(...p[2]);let x=Math.random(),E=Math.random();return x+E>1&&(x=1-x,E=1-E),g.clone().multiplyScalar(1-x-E).add(y.clone().multiplyScalar(x)).add(_.clone().multiplyScalar(E))};return K.useEffect(()=>{const d=[];for(let p=0;p<15;p++){const g=new zh(new rf({map:u,transparent:!0,opacity:0,depthWrite:!1,sizeAttenuation:!0})),y=c();g.position.copy(y);const _=.12+Math.random()*.08;g.scale.set(_,_,1),g.userData={life:Math.random()*4,maxLife:3+Math.random()*2,size:_,startPos:y.clone()},d.push(g),a.current&&a.current.add(g)}return i.current=d,()=>{d.forEach(p=>{p.parent&&p.parent.remove(p),p.material.dispose()})}},[u]),zo((d,p)=>{i.current.forEach(g=>{g.userData.life+=p;const{life:y,maxLife:_}=g.userData,x=y%_/_;if(y>=_){g.userData.life=0;const M=c();g.position.copy(M),g.userData.startPos.copy(M),g.userData.size=.12+Math.random()*.08;return}const E=x*3.5;g.position.y=g.userData.startPos.y+E,g.position.x=g.userData.startPos.x+Math.sin(y*2)*.15,g.position.z=g.userData.startPos.z+Math.cos(y*1.5)*.1;let T;x<.1?T=x*10:x<.6?T=1:T=(1-x)*2.5,g.material.opacity=Math.max(0,T*.4);const A=g.userData.size*(1+x*.3);g.scale.set(A,A,1)})}),$.jsx("group",{ref:a})}function dV({shapeColor:r}){const e=K.useRef(),t=0;zo(()=>{e.current&&(e.current.rotation.y+=.01)});const n=(1+Math.sqrt(5))/2,i=K.useMemo(()=>[[0,1.4,1.4*n],[0,1.4,-1.4*n],[0,-1.4,1.4*n],[0,-1.4,-1.4*n],[1.4*n,0,1.4],[1.4*n,0,-1.4],[-1.4*n,0,1.4],[-1.4*n,0,-1.4],[1.4,1.4*n,0],[-1.4,1.4*n,0],[1.4,-1.4*n,0],[-1.4,-1.4*n,0]],[]),a=K.useMemo(()=>[{start:i[0],end:i[2],key:"e0-2"},{start:i[0],end:i[4],key:"e0-4"},{start:i[0],end:i[6],key:"e0-6"},{start:i[0],end:i[8],key:"e0-8"},{start:i[0],end:i[9],key:"e0-9"},{start:i[1],end:i[3],key:"e1-3"},{start:i[1],end:i[5],key:"e1-5"},{start:i[1],end:i[7],key:"e1-7"},{start:i[1],end:i[8],key:"e1-8"},{start:i[1],end:i[9],key:"e1-9"},{start:i[2],end:i[4],key:"e2-4"},{start:i[2],end:i[6],key:"e2-6"},{start:i[2],end:i[10],key:"e2-10"},{start:i[2],end:i[11],key:"e2-11"},{start:i[3],end:i[5],key:"e3-5"},{start:i[3],end:i[7],key:"e3-7"},{start:i[3],end:i[10],key:"e3-10"},{start:i[3],end:i[11],key:"e3-11"},{start:i[4],end:i[5],key:"e4-5"},{start:i[4],end:i[8],key:"e4-8"},{start:i[4],end:i[10],key:"e4-10"},{start:i[5],end:i[8],key:"e5-8"},{start:i[5],end:i[10],key:"e5-10"},{start:i[6],end:i[7],key:"e6-7"},{start:i[6],end:i[9],key:"e6-9"},{start:i[6],end:i[11],key:"e6-11"},{start:i[7],end:i[9],key:"e7-9"},{start:i[7],end:i[11],key:"e7-11"},{start:i[8],end:i[9],key:"e8-9"},{start:i[10],end:i[11],key:"e10-11"}],[i]),u=K.useMemo(()=>[{vertices:[i[0],i[2],i[4]],key:"f0"},{vertices:[i[0],i[4],i[8]],key:"f1"},{vertices:[i[0],i[8],i[9]],key:"f2"},{vertices:[i[0],i[9],i[6]],key:"f3"},{vertices:[i[0],i[6],i[2]],key:"f4"},{vertices:[i[2],i[4],i[10]],key:"f5"},{vertices:[i[4],i[8],i[5]],key:"f6"},{vertices:[i[8],i[9],i[1]],key:"f7"},{vertices:[i[9],i[6],i[7]],key:"f8"},{vertices:[i[6],i[2],i[11]],key:"f9"},{vertices:[i[10],i[4],i[5]],key:"f10"},{vertices:[i[5],i[8],i[1]],key:"f11"},{vertices:[i[1],i[9],i[7]],key:"f12"},{vertices:[i[7],i[6],i[11]],key:"f13"},{vertices:[i[11],i[2],i[10]],key:"f14"},{vertices:[i[3],i[10],i[5]],key:"f15"},{vertices:[i[3],i[5],i[1]],key:"f16"},{vertices:[i[3],i[1],i[7]],key:"f17"},{vertices:[i[3],i[7],i[11]],key:"f18"},{vertices:[i[3],i[11],i[10]],key:"f19"}],[i]),c=[0,1,2,3,4];return $.jsx("group",{position:[0,-2,0],children:$.jsx("group",{rotation:[t,0,0],children:$.jsxs("group",{ref:e,children:[u.map(d=>$.jsx(fV,{vertices:d.vertices,color:r},d.key)),a.map(d=>$.jsx(cV,{start:d.start,end:d.end,color:r},d.key)),i.map((d,p)=>$.jsxs("mesh",{position:d,children:[$.jsx("sphereGeometry",{args:[.05,16,16]}),$.jsx("meshStandardMaterial",{color:r})]},`v${p}`)),$.jsx(hV,{shapeColor:r,topFaceIndices:c,vertices:i,faces:u})]})})})}function pV(){const[r,e]=K.useState("#000000");return K.useEffect(()=>{const t=()=>{const i=document.documentElement.getAttribute("data-theme")==="dark";e(i?"#ffffff":"#000000")};t();const n=new MutationObserver(t);return n.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]}),()=>n.disconnect()},[]),$.jsx("div",{style:{width:"100%",height:"100%"},children:$.jsxs(ov,{camera:{position:[0,2,7],fov:80},style:{background:"transparent"},children:[$.jsx("ambientLight",{intensity:.5,color:"#ffffff"}),$.jsx("directionalLight",{position:[5,5,5],intensity:.5,color:"#ffffff"}),$.jsx(dV,{shapeColor:r}),$.jsx(uv,{enableZoom:!1,enablePan:!1,autoRotate:!1})]})})}const G3=[Y8,J8,rV,uV,pV],mV=5e3,gV=1600,vV=1600;function yV(){const[r,e]=K.useState(0),[t,n]=K.useState("growing"),i=K.useCallback(()=>{n("shrinking")},[]);K.useEffect(()=>{if(t==="showing"){const c=setTimeout(i,mV);return()=>clearTimeout(c)}if(t==="shrinking"){const c=setTimeout(()=>{e(d=>(d+1)%G3.length),n("growing")},gV);return()=>clearTimeout(c)}if(t==="growing"){const c=setTimeout(()=>{n("showing")},vV);return()=>clearTimeout(c)}},[t,i]);const a=G3[r];let u="symbol-transition";return t==="shrinking"?u+=" symbol-shrink":t==="growing"?u+=" symbol-grow":u+=" symbol-visible",$.jsx("article",{className:"symbolContainer",children:$.jsx("section",{className:"symbol",style:{opacity:1},children:$.jsx("div",{className:u,children:$.jsx(a,{})})})})}function _V(r){function e(t){let n=ef(),i=IC(),a=qO();return $.jsx(r,{...t,location:n,params:a,navigate:i})}return e}const xV={workItemData:[],_fetchData:async function(){let r;return this.workItemData.length===0?(r=await(await fetch("https://api.dribbble.com/v2/user/shots?page=1&per_page=100"+"&access_token=undefined")).json(),this.workItemData=r):r=this.workItemData,r},_findItem:function(r,e){let t;return r.forEach((n,i)=>{n.id.toString()===e&&(t=n)}),t},getAllWorkItems:async function(){return await this._fetchData()},getSingleItem:async function(r){let e;if(this.workItemData.length>0)e=this._findItem(this.workItemData,r);else{let t=await this._fetchData();e=this._findItem(t,r)}return e}};function Rl(r){if(!r)return[];if(Array.isArray(r))return r;if(r.nodeType!==void 0)return[r];if(typeof r=="string"&&(r=document.querySelectorAll(r)),r.length!==void 0)return[].slice.call(r,0);throw new TypeError("unexpected input "+String(r))}function as({context:r,label:e="context-to-element",resolveDocument:t,defaultToDocument:n}){let i=Rl(r)[0];if(t&&i&&i.nodeType===Node.DOCUMENT_NODE&&(i=i.documentElement),!i&&n)return document.documentElement;if(!i)throw new TypeError(e+" requires valid options.context");if(i.nodeType!==Node.ELEMENT_NODE&&i.nodeType!==Node.DOCUMENT_FRAGMENT_NODE)throw new TypeError(e+" requires options.context to be an Element");return i}function o1({context:r}={}){const e=[];let t=as({label:"get/parents",context:r});for(;t;)e.push(t),t=t.parentNode,t&&t.nodeType!==Node.ELEMENT_NODE&&(t=null);return e}const bV=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector"];let YM=null;function SV(r){bV.some(function(e){return r[e]?(YM=e,!0):!1})}function tN(r,e){return YM||SV(r),r[YM](e)}var Jg={exports:{}};/*!
 * Platform.js <https://mths.be/platform>
 * Copyright 2014-2016 Benjamin Tan <https://demoneaux.github.io/>
 * Copyright 2011-2013 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <https://mths.be/mit>
 */var MV=Jg.exports,W3;function EV(){return W3||(W3=1,(function(r,e){(function(){var t={function:!0,object:!0},n=t[typeof window]&&window||this,i=n,a=e,u=r&&!r.nodeType&&r,c=a&&u&&typeof cx=="object"&&cx;c&&(c.global===c||c.window===c||c.self===c)&&(n=c);var d=Math.pow(2,53)-1,p=/\bOpera/,g=this,y=Object.prototype,_=y.hasOwnProperty,x=y.toString;function E(O){return O=String(O),O.charAt(0).toUpperCase()+O.slice(1)}function T(O,W,ee){var Q={"10.0":"10","6.4":"10 Technical Preview","6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return W&&ee&&/^Win/i.test(O)&&!/^Windows Phone /i.test(O)&&(Q=Q[/[\d.]+$/.exec(O)])&&(O="Windows "+Q),O=String(O),W&&ee&&(O=O.replace(RegExp(W,"i"),ee)),O=M(O.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0]),O}function A(O,W){var ee=-1,Q=O?O.length:0;if(typeof Q=="number"&&Q>-1&&Q<=d)for(;++ee<Q;)W(O[ee],ee,O);else R(O,W)}function M(O){return O=B(O),/^(?:webOS|i(?:OS|P))/.test(O)?O:E(O)}function R(O,W){for(var ee in O)_.call(O,ee)&&W(O[ee],ee,O)}function D(O){return O==null?E(O):x.call(O).slice(8,-1)}function L(O,W){var ee=O!=null?typeof O[W]:"number";return!/^(?:boolean|number|string|undefined)$/.test(ee)&&(ee=="object"?!!O[W]:!0)}function P(O){return String(O).replace(/([ -])(?!$)/g,"$1?")}function z(O,W){var ee=null;return A(O,function(Q,fe){ee=W(ee,Q,fe,O)}),ee}function B(O){return String(O).replace(/^ +| +$/g,"")}function k(O){var W=n,ee=O&&typeof O=="object"&&D(O)!="String";ee&&(W=O,O=null);var Q=W.navigator||{},fe=Q.userAgent||"";O||(O=fe);var ue=ee||g==i,Z=ee?!!Q.likeChrome:/\bChrome\b/.test(O)&&!/internal|\n/i.test(x.toString()),J="Object",he=ee?J:"ScriptBridgingProxyObject",Pe=ee?J:"Environment",Ue=ee&&W.java?"JavaPackage":D(W.java),j=ee?J:"RuntimeObject",le=/\bJava/.test(Ue)&&W.java,Re=le&&D(W.environment)==Pe,ze=le?"a":"",rt=le?"b":"",ge=W.document||{},De=W.operamini||W.opera,it=p.test(it=ee&&De?De["[[Class]]"]:D(De))?it:De=null,ne,ft=O,_t=[],Yt=null,Et=O==fe,ve=Et&&De&&typeof De.version=="function"&&De.version(),Xe,Ae=Ct([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),be=q(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),Y=oe([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation 3","PlayStation 4","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),dt=Je({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}}),Te=F(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function Ct(st){return z(st,function(Ge,Ke){return Ge||RegExp("\\b"+(Ke.pattern||P(Ke))+"\\b","i").exec(O)&&(Ke.label||Ke)})}function Je(st){return z(st,function(Ge,Ke,Mt){return Ge||(Ke[Y]||Ke[/^[a-z]+(?: +[a-z]+\b)*/i.exec(Y)]||RegExp("\\b"+P(Mt)+"(?:\\b|\\w*\\d)","i").exec(O))&&Mt})}function q(st){return z(st,function(Ge,Ke){return Ge||RegExp("\\b"+(Ke.pattern||P(Ke))+"\\b","i").exec(O)&&(Ke.label||Ke)})}function F(st){return z(st,function(Ge,Ke){var Mt=Ke.pattern||P(Ke);return!Ge&&(Ge=RegExp("\\b"+Mt+"(?:/[\\d.]+|[ \\w.]*)","i").exec(O))&&(Ge=T(Ge,Mt,Ke.label||Ke)),Ge})}function oe(st){return z(st,function(Ge,Ke){var Mt=Ke.pattern||P(Ke);return!Ge&&(Ge=RegExp("\\b"+Mt+" *\\d+[.\\w_]*","i").exec(O)||RegExp("\\b"+Mt+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(O))&&((Ge=String(Ke.label&&!RegExp(Mt,"i").test(Ke.label)?Ke.label:Ge).split("/"))[1]&&!/[\d.]+/.test(Ge[0])&&(Ge[0]+=" "+Ge[1]),Ke=Ke.label||Ke,Ge=M(Ge[0].replace(RegExp(Mt,"i"),Ke).replace(RegExp("; *(?:"+Ke+"[_-])?","i")," ").replace(RegExp("("+Ke+")[-_.]?(\\w)","i"),"$1 $2"))),Ge})}function Le(st){return z(st,function(Ge,Ke){return Ge||(RegExp(Ke+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(O)||0)[1]||null})}function Be(){return this.description||""}if(Ae&&(Ae=[Ae]),dt&&!Y&&(Y=oe([dt])),(ne=/\bGoogle TV\b/.exec(Y))&&(Y=ne[0]),/\bSimulator\b/i.test(O)&&(Y=(Y?Y+" ":"")+"Simulator"),be=="Opera Mini"&&/\bOPiOS\b/.test(O)&&_t.push("running in Turbo/Uncompressed mode"),be=="IE"&&/\blike iPhone OS\b/.test(O)?(ne=k(O.replace(/like iPhone OS/,"")),dt=ne.manufacturer,Y=ne.product):/^iP/.test(Y)?(be||(be="Safari"),Te="iOS"+((ne=/ OS ([\d_]+)/i.exec(O))?" "+ne[1].replace(/_/g,"."):"")):be=="Konqueror"&&!/buntu/i.test(Te)?Te="Kubuntu":dt&&dt!="Google"&&(/Chrome/.test(be)&&!/\bMobile Safari\b/i.test(O)||/\bVita\b/.test(Y))||/\bAndroid\b/.test(Te)&&/^Chrome/.test(be)&&/\bVersion\//i.test(O)?(be="Android Browser",Te=/\bAndroid\b/.test(Te)?Te:"Android"):be=="Silk"?(/\bMobi/i.test(O)||(Te="Android",_t.unshift("desktop mode")),/Accelerated *= *true/i.test(O)&&_t.unshift("accelerated")):be=="PaleMoon"&&(ne=/\bFirefox\/([\d.]+)\b/.exec(O))?_t.push("identifying as Firefox "+ne[1]):be=="Firefox"&&(ne=/\b(Mobile|Tablet|TV)\b/i.exec(O))?(Te||(Te="Firefox OS"),Y||(Y=ne[1])):(!be||(ne=!/\bMinefield\b/i.test(O)&&/\b(?:Firefox|Safari)\b/.exec(be)))&&(be&&!Y&&/[\/,]|^[^(]+?\)/.test(O.slice(O.indexOf(ne+"/")+8))&&(be=null),(ne=Y||dt||Te)&&(Y||dt||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(Te))&&(be=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(Te)?Te:ne)+" Browser")),ve||(ve=Le(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|Silk(?!/[\\d.]+$))","Version",P(be),"(?:Firefox|Minefield|NetFront)"])),(ne=Ae=="iCab"&&parseFloat(ve)>3&&"WebKit"||/\bOpera\b/.test(be)&&(/\bOPR\b/.test(O)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(O)&&!/^(?:Trident|EdgeHTML)$/.test(Ae)&&"WebKit"||!Ae&&/\bMSIE\b/i.test(O)&&(Te=="Mac OS"?"Tasman":"Trident")||Ae=="WebKit"&&/\bPlayStation\b(?! Vita\b)/i.test(be)&&"NetFront")&&(Ae=[ne]),be=="IE"&&(ne=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(O)||0)[1])?(be+=" Mobile",Te="Windows Phone "+(/\+$/.test(ne)?ne:ne+".x"),_t.unshift("desktop mode")):/\bWPDesktop\b/i.test(O)?(be="IE Mobile",Te="Windows Phone 8.x",_t.unshift("desktop mode"),ve||(ve=(/\brv:([\d.]+)/.exec(O)||0)[1])):be!="IE"&&Ae=="Trident"&&(ne=/\brv:([\d.]+)/.exec(O))&&(be&&_t.push("identifying as "+be+(ve?" "+ve:"")),be="IE",ve=ne[1]),Et){if(L(W,"global"))if(le&&(ne=le.lang.System,ft=ne.getProperty("os.arch"),Te=Te||ne.getProperty("os.name")+" "+ne.getProperty("os.version")),ue&&L(W,"system")&&(ne=[W.system])[0]){Te||(Te=ne[0].os||null);try{ne[1]=W.require("ringo/engine").version,ve=ne[1].join("."),be="RingoJS"}catch{ne[0].global.system==W.system&&(be="Narwhal")}}else typeof W.process=="object"&&!W.process.browser&&(ne=W.process)?(be="Node.js",ft=ne.arch,Te=ne.platform,ve=/[\d.]+/.exec(ne.version)[0]):Re&&(be="Rhino");else D(ne=W.runtime)==he?(be="Adobe AIR",Te=ne.flash.system.Capabilities.os):D(ne=W.phantom)==j?(be="PhantomJS",ve=(ne=ne.version||null)&&ne.major+"."+ne.minor+"."+ne.patch):typeof ge.documentMode=="number"&&(ne=/\bTrident\/(\d+)/i.exec(O))&&(ve=[ve,ge.documentMode],(ne=+ne[1]+4)!=ve[1]&&(_t.push("IE "+ve[1]+" mode"),Ae&&(Ae[1]=""),ve[1]=ne),ve=be=="IE"?String(ve[1].toFixed(1)):ve[0]);Te=Te&&M(Te)}ve&&(ne=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(ve)||/(?:alpha|beta)(?: ?\d)?/i.exec(O+";"+(Et&&Q.appMinorVersion))||/\bMinefield\b/i.test(O)&&"a")&&(Yt=/b/i.test(ne)?"beta":"alpha",ve=ve.replace(RegExp(ne+"\\+?$"),"")+(Yt=="beta"?rt:ze)+(/\d+\+?/.exec(ne)||"")),be=="Fennec"||be=="Firefox"&&/\b(?:Android|Firefox OS)\b/.test(Te)?be="Firefox Mobile":be=="Maxthon"&&ve?ve=ve.replace(/\.[\d.]+/,".x"):/\bXbox\b/i.test(Y)?(Te=null,Y=="Xbox 360"&&/\bIEMobile\b/.test(O)&&_t.unshift("mobile mode")):(/^(?:Chrome|IE|Opera)$/.test(be)||be&&!Y&&!/Browser|Mobi/.test(be))&&(Te=="Windows CE"||/Mobi/i.test(O))?be+=" Mobile":be=="IE"&&Et&&W.external===null?_t.unshift("platform preview"):(/\bBlackBerry\b/.test(Y)||/\bBB10\b/.test(O))&&(ne=(RegExp(Y.replace(/ +/g," *")+"/([.\\d]+)","i").exec(O)||0)[1]||ve)?(ne=[ne,/BB10/.test(O)],Te=(ne[1]?(Y=null,dt="BlackBerry"):"Device Software")+" "+ne[0],ve=null):this!=R&&Y!="Wii"&&(Et&&De||/Opera/.test(be)&&/\b(?:MSIE|Firefox)\b/i.test(O)||be=="Firefox"&&/\bOS X (?:\d+\.){2,}/.test(Te)||be=="IE"&&(Te&&!/^Win/.test(Te)&&ve>5.5||/\bWindows XP\b/.test(Te)&&ve>8||ve==8&&!/\bTrident\b/.test(O)))&&!p.test(ne=k.call(R,O.replace(p,"")+";"))&&ne.name&&(ne="ing as "+ne.name+((ne=ne.version)?" "+ne:""),p.test(be)?(/\bIE\b/.test(ne)&&Te=="Mac OS"&&(Te=null),ne="identify"+ne):(ne="mask"+ne,it?be=M(it.replace(/([a-z])([A-Z])/g,"$1 $2")):be="Opera",/\bIE\b/.test(ne)&&(Te=null),Et||(ve=null)),Ae=["Presto"],_t.push(ne)),(ne=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(O)||0)[1])&&(ne=[parseFloat(ne.replace(/\.(\d)$/,".0$1")),ne],be=="Safari"&&ne[1].slice(-1)=="+"?(be="WebKit Nightly",Yt="alpha",ve=ne[1].slice(0,-1)):(ve==ne[1]||ve==(ne[2]=(/\bSafari\/([\d.]+\+?)/i.exec(O)||0)[1]))&&(ve=null),ne[1]=(/\bChrome\/([\d.]+)/i.exec(O)||0)[1],ne[0]==537.36&&ne[2]==537.36&&parseFloat(ne[1])>=28&&Ae=="WebKit"&&(Ae=["Blink"]),!Et||!Z&&!ne[1]?(Ae&&(Ae[1]="like Safari"),ne=(ne=ne[0],ne<400?1:ne<500?2:ne<526?3:ne<533?4:ne<534?"4+":ne<535?5:ne<537?6:ne<538?7:ne<601?8:"8")):(Ae&&(Ae[1]="like Chrome"),ne=ne[1]||(ne=ne[0],ne<530?1:ne<532?2:ne<532.05?3:ne<533?4:ne<534.03?5:ne<534.07?6:ne<534.1?7:ne<534.13?8:ne<534.16?9:ne<534.24?10:ne<534.3?11:ne<535.01?12:ne<535.02?"13+":ne<535.07?15:ne<535.11?16:ne<535.19?17:ne<536.05?18:ne<536.1?19:ne<537.01?20:ne<537.11?"21+":ne<537.13?23:ne<537.18?24:ne<537.24?25:ne<537.36?26:Ae!="Blink"?"27":"28")),Ae&&(Ae[1]+=" "+(ne+=typeof ne=="number"?".x":/[.+]/.test(ne)?"":"+")),be=="Safari"&&(!ve||parseInt(ve)>45)&&(ve=ne)),be=="Opera"&&(ne=/\bzbov|zvav$/.exec(Te))?(be+=" ",_t.unshift("desktop mode"),ne=="zvav"?(be+="Mini",ve=null):be+="Mobile",Te=Te.replace(RegExp(" *"+ne+"$"),"")):be=="Safari"&&/\bChrome\b/.exec(Ae&&Ae[1])&&(_t.unshift("desktop mode"),be="Chrome Mobile",ve=null,/\bOS X\b/.test(Te)?(dt="Apple",Te="iOS 4.3+"):Te=null),ve&&ve.indexOf(ne=/[\d.]+$/.exec(Te))==0&&O.indexOf("/"+ne+"-")>-1&&(Te=B(Te.replace(ne,""))),Ae&&!/\b(?:Avant|Nook)\b/.test(be)&&(/Browser|Lunascape|Maxthon/.test(be)||be!="Safari"&&/^iOS/.test(Te)&&/\bSafari\b/.test(Ae[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(be)&&Ae[1])&&(ne=Ae[Ae.length-1])&&_t.push(ne),_t.length&&(_t=["("+_t.join("; ")+")"]),dt&&Y&&Y.indexOf(dt)<0&&_t.push("on "+dt),Y&&_t.push((/^on /.test(_t[_t.length-1])?"":"on ")+Y),Te&&(ne=/ ([\d.+]+)$/.exec(Te),Xe=ne&&Te.charAt(Te.length-ne[0].length-1)=="/",Te={architecture:32,family:ne&&!Xe?Te.replace(ne[0],""):Te,version:ne?ne[1]:null,toString:function(){var st=this.version;return this.family+(st&&!Xe?" "+st:"")+(this.architecture==64?" 64-bit":"")}}),(ne=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(ft))&&!/\bi686\b/i.test(ft)?(Te&&(Te.architecture=64,Te.family=Te.family.replace(RegExp(" *"+ne),"")),be&&(/\bWOW64\b/i.test(O)||Et&&/\w(?:86|32)$/.test(Q.cpuClass||Q.platform)&&!/\bWin64; x64\b/i.test(O))&&_t.unshift("32-bit")):Te&&/^OS X/.test(Te.family)&&be=="Chrome"&&parseFloat(ve)>=39&&(Te.architecture=64),O||(O=null);var _e={};return _e.description=O,_e.layout=Ae&&Ae[0],_e.manufacturer=dt,_e.name=be,_e.prerelease=Yt,_e.product=Y,_e.ua=O,_e.version=be&&ve,_e.os=Te||{architecture:null,family:null,version:null,toString:function(){return"null"}},_e.parse=k,_e.toString=Be,_e.version&&_t.unshift(ve),_e.name&&_t.unshift(be),Te&&be&&!(Te==String(Te).split(" ")[0]&&(Te==be.split(" ")[0]||Y))&&_t.push(Y?"("+Te+")":"on "+Te),_t.length&&(_e.description=_t.join(" ")),_e}var I=k();a&&u?R(I,function(O,W){a[W]=O}):n.platform=I}).call(MV)})(Jg,Jg.exports)),Jg.exports}var TV=EV();const wV=X0(TV),Lt=JSON.parse(JSON.stringify(wV)),l1=Lt.os.family||"",AV=l1==="Android",CV=l1.slice(0,7)==="Windows",RV=l1==="OS X",DV=l1==="iOS",NV=Lt.layout==="Blink",LV=Lt.layout==="Gecko",X_=Lt.layout==="Trident",OV=Lt.layout==="EdgeHTML",IV=Lt.layout==="WebKit",PV=parseFloat(Lt.version),tx=Math.floor(PV);Lt.majorVersion=tx;Lt.is={ANDROID:AV,WINDOWS:CV,OSX:RV,IOS:DV,BLINK:NV,GECKO:LV,TRIDENT:X_,EDGE:OV,WEBKIT:IV,IE9:X_&&tx===9,IE10:X_&&tx===10,IE11:X_&&tx===11};function UV(){const r={activeElement:document.activeElement,windowScrollTop:window.scrollTop,windowScrollLeft:window.scrollLeft,bodyScrollTop:document.body.scrollTop,bodyScrollLeft:document.body.scrollLeft},e=document.createElement("iframe");e.setAttribute("style","position:absolute; position:fixed; top:0; left:-2px; width:1px; height:1px; overflow:hidden;"),e.setAttribute("aria-live","off"),e.setAttribute("aria-busy","true"),e.setAttribute("aria-hidden","true"),document.body.appendChild(e);const t=e.contentWindow,n=t.document;n.open(),n.close();const i=n.createElement("div");return n.body.appendChild(i),r.iframe=e,r.wrapper=i,r.window=t,r.document=n,r}function zV(r,e){r.wrapper.innerHTML="";const t=typeof e.element=="string"?r.document.createElement(e.element):e.element(r.wrapper,r.document);let n=e.mutate&&e.mutate(t,r.wrapper,r.document);return!n&&n!==!1&&(n=t),!t.parentNode&&r.wrapper.appendChild(t),n&&n.focus&&n.focus(),e.validate?e.validate(t,n,r.document):r.document.activeElement===n}function FV(r){r.activeElement===document.body?(document.activeElement&&document.activeElement.blur&&document.activeElement.blur(),Lt.is.IE10&&document.body.focus()):r.activeElement&&r.activeElement.focus&&r.activeElement.focus(),document.body.removeChild(r.iframe),window.scrollTop=r.windowScrollTop,window.scrollLeft=r.windowScrollLeft,document.body.scrollTop=r.bodyScrollTop,document.body.scrollLeft=r.bodyScrollLeft}function BV(r){const e=UV(),t={};return Object.keys(r).map(function(n){t[n]=zV(e,r[n])}),FV(e),t}const nN="1.4.1";function kV(r){let e;try{e=window.localStorage&&window.localStorage.getItem(r),e=e?JSON.parse(e):{}}catch{e={}}return e}function VV(r,e){if(!document.hasFocus()){try{window.localStorage&&window.localStorage.removeItem(r)}catch{}return}try{window.localStorage&&window.localStorage.setItem(r,JSON.stringify(e))}catch{}}const iN=typeof window<"u"&&window.navigator.userAgent||"",rN="ally-supports-cache";let Lu=kV(rN);(Lu.userAgent!==iN||Lu.version!==nN)&&(Lu={});Lu.userAgent=iN;Lu.version=nN;const lM={get:function(){return Lu},set:function(r){Object.keys(r).forEach(function(e){Lu[e]=r[e]}),Lu.time=new Date().toISOString(),VV(rN,Lu)}};function sN(){let r;try{document.querySelector("html >>> :first-child"),r=">>>"}catch{try{document.querySelector("html /deep/ :first-child"),r="/deep/"}catch{r=""}}return r}const of="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",HV={element:"div",mutate:function(r){return r.innerHTML='<map name="image-map-tabindex-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+of+'">',r.querySelector("area")}},GV={element:"div",mutate:function(r){return r.innerHTML='<map name="image-map-tabindex-test"><area href="#void" tabindex="-1" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" alt="" src="'+of+'">',!1},validate:function(r,e,t){if(Lt.is.GECKO)return!0;const n=r.querySelector("area");return n.focus(),t.activeElement===n}},WV={element:"div",mutate:function(r){return r.innerHTML='<map name="image-map-area-href-test"><area shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-area-href-test" alt="" src="'+of+'">',r.querySelector("area")},validate:function(r,e,t){return Lt.is.GECKO?!0:t.activeElement===e}},XV={name:"can-focus-audio-without-controls",element:"audio",mutate:function(r){try{r.setAttribute("src",of)}catch{}}},jV="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZZ",qV={element:"div",mutate:function(r){return r.innerHTML='<map name="broken-image-map-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#broken-image-map-test" alt="" src="'+jV+'">',r.querySelector("area")}},YV={element:"div",mutate:function(r){return r.setAttribute("tabindex","-1"),r.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),r.innerHTML='<span style="display: block;">hello</span>',r.querySelector("span")}},ZV={element:"fieldset",mutate:function(r){r.setAttribute("tabindex",0),r.setAttribute("disabled","disabled")}},KV={element:"fieldset",mutate:function(r){r.innerHTML="<legend>legend</legend><p>content</p>"}},$V={element:"span",mutate:function(r){r.setAttribute("style","display: -webkit-flex; display: -ms-flexbox; display: flex;"),r.innerHTML='<span style="display: block;">hello</span>'}},QV={element:"form",mutate:function(r){r.setAttribute("tabindex",0),r.setAttribute("disabled","disabled")}},JV={element:"a",mutate:function(r){return r.href="#void",r.innerHTML='<img ismap src="'+of+'" alt="">',r.querySelector("img")}},e2={element:"div",mutate:function(r){return r.innerHTML='<map name="image-map-tabindex-test"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#image-map-tabindex-test" tabindex="-1" alt="" src="'+of+'">',r.querySelector("img")}},t2={element:function(r,e){const t=e.createElement("iframe");r.appendChild(t);const n=t.contentWindow.document;return n.open(),n.close(),t},mutate:function(r){r.style.visibility="hidden";const e=r.contentWindow.document,t=e.createElement("input");return e.body.appendChild(t),t},validate:function(r){const e=r.contentWindow.document,t=e.querySelector("input");return e.activeElement===t}},n2=!Lt.is.WEBKIT;function i2(){return n2}const r2={element:"div",mutate:function(r){r.setAttribute("tabindex","invalid-value")}},s2={element:"label",mutate:function(r){r.setAttribute("tabindex","-1")},validate:function(r,e,t){return r.offsetHeight,r.focus(),t.activeElement===r}},aN="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBpZD0ic3ZnIj48dGV4dCB4PSIxMCIgeT0iMjAiIGlkPSJzdmctbGluay10ZXh0Ij50ZXh0PC90ZXh0Pjwvc3ZnPg==",a2={element:"object",mutate:function(r){r.setAttribute("type","image/svg+xml"),r.setAttribute("data",aN),r.setAttribute("width","200"),r.setAttribute("height","50"),r.style.visibility="hidden"}},o2={name:"can-focus-object-svg",element:"object",mutate:function(r){r.setAttribute("type","image/svg+xml"),r.setAttribute("data",aN),r.setAttribute("width","200"),r.setAttribute("height","50")},validate:function(r,e,t){return Lt.is.GECKO?!0:t.activeElement===r}},l2=!Lt.is.IE9;function u2(){return l2}const c2={element:"div",mutate:function(r){return r.innerHTML='<map name="focus-redirect-img-usemap"><area href="#void" shape="rect" coords="63,19,144,45"></map><img usemap="#focus-redirect-img-usemap" alt="" src="'+of+'">',r.querySelector("img")},validate:function(r,e,t){const n=r.querySelector("area");return t.activeElement===n}},f2={element:"fieldset",mutate:function(r){return r.innerHTML='<legend>legend</legend><input tabindex="-1"><input tabindex="0">',!1},validate:function(r,e,t){const n=r.querySelector('input[tabindex="-1"]'),i=r.querySelector('input[tabindex="0"]');return r.focus(),r.querySelector("legend").focus(),t.activeElement===n&&"focusable"||t.activeElement===i&&"tabbable"||""}},h2={element:"div",mutate:function(r){return r.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),r.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>',r.querySelector("div")}},d2={element:"div",mutate:function(r){r.setAttribute("style","width: 100px; height: 50px;"),r.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},p2={element:"div",mutate:function(r){r.setAttribute("style","width: 100px; height: 50px; overflow: auto;"),r.innerHTML='<div style="width: 500px; height: 40px;">scrollable content</div>'}},m2={element:"details",mutate:function(r){return r.innerHTML="<summary>foo</summary><p>content</p>",r.firstElementChild}};function g2(){const r=document.createElement("div");return r.innerHTML=`<svg><foreignObject width="30" height="30">
      <input type="text"/>
  </foreignObject></svg>`,r.firstChild.firstChild}function v2(r){if(!(r.ownerSVGElement||r.nodeName.toLowerCase()==="svg"))return!1;const t=g2();r.appendChild(t);const n=t.querySelector("input");return n.focus(),n.disabled=!0,r.removeChild(t),!0}function nm(r){return'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">'+r+"</svg>"}function y2(r){if(!r.focus)try{HTMLElement.prototype.focus.call(r)}catch{v2(r)}}function im(r,e,t){return y2(e),t.activeElement===e}const _2={element:"div",mutate:function(r){return r.innerHTML=nm('<text focusable="true">a</text>'),r.querySelector("text")},validate:im},x2={element:"div",mutate:function(r){return r.innerHTML=nm('<text tabindex="0">a</text>'),r.querySelector("text")},validate:im},b2={element:"div",mutate:function(r){return r.innerHTML=nm('<text tabindex="-1">a</text>'),r.querySelector("text")},validate:im},S2={element:"div",mutate:function(r){return r.innerHTML=nm(['<g id="ally-test-target"><a xlink:href="#void"><text>link</text></a></g>','<use xlink:href="#ally-test-target" x="0" y="0" tabindex="-1" />'].join("")),r.querySelector("use")},validate:im},M2={element:"div",mutate:function(r){return r.innerHTML=nm('<foreignObject tabindex="-1"><input type="text" /></foreignObject>'),r.querySelector("foreignObject")||r.getElementsByTagName("foreignObject")[0]},validate:im},E2=!!(Lt.is.GECKO&&typeof SVGElement<"u"&&SVGElement.prototype.focus);function T2(){return E2}const w2={element:"div",mutate:function(r){return r.innerHTML=nm(""),r.firstChild},validate:im},A2={element:"div",mutate:function(r){r.setAttribute("tabindex","3x")}},C2={element:"table",mutate:function(r,e,t){const n=t.createDocumentFragment();n.innerHTML="<tr><td>cell</td></tr>",r.appendChild(n)}},R2={element:"video",mutate:function(r){try{r.setAttribute("src",of)}catch{}}},D2=Lt.is.GECKO||Lt.is.TRIDENT||Lt.is.EDGE;function N2(){return D2}const X3={cssShadowPiercingDeepCombinator:sN,focusInZeroDimensionObject:i2,focusObjectSwf:u2,focusSvgInIframe:T2,tabsequenceAreaAtImgPosition:N2},L2={focusAreaImgTabindex:HV,focusAreaTabindex:GV,focusAreaWithoutHref:WV,focusAudioWithoutControls:XV,focusBrokenImageMap:qV,focusChildrenOfFocusableFlexbox:YV,focusFieldsetDisabled:ZV,focusFieldset:KV,focusFlexboxContainer:$V,focusFormDisabled:QV,focusImgIsmap:JV,focusImgUsemapTabindex:e2,focusInHiddenIframe:t2,focusInvalidTabindex:r2,focusLabelTabindex:s2,focusObjectSvg:o2,focusObjectSvgHidden:a2,focusRedirectImgUsemap:c2,focusRedirectLegend:f2,focusScrollBody:h2,focusScrollContainerWithoutOverflow:d2,focusScrollContainer:p2,focusSummary:m2,focusSvgFocusableAttribute:_2,focusSvgTabindexAttribute:x2,focusSvgNegativeTabindexAttribute:b2,focusSvgUseTabindex:S2,focusSvgForeignobjectTabindex:M2,focusSvg:w2,focusTabindexTrailingCharacters:A2,focusTable:C2,focusVideoWithoutControls:R2};function O2(){const r=BV(L2);return Object.keys(X3).forEach(function(e){r[e]=X3[e]()}),r}let vp=null;function Bl(){return vp||(vp=lM.get(),vp.time||(lM.set(O2()),vp=lM.get()),vp)}let Xg;const I2=/^\s*(-|\+)?[0-9]+\s*$/,P2=/^\s*(-|\+)?[0-9]+.*$/;function oN(r){Xg||(Xg=Bl());const e=Xg.focusTabindexTrailingCharacters?P2:I2,t=as({label:"is/valid-tabindex",resolveDocument:!0,context:r}),n=t.hasAttribute("tabindex"),i=t.hasAttribute("tabIndex");if(!n&&!i||(t.ownerSVGElement||t.nodeName.toLowerCase()==="svg")&&!Xg.focusSvgTabindexAttribute)return!1;if(Xg.focusInvalidTabindex)return!0;const u=t.getAttribute(n?"tabindex":"tabIndex");return u==="-32768"?!1:!!(u&&e.test(u))}function Dl(r){if(!oN(r))return null;const t=r.hasAttribute("tabindex")?"tabindex":"tabIndex",n=parseInt(r.getAttribute(t),10);return isNaN(n)?-1:n}function ZM(r){const e=r.webkitUserModify||"";return!!(e&&e.indexOf("write")!==-1)}function TT(r){return[r.getPropertyValue("overflow"),r.getPropertyValue("overflow-x"),r.getPropertyValue("overflow-y")].some(e=>e==="auto"||e==="scroll")}function cb(r){return r.display.indexOf("flex")>-1}function fb(r,e,t,n){return e!=="div"&&e!=="span"||t&&t!=="div"&&t!=="span"&&!TT(n)?!1:r.offsetHeight<r.scrollHeight||r.offsetWidth<r.scrollWidth}let ii;function nx({context:r,except:e={flexbox:!1,scrollable:!1,shadow:!1}}={}){ii||(ii=Bl());const t=as({label:"is/focus-relevant",resolveDocument:!0,context:r});if(!e.shadow&&t.shadowRoot)return!0;const n=t.nodeName.toLowerCase();if(n==="input"&&t.type==="hidden")return!1;if(n==="input"||n==="select"||n==="button"||n==="textarea"||n==="legend"&&ii.focusRedirectLegend||n==="label"||n==="area"||n==="a"&&t.hasAttribute("href"))return!0;if(n==="object"&&t.hasAttribute("usemap"))return!1;if(n==="object"){const y=t.getAttribute("type");if(!ii.focusObjectSvg&&y==="image/svg+xml")return!1;if(!ii.focusObjectSwf&&y==="application/x-shockwave-flash")return!1}if(n==="iframe"||n==="object"||n==="embed"||n==="keygen"||t.hasAttribute("contenteditable")||n==="audio"&&(ii.focusAudioWithoutControls||t.hasAttribute("controls"))||n==="video"&&(ii.focusVideoWithoutControls||t.hasAttribute("controls"))||ii.focusSummary&&n==="summary")return!0;const i=oN(t);if(n==="img"&&t.hasAttribute("usemap"))return i&&ii.focusImgUsemapTabindex||ii.focusRedirectImgUsemap;if(ii.focusTable&&(n==="table"||n==="td")||ii.focusFieldset&&n==="fieldset")return!0;const a=n==="svg",u=t.ownerSVGElement,c=t.getAttribute("focusable"),d=Dl(t);if(n==="use"&&d!==null&&!ii.focusSvgUseTabindex)return!1;if(n==="foreignobject")return d!==null&&ii.focusSvgForeignobjectTabindex;if(tN(t,"svg a")&&t.hasAttribute("xlink:href"))return!0;if((a||u)&&t.focus&&!ii.focusSvgNegativeTabindexAttribute&&d<0)return!1;if(a)return i||ii.focusSvg||ii.focusSvgInIframe||!!(ii.focusSvgFocusableAttribute&&c&&c==="true");if(u){if(ii.focusSvgTabindexAttribute&&i)return!0;if(ii.focusSvgFocusableAttribute)return c==="true"}if(i)return!0;const p=window.getComputedStyle(t,null);if(ZM(p)||ii.focusImgIsmap&&n==="img"&&t.hasAttribute("ismap")&&o1({context:t}).some(_=>_.nodeName.toLowerCase()==="a"&&_.hasAttribute("href")))return!0;if(!e.scrollable&&ii.focusScrollContainer){if(ii.focusScrollContainerWithoutOverflow){if(fb(t,n))return!0}else if(TT(p))return!0}if(!e.flexbox&&ii.focusFlexboxContainer&&cb(p))return!0;const g=t.parentElement;if(!e.scrollable&&g){const y=g.nodeName.toLowerCase(),_=window.getComputedStyle(g,null);if(ii.focusScrollBody&&fb(g,n,y,_)||ii.focusChildrenOfFocusableFlexbox&&cb(_))return!0}return!1}nx.except=function(r={}){const e=function(t){return nx({context:t,except:r})};return e.rules=nx,e};const u1=nx.except({});function KM(r,e){if(r.findIndex)return r.findIndex(e);const t=r.length;if(t===0)return-1;for(let n=0;n<t;n++)if(e(r[n],n,r))return n;return-1}function U2(r){try{return r.contentDocument||r.contentWindow&&r.contentWindow.document||r.getSVGDocument&&r.getSVGDocument()||null}catch{return null}}function rm(r){return r?r.nodeType===Node.DOCUMENT_NODE?r:r.ownerDocument||document:document}function z2(r){return rm(r).defaultView||window}let jg;function lN(r){if(typeof jg!="string"){const e=sN();e&&(jg=", html "+e+" ")}return jg?r+jg+r.replace(/\s*,\s*/g,",").split(",").join(jg):r}let uM;function F2(r){if(uM||(uM=lN("object, iframe")),r._frameElement!==void 0)return r._frameElement;r._frameElement=null;const e=r.parent.document.querySelectorAll(uM);return[].some.call(e,function(t){return U2(t)!==r.document?!1:(r._frameElement=t,!0)}),r._frameElement}function c1(r){const e=z2(r);if(!e.parent||e.parent===e)return null;try{return e.frameElement||F2(e)}catch{return null}}const B2=/^(area)$/;function $M(r,e){return window.getComputedStyle(r,null).getPropertyValue(e)}function k2(r){return r.some(function(e){return $M(e,"display")==="none"})}function V2(r){const e=KM(r,function(n){const i=$M(n,"visibility");return i==="hidden"||i==="collapse"});if(e===-1)return!1;const t=KM(r,function(n){return $M(n,"visibility")==="visible"});return t===-1||e<t}function H2(r){let e=1;return r[0].nodeName.toLowerCase()==="summary"&&(e=2),r.slice(e).some(function(t){return t.nodeName.toLowerCase()==="details"&&t.open===!1})}function h0({context:r,except:e={notRendered:!1,cssDisplay:!1,cssVisibility:!1,detailsElement:!1,browsingContext:!1}}={}){const t=as({label:"is/visible",resolveDocument:!0,context:r}),n=t.nodeName.toLowerCase();if(!e.notRendered&&B2.test(n))return!0;const i=o1({context:t}),a=n==="audio"&&!t.hasAttribute("controls");if(!e.cssDisplay&&k2(a?i.slice(1):i)||!e.cssVisibility&&V2(i)||!e.detailsElement&&H2(i))return!1;if(!e.browsingContext){const u=c1(t),c=h0.except(e);if(u&&!c(u))return!1}return!0}h0.except=function(r={}){const e=function(t){return h0({context:t,except:r})};return e.rules=h0,e};const f1=h0.except({});var ix={exports:{}};/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */var G2=ix.exports,j3;function W2(){return j3||(j3=1,(function(r,e){(function(t,n){r.exports=n(t)})(typeof cx<"u"?cx:G2,function(t){if(t.CSS&&t.CSS.escape)return t.CSS.escape;var n=function(i){if(arguments.length==0)throw new TypeError("`CSS.escape` requires an argument.");for(var a=String(i),u=a.length,c=-1,d,p="",g=a.charCodeAt(0);++c<u;){if(d=a.charCodeAt(c),d==0){p+="";continue}if(d>=1&&d<=31||d==127||c==0&&d>=48&&d<=57||c==1&&d>=48&&d<=57&&g==45){p+="\\"+d.toString(16)+" ";continue}if(c==0&&u==1&&d==45){p+="\\"+a.charAt(c);continue}if(d>=128||d==45||d==95||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122){p+=a.charAt(c);continue}p+="\\"+a.charAt(c)}return p};return t.CSS||(t.CSS={}),t.CSS.escape=n,n})})(ix)),ix.exports}var X2=W2();const uN=X0(X2);function j2(r,e){return e.querySelector('map[name="'+uN(r)+'"]')||null}function cN(r){const e=r.parentElement;return!e.name||e.nodeName.toLowerCase()!=="map"?null:rm(r).querySelector('img[usemap="#'+uN(e.name)+'"]')||null}let lh;function q2(r){lh||(lh=Bl());const e=as({label:"is/valid-area",context:r});if(e.nodeName.toLowerCase()!=="area")return!1;const n=e.hasAttribute("tabindex");if(!lh.focusAreaTabindex&&n)return!1;const i=cN(e);return!i||!f1(i)||!lh.focusBrokenImageMap&&(!i.complete||!i.naturalHeight||i.offsetWidth<=0||i.offsetHeight<=0)?!1:!lh.focusAreaWithoutHref&&!e.href?lh.focusAreaTabindex&&n||lh.focusAreaImgTabindex&&i.hasAttribute("tabindex"):!o1({context:i}).slice(1).some(function(u){const c=u.nodeName.toLowerCase();return c==="button"||c==="a"})}let j_,q3;const cM={input:!0,select:!0,textarea:!0,button:!0,fieldset:!0,form:!0};function fN(r){j_||(j_=Bl(),j_.focusFieldsetDisabled&&delete cM.fieldset,j_.focusFormDisabled&&delete cM.form,q3=new RegExp("^("+Object.keys(cM).join("|")+")$"));const t=as({label:"is/native-disabled-supported",context:r}).nodeName.toLowerCase();return!!q3.test(t)}let fM;function Y2(r){return r.nodeName.toLowerCase()==="fieldset"&&r.disabled}function Z2(r){return r.nodeName.toLowerCase()==="form"&&r.disabled}function K2(r){fM||(fM=Bl());const e=as({label:"is/disabled",context:r});if(e.hasAttribute("data-ally-disabled"))return!0;if(!fN(e))return!1;if(e.disabled)return!0;const t=o1({context:e});return!!(t.some(Y2)||!fM.focusFormDisabled&&t.some(Z2))}function rx({context:r,except:e={onlyFocusableBrowsingContext:!1,visible:!1}}={}){const t=as({label:"is/only-tabbable",resolveDocument:!0,context:r});if(!e.visible&&!f1(t))return!1;if(!e.onlyFocusableBrowsingContext&&(Lt.is.GECKO||Lt.is.TRIDENT||Lt.is.EDGE)){const a=c1(t);if(a&&Dl(a)<0)return!1}const n=t.nodeName.toLowerCase(),i=Dl(t);return n==="label"&&Lt.is.GECKO?i!==null&&i>=0:!!(Lt.is.GECKO&&t.ownerSVGElement&&!t.focus&&n==="a"&&t.hasAttribute("xlink:href")&&Lt.is.GECKO)}rx.except=function(r={}){const e=function(t){return rx({context:t,except:r})};return e.rules=rx,e};const $2=rx.except({});let Cu;function Q2(r){const e=r.nodeName.toLowerCase();if(e==="embed"||e==="keygen")return!0;const t=Dl(r);if(r.shadowRoot&&t===null)return!0;if(e==="label")return!Cu.focusLabelTabindex||t===null;if(e==="legend")return t===null;if(Cu.focusSvgFocusableAttribute&&(r.ownerSVGElement||e==="svg")){const n=r.getAttribute("focusable");return n&&n==="false"}return e==="img"&&r.hasAttribute("usemap")?t===null||!Cu.focusImgUsemapTabindex:e==="area"?!q2(r):!1}function sx({context:r,except:e={disabled:!1,visible:!1,onlyTabbable:!1}}={}){Cu||(Cu=Bl());const t=$2.rules.except({onlyFocusableBrowsingContext:!0,visible:e.visible}),n=as({label:"is/focusable",resolveDocument:!0,context:r});if(!u1.rules({context:n,except:e})||Q2(n)||!e.disabled&&K2(n)||!e.onlyTabbable&&t(n))return!1;if(!e.visible){const c={context:n,except:{}};if(Cu.focusInHiddenIframe&&(c.except.browsingContext=!0),Cu.focusObjectSvgHidden&&n.nodeName.toLowerCase()==="object"&&(c.except.cssVisibility=!0),!f1.rules(c))return!1}const a=c1(n);return!(a&&a.nodeName.toLowerCase()==="object"&&!Cu.focusInZeroDimensionObject&&(!a.offsetWidth||!a.offsetHeight)||n.nodeName.toLowerCase()==="svg"&&Cu.focusSvgInIframe&&!a&&n.getAttribute("tabindex")===null)}sx.except=function(r={}){const e=function(t){return sx({context:t,except:r})};return e.rules=sx,e};const hN=sx.except({});function dN(r){const e=function(t){return t.shadowRoot||r(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};return e.acceptNode=e,e}const J2=dN(u1);function pN({context:r,includeContext:e,includeOnlyTabbable:t,strategy:n}={}){r||(r=document.documentElement);const i=hN.rules.except({onlyTabbable:t}),u=rm(r).createTreeWalker(r,NodeFilter.SHOW_ELEMENT,n==="all"?J2:dN(i),!1);let c=[];for(;u.nextNode();)u.currentNode.shadowRoot?(i(u.currentNode)&&c.push(u.currentNode),c=c.concat(pN({context:u.currentNode.shadowRoot,includeOnlyTabbable:t,strategy:n}))):c.push(u.currentNode);return e&&(n==="all"?u1(r)&&c.unshift(r):i(r)&&c.unshift(r)),c}let uh,yp;function eH(){return uh||(uh=Bl()),typeof yp=="string"||(yp=(uh.focusTable?"table, td,":"")+(uh.focusFieldset?"fieldset,":"")+"svg a,a[href],area[href],input, select, textarea, button,iframe, object, embed,keygen,"+(uh.focusAudioWithoutControls?"audio,":"audio[controls],")+(uh.focusVideoWithoutControls?"video,":"video[controls],")+(uh.focusSummary?"summary,":"")+"[tabindex],[contenteditable]",yp=lN(yp)),yp}function tH({context:r,includeContext:e,includeOnlyTabbable:t}={}){const n=eH(),i=r.querySelectorAll(n),a=hN.rules.except({onlyTabbable:t}),u=[].filter.call(i,a);return e&&a(r)&&u.unshift(r),u}function QM({context:r,includeContext:e,includeOnlyTabbable:t,strategy:n="quick"}={}){const a={context:as({label:"query/focusable",resolveDocument:!0,defaultToDocument:!0,context:r}),includeContext:e,includeOnlyTabbable:t,strategy:n};if(n==="quick")return tH(a);if(n==="strict"||n==="all")return pN(a);throw new TypeError('query/focusable requires option.strategy to be one of ["quick", "strict", "all"]')}function mN({element:r,attribute:e}){const t="data-cached-"+e;if(r.getAttribute(t)===null){const i=r.getAttribute(e);if(i===null)return;r.setAttribute(t,i||""),r.removeAttribute(e)}else{const i=r.getAttribute(t);r.removeAttribute(t),r.setAttribute(e,i)}}function hb({element:r,attribute:e,temporaryValue:t,saveValue:n}){const i="data-cached-"+e;if(t!==void 0){const a=n||r.getAttribute(e);r.setAttribute(i,a||""),r.setAttribute(e,t)}else{const a=r.getAttribute(i);r.removeAttribute(i),a===""?r.removeAttribute(e):r.setAttribute(e,a)}}const qg=function(){},nH={log:qg,debug:qg,info:qg,warn:qg,error:qg},iH=typeof console<"u"?console:nH;let db;function rH(){iH.warn("trying to focus inert element",this)}function sH(r,e){if(e){const t=Dl(r);hb({element:r,attribute:"tabindex",temporaryValue:"-1",saveValue:t!==null?t:""})}else hb({element:r,attribute:"tabindex"})}function aH(r,e){mN({element:r,attribute:"controls"})}function oH(r,e){hb({element:r,attribute:"focusable",temporaryValue:e?"false":void 0})}function lH(r,e){mN({element:r,attribute:"xlink:href"})}function uH(r,e){hb({element:r,attribute:"aria-disabled",temporaryValue:e?"true":void 0})}function cH(r,e){e?r.focus=rH:delete r.focus}function fH(r,e){if(e){const t=r.style.pointerEvents||"";r.setAttribute("data-inert-pointer-events",t),r.style.pointerEvents="none"}else{const t=r.getAttribute("data-inert-pointer-events");r.removeAttribute("data-inert-pointer-events"),r.style.pointerEvents=t}}function hH(r,e){uH(r,e),sH(r,e),cH(r,e),fH(r,e);const t=r.nodeName.toLowerCase();(t==="video"||t==="audio")&&aH(r),(t==="svg"||r.ownerSVGElement)&&(db.focusSvgFocusableAttribute?oH(r,e):!db.focusSvgTabindexAttribute&&t==="a"&&lH(r)),e?r.setAttribute("data-ally-disabled","true"):r.removeAttribute("data-ally-disabled")}function wT(r,e){db||(db=Bl());const t=as({label:"element/disabled",context:r});e=!!e;const n=t.hasAttribute("data-ally-disabled"),i=arguments.length===1;return fN(t)?i?t.disabled:(t.disabled=e,t):i?n:(n===e||hH(t,e),t)}const JM=function(r){return r.shadowRoot?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP};JM.acceptNode=JM;function eE({context:r}={}){const e=as({label:"query/shadow-hosts",resolveDocument:!0,defaultToDocument:!0,context:r}),n=rm(r).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,JM,!1);let i=[];for(e.shadowRoot&&(i.push(e),i=i.concat(eE({context:e.shadowRoot})));n.nextNode();)i.push(n.currentNode),i=i.concat(eE({context:n.currentNode.shadowRoot}));return i}const dH={childList:!0,subtree:!0};class pH{constructor({context:e,callback:t,config:n}={}){this.config=n,this.disengage=this.disengage.bind(this),this.clientObserver=new MutationObserver(t),this.hostObserver=new MutationObserver(i=>i.forEach(this.handleHostMutation,this)),this.observeContext(e),this.observeShadowHosts(e)}disengage(){this.clientObserver&&this.clientObserver.disconnect(),this.clientObserver=null,this.hostObserver&&this.hostObserver.disconnect(),this.hostObserver=null}observeShadowHosts(e){eE({context:e}).forEach(n=>this.observeContext(n.shadowRoot))}observeContext(e){this.clientObserver.observe(e,this.config),this.hostObserver.observe(e,dH)}handleHostMutation(e){if(e.type!=="childList")return;Rl(e.addedNodes).filter(n=>n.nodeType===Node.ELEMENT_NODE).forEach(this.observeShadowHosts,this)}}function mH({context:r,callback:e,config:t}={}){if(typeof e!="function")throw new TypeError("observe/shadow-mutations requires options.callback to be a function");if(typeof t!="object")throw new TypeError("observe/shadow-mutations requires options.config to be an object");if(!window.MutationObserver)return{disengage:function(){}};const n=as({label:"observe/shadow-mutations",resolveDocument:!0,defaultToDocument:!0,context:r});return{disengage:new pH({context:n,callback:e,config:t}).disengage}}function tE({parent:r,element:e,includeSelf:t}={}){if(r)return function(i){return!!(t&&i===r||r.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)};if(e)return function(i){return!!(t&&e===i||i.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)};throw new TypeError("util/compare-position#getParentComparator required either options.parent or options.element")}function gH(r){return wT(r,!0)}function Y3(r){return wT(r,!1)}const vH={attributes:!0,childList:!0,subtree:!0,attributeFilter:["tabindex","disabled","data-ally-disabled"]};class yH{constructor({context:e,filter:t}={}){this._context=Rl(e||document.documentElement)[0],this._filter=Rl(t),this._inertElementCache=[],this.disengage=this.disengage.bind(this),this.handleMutation=this.handleMutation.bind(this),this.renderInert=this.renderInert.bind(this),this.filterElements=this.filterElements.bind(this),this.filterParentElements=this.filterParentElements.bind(this);const n=QM({context:this._context,includeContext:!0,strategy:"all"});this.renderInert(n),this.shadowObserver=mH({context:this._context,config:vH,callback:i=>i.forEach(this.handleMutation)})}disengage(){this._context&&(Y3(this._context),this._inertElementCache.forEach(e=>Y3(e)),this._inertElementCache=null,this._filter=null,this._context=null,this.shadowObserver&&this.shadowObserver.disengage(),this.shadowObserver=null)}listQueryFocusable(e){return e.map(t=>QM({context:t,includeContext:!0,strategy:"all"})).reduce((t,n)=>t.concat(n),[])}renderInert(e){const t=n=>{this._inertElementCache.push(n),gH(n)};e.filter(this.filterElements).filter(this.filterParentElements).filter(n=>!wT(n)).forEach(t)}filterElements(e){const t=tE({element:e,includeSelf:!0});return!this._filter.some(t)}filterParentElements(e){const t=tE({parent:e});return!this._filter.some(t)}handleMutation(e){if(e.type==="childList"){const t=Rl(e.addedNodes).filter(i=>i.nodeType===Node.ELEMENT_NODE);if(!t.length)return;const n=this.listQueryFocusable(t);this.renderInert(n)}else e.type==="attributes"&&this.renderInert([e.target])}}function _H({context:r,filter:e}={}){return{disengage:new yH({context:r,filter:e}).disengage}}function nE({context:r}={}){let e=as({label:"get/shadow-host",context:r}),t=null;for(;e;)t=e,e=e.parentNode;return t.nodeType===t.DOCUMENT_FRAGMENT_NODE&&t.host?t.host:null}function Z3(r){const e=as({label:"is/active-element",resolveDocument:!0,context:r});if(rm(e).activeElement===e)return!0;const n=nE({context:e});return!!(n&&n.shadowRoot.activeElement===e)}let _p;const xH=/^(fieldset|table|td|body)$/;function d0({context:r,except:e={flexbox:!1,scrollable:!1,shadow:!1,visible:!1,onlyTabbable:!1}}={}){_p||(_p=Bl());const t=as({label:"is/tabbable",resolveDocument:!0,context:r});if(Lt.is.BLINK&&Lt.is.ANDROID&&Lt.majorVersion>42)return!1;const n=c1(t);if(n){if(Lt.is.WEBKIT&&Lt.is.IOS||Dl(n)<0||!e.visible&&(Lt.is.BLINK||Lt.is.WEBKIT)&&!f1(n))return!1;if(n.nodeName.toLowerCase()==="object"){const g=Lt.name==="Chrome"&&Lt.majorVersion>=54||Lt.name==="Opera"&&Lt.majorVersion>=41;if(Lt.is.WEBKIT||Lt.is.BLINK&&!g)return!1}}const i=t.nodeName.toLowerCase(),a=Dl(t),u=a===null?null:a>=0;if(Lt.is.EDGE&&Lt.majorVersion>=14&&n&&t.ownerSVGElement&&a<0)return!0;const c=u!==!1,d=a!==null&&a>=0;if(t.hasAttribute("contenteditable"))return c;if(xH.test(i)&&u!==!0)return!1;if(Lt.is.WEBKIT&&Lt.is.IOS){let p=i==="input"&&t.type==="text"||t.type==="password"||i==="select"||i==="textarea"||t.hasAttribute("contenteditable");if(!p){const g=window.getComputedStyle(t,null);p=ZM(g)}if(!p)return!1}if(i==="use"&&a!==null&&(Lt.is.BLINK||Lt.is.WEBKIT&&Lt.majorVersion===9)||tN(t,"svg a")&&t.hasAttribute("xlink:href")&&(c||t.focus&&!_p.focusSvgNegativeTabindexAttribute)||i==="svg"&&_p.focusSvgInIframe&&c)return!0;if(Lt.is.TRIDENT||Lt.is.EDGE){if(i==="svg")return _p.focusSvg?!0:t.hasAttribute("focusable")||d;if(t.ownerSVGElement)return _p.focusSvgTabindexAttribute&&d?!0:t.hasAttribute("focusable")}if(t.tabIndex===void 0)return!!e.onlyTabbable;if(i==="audio")if(t.hasAttribute("controls")){if(Lt.is.BLINK)return!0}else return!1;if(i==="video"){if(t.hasAttribute("controls")){if(Lt.is.BLINK||Lt.is.GECKO)return!0}else if(Lt.is.TRIDENT||Lt.is.EDGE)return!1}if(i==="object"&&(Lt.is.BLINK||Lt.is.WEBKIT)||i==="iframe")return!1;if(!e.scrollable&&Lt.is.GECKO){const p=window.getComputedStyle(t,null);if(TT(p))return c}if(Lt.is.TRIDENT||Lt.is.EDGE){if(i==="area"){const y=cN(t);if(y&&Dl(y)<0)return!1}const p=window.getComputedStyle(t,null);if(ZM(p))return t.tabIndex>=0;if(!e.flexbox&&cb(p))return a!==null?d:bH(t)&&SH(t);if(fb(t,i))return!1;const g=t.parentElement;if(g){const y=g.nodeName.toLowerCase(),_=window.getComputedStyle(g,null);if(fb(g,i,y,_))return!1;if(cb(_))return d}}return t.tabIndex>=0}d0.except=function(r={}){const e=function(t){return d0({context:t,except:r})};return e.rules=d0,e};const bH=u1.rules.except({flexbox:!0}),SH=d0.except({flexbox:!0}),MH=d0.except({});function gN({context:r,includeContext:e,includeOnlyTabbable:t,strategy:n}={}){const i=MH.rules.except({onlyTabbable:t});return QM({context:r,includeContext:e,includeOnlyTabbable:t,strategy:n}).filter(i)}function EH(r,e){return r.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}function TH(r){return r.sort(EH)}function wH(r,e){return KM(r,function(t){return e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING})}function AH(r,e,t){const n=[];return e.forEach(function(i){let a=!0,u=r.indexOf(i);u===-1&&(u=wH(r,i),a=!1),u===-1&&(u=r.length);const c=Rl(t?t(i):i);c.length&&n.push({offset:u,replace:a,elements:c})}),n}function CH(r,e){let t=0;e.sort((n,i)=>n.offset-i.offset),e.forEach(function(n){const i=n.replace?1:0,a=[n.offset+t,i].concat(n.elements);r.splice.apply(r,a),t+=n.elements.length-i})}function ax({list:r,elements:e,resolveElement:t}={}){const n=r.slice(0),i=Rl(e).slice(0);TH(i);const a=AH(n,i,t);return CH(n,a),n}class RH{constructor(e){this._document=rm(e),this.maps={}}getAreasFor(e){return this.maps[e]||this.addMapByName(e),this.maps[e]}addMapByName(e){const t=j2(e,this._document);t&&(this.maps[t.name]=gN({context:t}))}extractAreasFromList(e){return e.filter(function(t){if(t.nodeName.toLowerCase()!=="area")return!0;const i=t.parentNode;return this.maps[i.name]||(this.maps[i.name]=[]),this.maps[i.name].push(t),!1},this)}}function DH(r,e){const t=e.querySelectorAll("img[usemap]"),n=new RH(e),i=n.extractAreasFromList(r);return t.length?ax({list:i,elements:t,resolveElement:function(a){const u=a.getAttribute("usemap").slice(1);return n.getAreasFor(u)}}):i}class NH{constructor(e,t){this.context=e,this.sortElements=t,this.hostCounter=1,this.inHost={},this.inDocument=[],this.hosts={},this.elements={}}_registerHost(e){if(e._sortingId)return;e._sortingId="shadow-"+this.hostCounter++,this.hosts[e._sortingId]=e;const t=nE({context:e});t?(this._registerHost(t),this._registerHostParent(e,t)):this.inDocument.push(e)}_registerHostParent(e,t){this.inHost[t._sortingId]||(this.inHost[t._sortingId]=[]),this.inHost[t._sortingId].push(e)}_registerElement(e,t){this.elements[t._sortingId]||(this.elements[t._sortingId]=[]),this.elements[t._sortingId].push(e)}extractElements(e){return e.filter(function(t){const n=nE({context:t});return n?(this._registerHost(n),this._registerElement(t,n),!1):!0},this)}sort(e){let t=this._injectHosts(e);return t=this._replaceHosts(t),this._cleanup(),t}_injectHosts(e){return Object.keys(this.hosts).forEach(function(t){const n=this.elements[t],i=this.inHost[t],a=this.hosts[t].shadowRoot;this.elements[t]=this._merge(n,i,a)},this),this._merge(e,this.inDocument,this.context)}_merge(e,t,n){const i=ax({list:e,elements:t});return this.sortElements(i,n)}_replaceHosts(e){return ax({list:e,elements:this.inDocument,resolveElement:this._resolveHostElement.bind(this)})}_resolveHostElement(e){const t=ax({list:this.elements[e._sortingId],elements:this.inHost[e._sortingId],resolveElement:this._resolveHostElement.bind(this)}),n=Dl(e);return n!==null&&n>-1?[e].concat(t):t}_cleanup(){Object.keys(this.hosts).forEach(function(e){delete this.hosts[e]._sortingId},this)}}function LH(r,e,t){const n=new NH(e,t),i=n.extractElements(r);return i.length===r.length?t(r):n.sort(i)}function OH(r){const e={},t=[],n=r.filter(function(a){let u=a.tabIndex;return u===void 0&&(u=Dl(a)),u<=0||u===null||u===void 0?!0:(e[u]||(e[u]=[],t.push(u)),e[u].push(a),!1)});return t.sort().map(function(a){return e[a]}).reduceRight(function(a,u){return u.concat(a)},n)}let iE;function IH(r,e){const t=r.indexOf(e);return t>0?r.splice(t,1).concat(r):r}function K3(r,e){return iE.tabsequenceAreaAtImgPosition&&(r=DH(r,e)),r=OH(r),r}function $3({context:r,includeContext:e,includeOnlyTabbable:t,strategy:n}={}){iE||(iE=Bl());const i=Rl(r)[0]||document.documentElement;let a=gN({context:i,includeContext:e,includeOnlyTabbable:t,strategy:n});return document.body.createShadowRoot&&Lt.is.BLINK?a=LH(a,i,K3):a=K3(a,i),e&&(a=IH(a,i)),a}const wh={tab:9,left:37,up:38,right:39,down:40,pageUp:33,"page-up":33,pageDown:34,"page-down":34,end:35,home:36,enter:13,escape:27,space:32,shift:16,capsLock:20,"caps-lock":20,ctrl:17,alt:18,meta:91,pause:19,insert:45,delete:46,backspace:8,_alias:{91:[92,93,224]}};for(let r=1;r<26;r++)wh["f"+r]=r+111;for(let r=0;r<10;r++){const e=r+48,t=r+96;wh[r]=e,wh["num-"+r]=t,wh._alias[e]=[t]}for(let r=0;r<26;r++){const e=r+65,t=String.fromCharCode(e).toLowerCase();wh[t]=e}const rE={alt:"altKey",ctrl:"ctrlKey",meta:"metaKey",shift:"shiftKey"},PH=Object.keys(rE).map(r=>rE[r]);function UH(r){const e=r?null:!1;return{altKey:e,ctrlKey:e,metaKey:e,shiftKey:e}}function zH(r){const e=r.indexOf("*")!==-1,t=UH(e);return r.forEach(function(n){if(n==="*")return;let i=!0;const a=n.slice(0,1);a==="?"?i=null:a==="!"&&(i=!1),i!==!0&&(n=n.slice(1));const u=rE[n];if(!u)throw new TypeError('Unknown modifier "'+n+'"');t[u]=i}),t}function FH(r){const e=wh[r]||parseInt(r,10);if(!e||typeof e!="number"||isNaN(e))throw new TypeError('Unknown key "'+r+'"');return[e].concat(wh._alias[e]||[])}function BH(r,e){return!PH.some(function(t){return typeof r[t]=="boolean"&&!!e[t]!==r[t]})}function kH(r){return r.split(/\s+/).map(function(e){const t=e.split("+"),n=zH(t.slice(0,-1));return{keyCodes:FH(t.slice(-1)),modifiers:n,matchModifiers:BH.bind(null,n)}})}function vN(r={}){const e={},t=Rl(r.context)[0]||document.documentElement;delete r.context;const n=Rl(r.filter);delete r.filter;const i=Object.keys(r);if(!i.length)throw new TypeError("when/key requires at least one option key");const a=function(d){d.keyCodes.forEach(function(p){e[p]||(e[p]=[]),e[p].push(d)})};i.forEach(function(d){if(typeof r[d]!="function")throw new TypeError('when/key requires option["'+d+'"] to be a function');const p=function(g){return g.callback=r[d],g};kH(d).map(p).forEach(a)});const u=function(d){if(d.defaultPrevented)return;if(n.length){const g=tE({element:d.target,includeSelf:!0});if(n.some(g))return}const p=d.keyCode||d.which;e[p]&&e[p].forEach(function(g){g.matchModifiers(d)&&g.callback.call(t,d,c)})};t.addEventListener("keydown",u,!1);const c=function(){t.removeEventListener("keydown",u,!1)};return{disengage:c}}function VH({context:r}={}){return r||(r=document.documentElement),$3(),vN({"?alt+?shift+tab":function(e){e.preventDefault();const t=$3({context:r}),n=e.shiftKey,i=t[0],a=t[t.length-1],u=n?i:a,c=n?a:i;if(Z3(u)){c.focus();return}let d;if(!t.some(function(y,_){return Z3(y)?(d=_,!0):!1})){i.focus();return}t[d+(n?-1:1)].focus()}})}class HH extends K.Component{componentDidMount(){this.props.animateInCall(),this.disableFocus=_H({context:".main",filter:".modal"}),this.handleFocus=VH({context:".modal"});const e=()=>{this.props.closeModal()};this.handleEscapeKey=vN({escape:function(t,n){e(),n()}})}componentWillUnmount(){this.handleFocus.disengage(),this.disableFocus.disengage();let e=this.props.modalData.workItem.id;document.querySelector(`.buttonId-${e}`).focus()}render(){const{workItem:e,imageSrc:t,workItemTags:n,datePublished:i}=this.props;return $.jsx("div",{ref:"modalBackground",className:"modal-background",children:$.jsxs("section",{role:"dialog","aria-modal":"true",className:"modal",children:[this.props.buttonIcon,$.jsxs("dl",{children:[$.jsx("dt",{children:e.title}),$.jsx("dd",{children:e.description.replace(/<\/?p[^>]*>/g,"")}),$.jsx("dd",{className:"date-published",children:i})]}),$.jsx("img",{src:t,alt:e.title}),$.jsx("div",{className:"tags",children:n}),this.props.button]})})}}const p0={events:{},addListener:function(r,e){this.events[r]=this.events[r]||[],this.events[r].push(e)},removeListener:function(r,e){if(this.events[r]){for(var t=0;t<this.events[r].length;t++)if(this.events[r][t]===e){this.events[r].splice(t,1);break}}},fire:function(r,e){this.events[r]&&this.events[r].forEach(function(t){t(e)})}};class GH extends K.Component{render(){return $.jsx("button",{autoFocus:this.props.focus,onClick:this.props.onClick,className:"button",children:this.props.label})}}class WH extends K.Component{render(){return $.jsx("button",{autoFocus:this.props.focus,onClick:this.props.onClick,className:"button-icon",children:this.props.icon})}}function wu(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function yN(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.__proto__=e}/*!
 * GSAP 3.14.2
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ma={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Hp={duration:.5,overwrite:!1,delay:0},AT,Br,yi,to=1e8,$n=1/to,sE=Math.PI*2,XH=sE/4,jH=0,_N=Math.sqrt,qH=Math.cos,YH=Math.sin,Er=function(e){return typeof e=="string"},Fi=function(e){return typeof e=="function"},Bu=function(e){return typeof e=="number"},CT=function(e){return typeof e>"u"},Pl=function(e){return typeof e=="object"},ea=function(e){return e!==!1},RT=function(){return typeof window<"u"},q_=function(e){return Fi(e)||Er(e)},xN=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},rs=Array.isArray,ZH=/random\([^)]+\)/g,KH=/,\s*/g,Q3=/(?:-?\.?\d|\.)+/gi,bN=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ep=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,hM=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,SN=/[+-]=-?[.\d]+/,$H=/[^,'"\[\]\s]+/gi,QH=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Ai,Sl,aE,DT,wa={},pb={},MN,EN=function(e){return(pb=Gp(e,wa))&&ra},NT=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},F0=function(e,t){return!t&&console.warn(e)},TN=function(e,t){return e&&(wa[e]=t)&&pb&&(pb[e]=t)||wa},B0=function(){return 0},JH={suppressEvents:!0,isStart:!0,kill:!1},ox={suppressEvents:!0,kill:!1},e7={suppressEvents:!0},LT={},Xc=[],oE={},wN,ma={},dM={},J3=30,lx=[],OT="",IT=function(e){var t=e[0],n,i;if(Pl(t)||Fi(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(i=lx.length;i--&&!lx[i].targetTest(t););n=lx[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new KN(e[i],n)))||e.splice(i,1);return e},Ah=function(e){return e._gsap||IT(no(e))[0]._gsap},AN=function(e,t,n){return(n=e[t])&&Fi(n)?e[t]():CT(n)&&e.getAttribute&&e.getAttribute(t)||n},ta=function(e,t){return(e=e.split(",")).forEach(t)||e},Zi=function(e){return Math.round(e*1e5)/1e5||0},wi=function(e){return Math.round(e*1e7)/1e7||0},Cp=function(e,t){var n=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+i:n==="-"?e-i:n==="*"?e*i:e/i},t7=function(e,t){for(var n=t.length,i=0;e.indexOf(t[i])<0&&++i<n;);return i<n},mb=function(){var e=Xc.length,t=Xc.slice(0),n,i;for(oE={},Xc.length=0,n=0;n<e;n++)i=t[n],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},PT=function(e){return!!(e._initted||e._startAt||e.add)},CN=function(e,t,n,i){Xc.length&&!Br&&mb(),e.render(t,n,!!(Br&&t<0&&PT(e))),Xc.length&&!Br&&mb()},RN=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match($H).length<2?t:Er(e)?e.trim():e},DN=function(e){return e},Aa=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},n7=function(e){return function(t,n){for(var i in n)i in t||i==="duration"&&e||i==="ease"||(t[i]=n[i])}},Gp=function(e,t){for(var n in t)e[n]=t[n];return e},eC=function r(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=Pl(t[n])?r(e[n]||(e[n]={}),t[n]):t[n]);return e},gb=function(e,t){var n={},i;for(i in e)i in t||(n[i]=e[i]);return n},m0=function(e){var t=e.parent||Ai,n=e.keyframes?n7(rs(e.keyframes)):Aa;if(ea(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},i7=function(e,t){for(var n=e.length,i=n===t.length;i&&n--&&e[n]===t[n];);return n<0},NN=function(e,t,n,i,a){var u=e[i],c;if(a)for(c=t[a];u&&u[a]>c;)u=u._prev;return u?(t._next=u._next,u._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[i]=t,t._prev=u,t.parent=t._dp=e,t},h1=function(e,t,n,i){n===void 0&&(n="_first"),i===void 0&&(i="_last");var a=t._prev,u=t._next;a?a._next=u:e[n]===t&&(e[n]=u),u?u._prev=a:e[i]===t&&(e[i]=a),t._next=t._prev=t.parent=null},$c=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ch=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},r7=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},lE=function(e,t,n,i){return e._startAt&&(Br?e._startAt.revert(ox):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},s7=function r(e){return!e||e._ts&&r(e.parent)},tC=function(e){return e._repeat?Wp(e._tTime,e=e.duration()+e._rDelay)*e:0},Wp=function(e,t){var n=Math.floor(e=wi(e/t));return e&&n===e?n-1:n},vb=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},d1=function(e){return e._end=wi(e._start+(e._tDur/Math.abs(e._ts||e._rts||$n)||0))},p1=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=wi(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),d1(e),n._dirty||Ch(n,e)),e},LN=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=vb(e.rawTime(),t),(!t._dur||cv(0,t.totalDuration(),n)-t._tTime>$n)&&t.render(n,!0)),Ch(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-$n}},El=function(e,t,n,i){return t.parent&&$c(t),t._start=wi((Bu(n)?n:n||e!==Ai?eo(e,n,t):e._time)+t._delay),t._end=wi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),NN(e,t,"_first","_last",e._sort?"_start":0),uE(t)||(e._recent=t),i||LN(e,t),e._ts<0&&p1(e,e._tTime),e},ON=function(e,t){return(wa.ScrollTrigger||NT("scrollTrigger",t))&&wa.ScrollTrigger.create(t,e)},IN=function(e,t,n,i,a){if(zT(e,t,a),!e._initted)return 1;if(!n&&e._pt&&!Br&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&wN!==ga.frame)return Xc.push(e),e._lazy=[a,i],1},a7=function r(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||r(t))},uE=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},o7=function(e,t,n,i){var a=e.ratio,u=t<0||!t&&(!e._start&&a7(e)&&!(!e._initted&&uE(e))||(e._ts<0||e._dp._ts<0)&&!uE(e))?0:1,c=e._rDelay,d=0,p,g,y;if(c&&e._repeat&&(d=cv(0,e._tDur,t),g=Wp(d,c),e._yoyo&&g&1&&(u=1-u),g!==Wp(e._tTime,c)&&(a=1-u,e.vars.repeatRefresh&&e._initted&&e.invalidate())),u!==a||Br||i||e._zTime===$n||!t&&e._zTime){if(!e._initted&&IN(e,t,i,n,d))return;for(y=e._zTime,e._zTime=t||(n?$n:0),n||(n=t&&!y),e.ratio=u,e._from&&(u=1-u),e._time=0,e._tTime=d,p=e._pt;p;)p.r(u,p.d),p=p._next;t<0&&lE(e,t,n,!0),e._onUpdate&&!n&&_a(e,"onUpdate"),d&&e._repeat&&!n&&e.parent&&_a(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===u&&(u&&$c(e,1),!n&&!Br&&(_a(e,u?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},l7=function(e,t,n){var i;if(n>t)for(i=e._first;i&&i._start<=n;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=n;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Xp=function(e,t,n,i){var a=e._repeat,u=wi(t)||0,c=e._tTime/e._tDur;return c&&!i&&(e._time*=u/e._dur),e._dur=u,e._tDur=a?a<0?1e10:wi(u*(a+1)+e._rDelay*a):u,c>0&&!i&&p1(e,e._tTime=e._tDur*c),e.parent&&d1(e),n||Ch(e.parent,e),e},nC=function(e){return e instanceof ws?Ch(e):Xp(e,e._dur)},u7={_start:0,endTime:B0,totalDuration:B0},eo=function r(e,t,n){var i=e.labels,a=e._recent||u7,u=e.duration()>=to?a.endTime(!1):e._dur,c,d,p;return Er(t)&&(isNaN(t)||t in i)?(d=t.charAt(0),p=t.substr(-1)==="%",c=t.indexOf("="),d==="<"||d===">"?(c>=0&&(t=t.replace(/=/,"")),(d==="<"?a._start:a.endTime(a._repeat>=0))+(parseFloat(t.substr(1))||0)*(p?(c<0?a:n).totalDuration()/100:1)):c<0?(t in i||(i[t]=u),i[t]):(d=parseFloat(t.charAt(c-1)+t.substr(c+1)),p&&n&&(d=d/100*(rs(n)?n[0]:n).totalDuration()),c>1?r(e,t.substr(0,c-1),n)+d:u+d)):t==null?u:+t},g0=function(e,t,n){var i=Bu(t[1]),a=(i?2:1)+(e<2?0:1),u=t[a],c,d;if(i&&(u.duration=t[1]),u.parent=n,e){for(c=u,d=n;d&&!("immediateRender"in c);)c=d.vars.defaults||{},d=ea(d.vars.inherit)&&d.parent;u.immediateRender=ea(c.immediateRender),e<2?u.runBackwards=1:u.startAt=t[a-1]}return new lr(t[0],u,t[a+1])},lf=function(e,t){return e||e===0?t(e):t},cv=function(e,t,n){return n<e?e:n>t?t:n},ts=function(e,t){return!Er(e)||!(t=QH.exec(e))?"":t[1]},c7=function(e,t,n){return lf(n,function(i){return cv(e,t,i)})},cE=[].slice,PN=function(e,t){return e&&Pl(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Pl(e[0]))&&!e.nodeType&&e!==Sl},f7=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(i){var a;return Er(i)&&!t||PN(i,1)?(a=n).push.apply(a,no(i)):n.push(i)})||n},no=function(e,t,n){return yi&&!t&&yi.selector?yi.selector(e):Er(e)&&!n&&(aE||!jp())?cE.call((t||DT).querySelectorAll(e),0):rs(e)?f7(e,n):PN(e)?cE.call(e,0):e?[e]:[]},fE=function(e){return e=no(e)[0]||F0("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return no(t,n.querySelectorAll?n:n===e?F0("Invalid scope")||DT.createElement("div"):e)}},UN=function(e){return e.sort(function(){return .5-Math.random()})},zN=function(e){if(Fi(e))return e;var t=Pl(e)?e:{each:e},n=Rh(t.ease),i=t.from||0,a=parseFloat(t.base)||0,u={},c=i>0&&i<1,d=isNaN(i)||c,p=t.axis,g=i,y=i;return Er(i)?g=y={center:.5,edges:.5,end:1}[i]||0:!c&&d&&(g=i[0],y=i[1]),function(_,x,E){var T=(E||t).length,A=u[T],M,R,D,L,P,z,B,k,I;if(!A){if(I=t.grid==="auto"?0:(t.grid||[1,to])[1],!I){for(B=-to;B<(B=E[I++].getBoundingClientRect().left)&&I<T;);I<T&&I--}for(A=u[T]=[],M=d?Math.min(I,T)*g-.5:i%I,R=I===to?0:d?T*y/I-.5:i/I|0,B=0,k=to,z=0;z<T;z++)D=z%I-M,L=R-(z/I|0),A[z]=P=p?Math.abs(p==="y"?L:D):_N(D*D+L*L),P>B&&(B=P),P<k&&(k=P);i==="random"&&UN(A),A.max=B-k,A.min=k,A.v=T=(parseFloat(t.amount)||parseFloat(t.each)*(I>T?T-1:p?p==="y"?T/I:I:Math.max(I,T/I))||0)*(i==="edges"?-1:1),A.b=T<0?a-T:a,A.u=ts(t.amount||t.each)||0,n=n&&T<0?qN(n):n}return T=(A[_]-A.min)/A.max||0,wi(A.b+(n?n(T):T)*A.v)+A.u}},hE=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var i=wi(Math.round(parseFloat(n)/e)*e*t);return(i-i%1)/t+(Bu(n)?0:ts(n))}},FN=function(e,t){var n=rs(e),i,a;return!n&&Pl(e)&&(i=n=e.radius||to,e.values?(e=no(e.values),(a=!Bu(e[0]))&&(i*=i)):e=hE(e.increment)),lf(t,n?Fi(e)?function(u){return a=e(u),Math.abs(a-u)<=i?a:u}:function(u){for(var c=parseFloat(a?u.x:u),d=parseFloat(a?u.y:0),p=to,g=0,y=e.length,_,x;y--;)a?(_=e[y].x-c,x=e[y].y-d,_=_*_+x*x):_=Math.abs(e[y]-c),_<p&&(p=_,g=y);return g=!i||p<=i?e[g]:u,a||g===u||Bu(u)?g:g+ts(u)}:hE(e))},BN=function(e,t,n,i){return lf(rs(e)?!t:n===!0?!!(n=0):!i,function(){return rs(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(i=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*i)/i})},h7=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(i){return t.reduce(function(a,u){return u(a)},i)}},d7=function(e,t){return function(n){return e(parseFloat(n))+(t||ts(n))}},p7=function(e,t,n){return VN(e,t,0,1,n)},kN=function(e,t,n){return lf(n,function(i){return e[~~t(i)]})},m7=function r(e,t,n){var i=t-e;return rs(e)?kN(e,r(0,e.length),t):lf(n,function(a){return(i+(a-e)%i)%i+e})},g7=function r(e,t,n){var i=t-e,a=i*2;return rs(e)?kN(e,r(0,e.length-1),t):lf(n,function(u){return u=(a+(u-e)%a)%a||0,e+(u>i?a-u:u)})},k0=function(e){return e.replace(ZH,function(t){var n=t.indexOf("[")+1,i=t.substring(n||7,n?t.indexOf("]"):t.length-1).split(KH);return BN(n?i:+i[0],n?0:+i[1],+i[2]||1e-5)})},VN=function(e,t,n,i,a){var u=t-e,c=i-n;return lf(a,function(d){return n+((d-e)/u*c||0)})},v7=function r(e,t,n,i){var a=isNaN(e+t)?0:function(x){return(1-x)*e+x*t};if(!a){var u=Er(e),c={},d,p,g,y,_;if(n===!0&&(i=1)&&(n=null),u)e={p:e},t={p:t};else if(rs(e)&&!rs(t)){for(g=[],y=e.length,_=y-2,p=1;p<y;p++)g.push(r(e[p-1],e[p]));y--,a=function(E){E*=y;var T=Math.min(_,~~E);return g[T](E-T)},n=t}else i||(e=Gp(rs(e)?[]:{},e));if(!g){for(d in t)UT.call(c,e,d,"get",t[d]);a=function(E){return kT(E,c)||(u?e.p:e)}}}return lf(n,a)},iC=function(e,t,n){var i=e.labels,a=to,u,c,d;for(u in i)c=i[u]-t,c<0==!!n&&c&&a>(c=Math.abs(c))&&(d=u,a=c);return d},_a=function(e,t,n){var i=e.vars,a=i[t],u=yi,c=e._ctx,d,p,g;if(a)return d=i[t+"Params"],p=i.callbackScope||e,n&&Xc.length&&mb(),c&&(yi=c),g=d?a.apply(p,d):a.call(p),yi=u,g},e0=function(e){return $c(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Br),e.progress()<1&&_a(e,"onInterrupt"),e},Tp,HN=[],GN=function(e){if(e)if(e=!e.name&&e.default||e,RT()||e.headless){var t=e.name,n=Fi(e),i=t&&!n&&e.init?function(){this._props=[]}:e,a={init:B0,render:kT,add:UT,kill:O7,modifier:L7,rawVars:0},u={targetTest:0,get:0,getSetter:BT,aliases:{},register:0};if(jp(),e!==i){if(ma[t])return;Aa(i,Aa(gb(e,a),u)),Gp(i.prototype,Gp(a,gb(e,u))),ma[i.prop=t]=i,e.targetTest&&(lx.push(i),LT[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}TN(t,i),e.register&&e.register(ra,i,na)}else HN.push(e)},Kn=255,t0={aqua:[0,Kn,Kn],lime:[0,Kn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Kn],navy:[0,0,128],white:[Kn,Kn,Kn],olive:[128,128,0],yellow:[Kn,Kn,0],orange:[Kn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Kn,0,0],pink:[Kn,192,203],cyan:[0,Kn,Kn],transparent:[Kn,Kn,Kn,0]},pM=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*Kn+.5|0},WN=function(e,t,n){var i=e?Bu(e)?[e>>16,e>>8&Kn,e&Kn]:0:t0.black,a,u,c,d,p,g,y,_,x,E;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),t0[e])i=t0[e];else if(e.charAt(0)==="#"){if(e.length<6&&(a=e.charAt(1),u=e.charAt(2),c=e.charAt(3),e="#"+a+a+u+u+c+c+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Kn,i&Kn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Kn,e&Kn]}else if(e.substr(0,3)==="hsl"){if(i=E=e.match(Q3),!t)d=+i[0]%360/360,p=+i[1]/100,g=+i[2]/100,u=g<=.5?g*(p+1):g+p-g*p,a=g*2-u,i.length>3&&(i[3]*=1),i[0]=pM(d+1/3,a,u),i[1]=pM(d,a,u),i[2]=pM(d-1/3,a,u);else if(~e.indexOf("="))return i=e.match(bN),n&&i.length<4&&(i[3]=1),i}else i=e.match(Q3)||t0.transparent;i=i.map(Number)}return t&&!E&&(a=i[0]/Kn,u=i[1]/Kn,c=i[2]/Kn,y=Math.max(a,u,c),_=Math.min(a,u,c),g=(y+_)/2,y===_?d=p=0:(x=y-_,p=g>.5?x/(2-y-_):x/(y+_),d=y===a?(u-c)/x+(u<c?6:0):y===u?(c-a)/x+2:(a-u)/x+4,d*=60),i[0]=~~(d+.5),i[1]=~~(p*100+.5),i[2]=~~(g*100+.5)),n&&i.length<4&&(i[3]=1),i},XN=function(e){var t=[],n=[],i=-1;return e.split(jc).forEach(function(a){var u=a.match(Ep)||[];t.push.apply(t,u),n.push(i+=u.length+1)}),t.c=n,t},rC=function(e,t,n){var i="",a=(e+i).match(jc),u=t?"hsla(":"rgba(",c=0,d,p,g,y;if(!a)return e;if(a=a.map(function(_){return(_=WN(_,t,1))&&u+(t?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),n&&(g=XN(e),d=n.c,d.join(i)!==g.c.join(i)))for(p=e.replace(jc,"1").split(Ep),y=p.length-1;c<y;c++)i+=p[c]+(~d.indexOf(c)?a.shift()||u+"0,0,0,0)":(g.length?g:a.length?a:n).shift());if(!p)for(p=e.split(jc),y=p.length-1;c<y;c++)i+=p[c]+a[c];return i+p[y]},jc=(function(){var r="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in t0)r+="|"+e+"\\b";return new RegExp(r+")","gi")})(),y7=/hsl[a]?\(/,jN=function(e){var t=e.join(" "),n;if(jc.lastIndex=0,jc.test(t))return n=y7.test(t),e[1]=rC(e[1],n),e[0]=rC(e[0],n,XN(e[1])),!0},V0,ga=(function(){var r=Date.now,e=500,t=33,n=r(),i=n,a=1e3/240,u=a,c=[],d,p,g,y,_,x,E=function T(A){var M=r()-i,R=A===!0,D,L,P,z;if((M>e||M<0)&&(n+=M-t),i+=M,P=i-n,D=P-u,(D>0||R)&&(z=++y.frame,_=P-y.time*1e3,y.time=P=P/1e3,u+=D+(D>=a?4:a-D),L=1),R||(d=p(T)),L)for(x=0;x<c.length;x++)c[x](P,_,z,A)};return y={time:0,frame:0,tick:function(){E(!0)},deltaRatio:function(A){return _/(1e3/(A||60))},wake:function(){MN&&(!aE&&RT()&&(Sl=aE=window,DT=Sl.document||{},wa.gsap=ra,(Sl.gsapVersions||(Sl.gsapVersions=[])).push(ra.version),EN(pb||Sl.GreenSockGlobals||!Sl.gsap&&Sl||{}),HN.forEach(GN)),g=typeof requestAnimationFrame<"u"&&requestAnimationFrame,d&&y.sleep(),p=g||function(A){return setTimeout(A,u-y.time*1e3+1|0)},V0=1,E(2))},sleep:function(){(g?cancelAnimationFrame:clearTimeout)(d),V0=0,p=B0},lagSmoothing:function(A,M){e=A||1/0,t=Math.min(M||33,e)},fps:function(A){a=1e3/(A||240),u=y.time*1e3+a},add:function(A,M,R){var D=M?function(L,P,z,B){A(L,P,z,B),y.remove(D)}:A;return y.remove(A),c[R?"unshift":"push"](D),jp(),D},remove:function(A,M){~(M=c.indexOf(A))&&c.splice(M,1)&&x>=M&&x--},_listeners:c},y})(),jp=function(){return!V0&&ga.wake()},wn={},_7=/^[\d.\-M][\d.\-,\s]/,x7=/["']/g,b7=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),i=n[0],a=1,u=n.length,c,d,p;a<u;a++)d=n[a],c=a!==u-1?d.lastIndexOf(","):d.length,p=d.substr(0,c),t[i]=isNaN(p)?p.replace(x7,"").trim():+p,i=d.substr(c+1).trim();return t},S7=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<n?e.indexOf(")",n+1):n)},M7=function(e){var t=(e+"").split("("),n=wn[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[b7(t[1])]:S7(e).split(",").map(RN)):wn._CE&&_7.test(e)?wn._CE("",e):n},qN=function(e){return function(t){return 1-e(1-t)}},YN=function r(e,t){for(var n=e._first,i;n;)n instanceof ws?r(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?r(n.timeline,t):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=t)),n=n._next},Rh=function(e,t){return e&&(Fi(e)?e:wn[e]||M7(e))||t},kh=function(e,t,n,i){n===void 0&&(n=function(d){return 1-t(1-d)}),i===void 0&&(i=function(d){return d<.5?t(d*2)/2:1-t((1-d)*2)/2});var a={easeIn:t,easeOut:n,easeInOut:i},u;return ta(e,function(c){wn[c]=wa[c]=a,wn[u=c.toLowerCase()]=n;for(var d in a)wn[u+(d==="easeIn"?".in":d==="easeOut"?".out":".inOut")]=wn[c+"."+d]=a[d]}),a},ZN=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},mM=function r(e,t,n){var i=t>=1?t:1,a=(n||(e?.3:.45))/(t<1?t:1),u=a/sE*(Math.asin(1/i)||0),c=function(g){return g===1?1:i*Math.pow(2,-10*g)*YH((g-u)*a)+1},d=e==="out"?c:e==="in"?function(p){return 1-c(1-p)}:ZN(c);return a=sE/a,d.config=function(p,g){return r(e,p,g)},d},gM=function r(e,t){t===void 0&&(t=1.70158);var n=function(u){return u?--u*u*((t+1)*u+t)+1:0},i=e==="out"?n:e==="in"?function(a){return 1-n(1-a)}:ZN(n);return i.config=function(a){return r(e,a)},i};ta("Linear,Quad,Cubic,Quart,Quint,Strong",function(r,e){var t=e<5?e+1:e;kh(r+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});wn.Linear.easeNone=wn.none=wn.Linear.easeIn;kh("Elastic",mM("in"),mM("out"),mM());(function(r,e){var t=1/e,n=2*t,i=2.5*t,a=function(c){return c<t?r*c*c:c<n?r*Math.pow(c-1.5/e,2)+.75:c<i?r*(c-=2.25/e)*c+.9375:r*Math.pow(c-2.625/e,2)+.984375};kh("Bounce",function(u){return 1-a(1-u)},a)})(7.5625,2.75);kh("Expo",function(r){return Math.pow(2,10*(r-1))*r+r*r*r*r*r*r*(1-r)});kh("Circ",function(r){return-(_N(1-r*r)-1)});kh("Sine",function(r){return r===1?1:-qH(r*XH)+1});kh("Back",gM("in"),gM("out"),gM());wn.SteppedEase=wn.steps=wa.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,i=e+(t?0:1),a=t?1:0,u=1-$n;return function(c){return((i*cv(0,u,c)|0)+a)*n}}};Hp.ease=wn["quad.out"];ta("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(r){return OT+=r+","+r+"Params,"});var KN=function(e,t){this.id=jH++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:AN,this.set=t?t.getSetter:BT},H0=(function(){function r(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Xp(this,+t.duration,1,1),this.data=t.data,yi&&(this._ctx=yi,yi.data.push(this)),V0||ga.wake()}var e=r.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Xp(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,i){if(jp(),!arguments.length)return this._tTime;var a=this._dp;if(a&&a.smoothChildTiming&&this._ts){for(p1(this,n),!a._dp||a.parent||LN(a,this);a&&a.parent;)a.parent._time!==a._start+(a._ts>=0?a._tTime/a._ts:(a.totalDuration()-a._tTime)/-a._ts)&&a.totalTime(a._tTime,!0),a=a.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&El(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===$n||!this._initted&&this._dur&&n||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),CN(this,n,i)),this},e.time=function(n,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+tC(this))%(this._dur+this._rDelay)||(n?this._dur:0),i):this._time},e.totalProgress=function(n,i){return arguments.length?this.totalTime(this.totalDuration()*n,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+tC(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,i){var a=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*a,i):this._repeat?Wp(this._tTime,a)+1:1},e.timeScale=function(n,i){if(!arguments.length)return this._rts===-$n?0:this._rts;if(this._rts===n)return this;var a=this.parent&&this._ts?vb(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-$n?0:this._rts,this.totalTime(cv(-Math.abs(this._delay),this.totalDuration(),a),i!==!1),d1(this),r7(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(jp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==$n&&(this._tTime-=$n)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=wi(n);var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&El(i,this,this._start-this._delay),this}return this._start},e.endTime=function(n){return this._start+(ea(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var i=this.parent||this._dp;return i?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?vb(i.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=e7);var i=Br;return Br=n,PT(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Br=i,this},e.globalTime=function(n){for(var i=this,a=arguments.length?n:i.rawTime();i;)a=i._start+a/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(n):a},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,nC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var i=this._time;return this._rDelay=n,nC(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,i){return this.totalTime(eo(this,n),ea(i))},e.restart=function(n,i){return this.play().totalTime(n?-this._delay:0,ea(i)),this._dur||(this._zTime=-$n),this},e.play=function(n,i){return n!=null&&this.seek(n,i),this.reversed(!1).paused(!1)},e.reverse=function(n,i){return n!=null&&this.seek(n||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(n,i){return n!=null&&this.seek(n,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-$n:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-$n,this},e.isActive=function(){var n=this.parent||this._dp,i=this._start,a;return!!(!n||this._ts&&this._initted&&n.isActive()&&(a=n.rawTime(!0))>=i&&a<this.endTime(!0)-$n)},e.eventCallback=function(n,i,a){var u=this.vars;return arguments.length>1?(i?(u[n]=i,a&&(u[n+"Params"]=a),n==="onUpdate"&&(this._onUpdate=i)):delete u[n],this):u[n]},e.then=function(n){var i=this,a=i._prom;return new Promise(function(u){var c=Fi(n)?n:DN,d=function(){var g=i.then;i.then=null,a&&a(),Fi(c)&&(c=c(i))&&(c.then||c===i)&&(i.then=g),u(c),i.then=g};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?d():i._prom=d})},e.kill=function(){e0(this)},r})();Aa(H0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-$n,_prom:0,_ps:!1,_rts:1});var ws=(function(r){yN(e,r);function e(n,i){var a;return n===void 0&&(n={}),a=r.call(this,n)||this,a.labels={},a.smoothChildTiming=!!n.smoothChildTiming,a.autoRemoveChildren=!!n.autoRemoveChildren,a._sort=ea(n.sortChildren),Ai&&El(n.parent||Ai,wu(a),i),n.reversed&&a.reverse(),n.paused&&a.paused(!0),n.scrollTrigger&&ON(wu(a),n.scrollTrigger),a}var t=e.prototype;return t.to=function(i,a,u){return g0(0,arguments,this),this},t.from=function(i,a,u){return g0(1,arguments,this),this},t.fromTo=function(i,a,u,c){return g0(2,arguments,this),this},t.set=function(i,a,u){return a.duration=0,a.parent=this,m0(a).repeatDelay||(a.repeat=0),a.immediateRender=!!a.immediateRender,new lr(i,a,eo(this,u),1),this},t.call=function(i,a,u){return El(this,lr.delayedCall(0,i,a),u)},t.staggerTo=function(i,a,u,c,d,p,g){return u.duration=a,u.stagger=u.stagger||c,u.onComplete=p,u.onCompleteParams=g,u.parent=this,new lr(i,u,eo(this,d)),this},t.staggerFrom=function(i,a,u,c,d,p,g){return u.runBackwards=1,m0(u).immediateRender=ea(u.immediateRender),this.staggerTo(i,a,u,c,d,p,g)},t.staggerFromTo=function(i,a,u,c,d,p,g,y){return c.startAt=u,m0(c).immediateRender=ea(c.immediateRender),this.staggerTo(i,a,c,d,p,g,y)},t.render=function(i,a,u){var c=this._time,d=this._dirty?this.totalDuration():this._tDur,p=this._dur,g=i<=0?0:wi(i),y=this._zTime<0!=i<0&&(this._initted||!p),_,x,E,T,A,M,R,D,L,P,z,B;if(this!==Ai&&g>d&&i>=0&&(g=d),g!==this._tTime||u||y){if(c!==this._time&&p&&(g+=this._time-c,i+=this._time-c),_=g,L=this._start,D=this._ts,M=!D,y&&(p||(c=this._zTime),(i||!a)&&(this._zTime=i)),this._repeat){if(z=this._yoyo,A=p+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(A*100+i,a,u);if(_=wi(g%A),g===d?(T=this._repeat,_=p):(P=wi(g/A),T=~~P,T&&T===P&&(_=p,T--),_>p&&(_=p)),P=Wp(this._tTime,A),!c&&this._tTime&&P!==T&&this._tTime-P*A-this._dur<=0&&(P=T),z&&T&1&&(_=p-_,B=1),T!==P&&!this._lock){var k=z&&P&1,I=k===(z&&T&1);if(T<P&&(k=!k),c=k?0:g%p?p:g,this._lock=1,this.render(c||(B?0:wi(T*A)),a,!p)._lock=0,this._tTime=g,!a&&this.parent&&_a(this,"onRepeat"),this.vars.repeatRefresh&&!B&&(this.invalidate()._lock=1,P=T),c&&c!==this._time||M!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(p=this._dur,d=this._tDur,I&&(this._lock=2,c=k?p:-1e-4,this.render(c,!0),this.vars.repeatRefresh&&!B&&this.invalidate()),this._lock=0,!this._ts&&!M)return this;YN(this,B)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(R=l7(this,wi(c),wi(_)),R&&(g-=_-(_=R._start))),this._tTime=g,this._time=_,this._act=!D,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,c=0),!c&&g&&p&&!a&&!P&&(_a(this,"onStart"),this._tTime!==g))return this;if(_>=c&&i>=0)for(x=this._first;x;){if(E=x._next,(x._act||_>=x._start)&&x._ts&&R!==x){if(x.parent!==this)return this.render(i,a,u);if(x.render(x._ts>0?(_-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(_-x._start)*x._ts,a,u),_!==this._time||!this._ts&&!M){R=0,E&&(g+=this._zTime=-$n);break}}x=E}else{x=this._last;for(var O=i<0?i:_;x;){if(E=x._prev,(x._act||O<=x._end)&&x._ts&&R!==x){if(x.parent!==this)return this.render(i,a,u);if(x.render(x._ts>0?(O-x._start)*x._ts:(x._dirty?x.totalDuration():x._tDur)+(O-x._start)*x._ts,a,u||Br&&PT(x)),_!==this._time||!this._ts&&!M){R=0,E&&(g+=this._zTime=O?-$n:$n);break}}x=E}}if(R&&!a&&(this.pause(),R.render(_>=c?0:-$n)._zTime=_>=c?1:-1,this._ts))return this._start=L,d1(this),this.render(i,a,u);this._onUpdate&&!a&&_a(this,"onUpdate",!0),(g===d&&this._tTime>=this.totalDuration()||!g&&c)&&(L===this._start||Math.abs(D)!==Math.abs(this._ts))&&(this._lock||((i||!p)&&(g===d&&this._ts>0||!g&&this._ts<0)&&$c(this,1),!a&&!(i<0&&!c)&&(g||c||!d)&&(_a(this,g===d&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<d&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,a){var u=this;if(Bu(a)||(a=eo(this,a,i)),!(i instanceof H0)){if(rs(i))return i.forEach(function(c){return u.add(c,a)}),this;if(Er(i))return this.addLabel(i,a);if(Fi(i))i=lr.delayedCall(0,i);else return this}return this!==i?El(this,i,a):this},t.getChildren=function(i,a,u,c){i===void 0&&(i=!0),a===void 0&&(a=!0),u===void 0&&(u=!0),c===void 0&&(c=-to);for(var d=[],p=this._first;p;)p._start>=c&&(p instanceof lr?a&&d.push(p):(u&&d.push(p),i&&d.push.apply(d,p.getChildren(!0,a,u)))),p=p._next;return d},t.getById=function(i){for(var a=this.getChildren(1,1,1),u=a.length;u--;)if(a[u].vars.id===i)return a[u]},t.remove=function(i){return Er(i)?this.removeLabel(i):Fi(i)?this.killTweensOf(i):(i.parent===this&&h1(this,i),i===this._recent&&(this._recent=this._last),Ch(this))},t.totalTime=function(i,a){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=wi(ga.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),r.prototype.totalTime.call(this,i,a),this._forcing=0,this):this._tTime},t.addLabel=function(i,a){return this.labels[i]=eo(this,a),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,a,u){var c=lr.delayedCall(0,a||B0,u);return c.data="isPause",this._hasPause=1,El(this,c,eo(this,i))},t.removePause=function(i){var a=this._first;for(i=eo(this,i);a;)a._start===i&&a.data==="isPause"&&$c(a),a=a._next},t.killTweensOf=function(i,a,u){for(var c=this.getTweensOf(i,u),d=c.length;d--;)Hc!==c[d]&&c[d].kill(i,a);return this},t.getTweensOf=function(i,a){for(var u=[],c=no(i),d=this._first,p=Bu(a),g;d;)d instanceof lr?t7(d._targets,c)&&(p?(!Hc||d._initted&&d._ts)&&d.globalTime(0)<=a&&d.globalTime(d.totalDuration())>a:!a||d.isActive())&&u.push(d):(g=d.getTweensOf(c,a)).length&&u.push.apply(u,g),d=d._next;return u},t.tweenTo=function(i,a){a=a||{};var u=this,c=eo(u,i),d=a,p=d.startAt,g=d.onStart,y=d.onStartParams,_=d.immediateRender,x,E=lr.to(u,Aa({ease:a.ease||"none",lazy:!1,immediateRender:!1,time:c,overwrite:"auto",duration:a.duration||Math.abs((c-(p&&"time"in p?p.time:u._time))/u.timeScale())||$n,onStart:function(){if(u.pause(),!x){var A=a.duration||Math.abs((c-(p&&"time"in p?p.time:u._time))/u.timeScale());E._dur!==A&&Xp(E,A,0,1).render(E._time,!0,!0),x=1}g&&g.apply(E,y||[])}},a));return _?E.render(0):E},t.tweenFromTo=function(i,a,u){return this.tweenTo(a,Aa({startAt:{time:eo(this,i)}},u))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),iC(this,eo(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),iC(this,eo(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+$n)},t.shiftChildren=function(i,a,u){u===void 0&&(u=0);var c=this._first,d=this.labels,p;for(i=wi(i);c;)c._start>=u&&(c._start+=i,c._end+=i),c=c._next;if(a)for(p in d)d[p]>=u&&(d[p]+=i);return Ch(this)},t.invalidate=function(i){var a=this._first;for(this._lock=0;a;)a.invalidate(i),a=a._next;return r.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var a=this._first,u;a;)u=a._next,this.remove(a),a=u;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Ch(this)},t.totalDuration=function(i){var a=0,u=this,c=u._last,d=to,p,g,y;if(arguments.length)return u.timeScale((u._repeat<0?u.duration():u.totalDuration())/(u.reversed()?-i:i));if(u._dirty){for(y=u.parent;c;)p=c._prev,c._dirty&&c.totalDuration(),g=c._start,g>d&&u._sort&&c._ts&&!u._lock?(u._lock=1,El(u,c,g-c._delay,1)._lock=0):d=g,g<0&&c._ts&&(a-=g,(!y&&!u._dp||y&&y.smoothChildTiming)&&(u._start+=wi(g/u._ts),u._time-=g,u._tTime-=g),u.shiftChildren(-g,!1,-1/0),d=0),c._end>a&&c._ts&&(a=c._end),c=p;Xp(u,u===Ai&&u._time>a?u._time:a,1,1),u._dirty=0}return u._tDur},e.updateRoot=function(i){if(Ai._ts&&(CN(Ai,vb(i,Ai)),wN=ga.frame),ga.frame>=J3){J3+=Ma.autoSleep||120;var a=Ai._first;if((!a||!a._ts)&&Ma.autoSleep&&ga._listeners.length<2){for(;a&&!a._ts;)a=a._next;a||ga.sleep()}}},e})(H0);Aa(ws.prototype,{_lock:0,_hasPause:0,_forcing:0});var E7=function(e,t,n,i,a,u,c){var d=new na(this._pt,e,t,0,1,nL,null,a),p=0,g=0,y,_,x,E,T,A,M,R;for(d.b=n,d.e=i,n+="",i+="",(M=~i.indexOf("random("))&&(i=k0(i)),u&&(R=[n,i],u(R,e,t),n=R[0],i=R[1]),_=n.match(hM)||[];y=hM.exec(i);)E=y[0],T=i.substring(p,y.index),x?x=(x+1)%5:T.substr(-5)==="rgba("&&(x=1),E!==_[g++]&&(A=parseFloat(_[g-1])||0,d._pt={_next:d._pt,p:T||g===1?T:",",s:A,c:E.charAt(1)==="="?Cp(A,E)-A:parseFloat(E)-A,m:x&&x<4?Math.round:0},p=hM.lastIndex);return d.c=p<i.length?i.substring(p,i.length):"",d.fp=c,(SN.test(i)||M)&&(d.e=0),this._pt=d,d},UT=function(e,t,n,i,a,u,c,d,p,g){Fi(i)&&(i=i(a||0,e,u));var y=e[t],_=n!=="get"?n:Fi(y)?p?e[t.indexOf("set")||!Fi(e["get"+t.substr(3)])?t:"get"+t.substr(3)](p):e[t]():y,x=Fi(y)?p?R7:eL:FT,E;if(Er(i)&&(~i.indexOf("random(")&&(i=k0(i)),i.charAt(1)==="="&&(E=Cp(_,i)+(ts(_)||0),(E||E===0)&&(i=E))),!g||_!==i||dE)return!isNaN(_*i)&&i!==""?(E=new na(this._pt,e,t,+_||0,i-(_||0),typeof y=="boolean"?N7:tL,0,x),p&&(E.fp=p),c&&E.modifier(c,this,e),this._pt=E):(!y&&!(t in e)&&NT(t,i),E7.call(this,e,t,_,i,x,d||Ma.stringFilter,p))},T7=function(e,t,n,i,a){if(Fi(e)&&(e=v0(e,a,t,n,i)),!Pl(e)||e.style&&e.nodeType||rs(e)||xN(e))return Er(e)?v0(e,a,t,n,i):e;var u={},c;for(c in e)u[c]=v0(e[c],a,t,n,i);return u},$N=function(e,t,n,i,a,u){var c,d,p,g;if(ma[e]&&(c=new ma[e]).init(a,c.rawVars?t[e]:T7(t[e],i,a,u,n),n,i,u)!==!1&&(n._pt=d=new na(n._pt,a,e,0,1,c.render,c,0,c.priority),n!==Tp))for(p=n._ptLookup[n._targets.indexOf(a)],g=c._props.length;g--;)p[c._props[g]]=d;return c},Hc,dE,zT=function r(e,t,n){var i=e.vars,a=i.ease,u=i.startAt,c=i.immediateRender,d=i.lazy,p=i.onUpdate,g=i.runBackwards,y=i.yoyoEase,_=i.keyframes,x=i.autoRevert,E=e._dur,T=e._startAt,A=e._targets,M=e.parent,R=M&&M.data==="nested"?M.vars.targets:A,D=e._overwrite==="auto"&&!AT,L=e.timeline,P,z,B,k,I,O,W,ee,Q,fe,ue,Z,J;if(L&&(!_||!a)&&(a="none"),e._ease=Rh(a,Hp.ease),e._yEase=y?qN(Rh(y===!0?a:y,Hp.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!L&&!!i.runBackwards,!L||_&&!i.stagger){if(ee=A[0]?Ah(A[0]).harness:0,Z=ee&&i[ee.prop],P=gb(i,LT),T&&(T._zTime<0&&T.progress(1),t<0&&g&&c&&!x?T.render(-1,!0):T.revert(g&&E?ox:JH),T._lazy=0),u){if($c(e._startAt=lr.set(A,Aa({data:"isStart",overwrite:!1,parent:M,immediateRender:!0,lazy:!T&&ea(d),startAt:null,delay:0,onUpdate:p&&function(){return _a(e,"onUpdate")},stagger:0},u))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Br||!c&&!x)&&e._startAt.revert(ox),c&&E&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(g&&E&&!T){if(t&&(c=!1),B=Aa({overwrite:!1,data:"isFromStart",lazy:c&&!T&&ea(d),immediateRender:c,stagger:0,parent:M},P),Z&&(B[ee.prop]=Z),$c(e._startAt=lr.set(A,B)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Br?e._startAt.revert(ox):e._startAt.render(-1,!0)),e._zTime=t,!c)r(e._startAt,$n,$n);else if(!t)return}for(e._pt=e._ptCache=0,d=E&&ea(d)||d&&!E,z=0;z<A.length;z++){if(I=A[z],W=I._gsap||IT(A)[z]._gsap,e._ptLookup[z]=fe={},oE[W.id]&&Xc.length&&mb(),ue=R===A?z:R.indexOf(I),ee&&(Q=new ee).init(I,Z||P,e,ue,R)!==!1&&(e._pt=k=new na(e._pt,I,Q.name,0,1,Q.render,Q,0,Q.priority),Q._props.forEach(function(he){fe[he]=k}),Q.priority&&(O=1)),!ee||Z)for(B in P)ma[B]&&(Q=$N(B,P,e,ue,I,R))?Q.priority&&(O=1):fe[B]=k=UT.call(e,I,B,"get",P[B],ue,R,0,i.stringFilter);e._op&&e._op[z]&&e.kill(I,e._op[z]),D&&e._pt&&(Hc=e,Ai.killTweensOf(I,fe,e.globalTime(t)),J=!e.parent,Hc=0),e._pt&&d&&(oE[W.id]=1)}O&&iL(e),e._onInit&&e._onInit(e)}e._onUpdate=p,e._initted=(!e._op||e._pt)&&!J,_&&t<=0&&L.render(to,!0,!0)},w7=function(e,t,n,i,a,u,c,d){var p=(e._pt&&e._ptCache||(e._ptCache={}))[t],g,y,_,x;if(!p)for(p=e._ptCache[t]=[],_=e._ptLookup,x=e._targets.length;x--;){if(g=_[x][t],g&&g.d&&g.d._pt)for(g=g.d._pt;g&&g.p!==t&&g.fp!==t;)g=g._next;if(!g)return dE=1,e.vars[t]="+=0",zT(e,c),dE=0,d?F0(t+" not eligible for reset"):1;p.push(g)}for(x=p.length;x--;)y=p[x],g=y._pt||y,g.s=(i||i===0)&&!a?i:g.s+(i||0)+u*g.c,g.c=n-g.s,y.e&&(y.e=Zi(n)+ts(y.e)),y.b&&(y.b=g.s+ts(y.b))},A7=function(e,t){var n=e[0]?Ah(e[0]).harness:0,i=n&&n.aliases,a,u,c,d;if(!i)return t;a=Gp({},t);for(u in i)if(u in a)for(d=i[u].split(","),c=d.length;c--;)a[d[c]]=a[u];return a},C7=function(e,t,n,i){var a=t.ease||i||"power1.inOut",u,c;if(rs(t))c=n[e]||(n[e]=[]),t.forEach(function(d,p){return c.push({t:p/(t.length-1)*100,v:d,e:a})});else for(u in t)c=n[u]||(n[u]=[]),u==="ease"||c.push({t:parseFloat(e),v:t[u],e:a})},v0=function(e,t,n,i,a){return Fi(e)?e.call(t,n,i,a):Er(e)&&~e.indexOf("random(")?k0(e):e},QN=OT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",JN={};ta(QN+",id,stagger,delay,duration,paused,scrollTrigger",function(r){return JN[r]=1});var lr=(function(r){yN(e,r);function e(n,i,a,u){var c;typeof i=="number"&&(a.duration=i,i=a,a=null),c=r.call(this,u?i:m0(i))||this;var d=c.vars,p=d.duration,g=d.delay,y=d.immediateRender,_=d.stagger,x=d.overwrite,E=d.keyframes,T=d.defaults,A=d.scrollTrigger,M=d.yoyoEase,R=i.parent||Ai,D=(rs(n)||xN(n)?Bu(n[0]):"length"in i)?[n]:no(n),L,P,z,B,k,I,O,W;if(c._targets=D.length?IT(D):F0("GSAP target "+n+" not found. https://gsap.com",!Ma.nullTargetWarn)||[],c._ptLookup=[],c._overwrite=x,E||_||q_(p)||q_(g)){if(i=c.vars,L=c.timeline=new ws({data:"nested",defaults:T||{},targets:R&&R.data==="nested"?R.vars.targets:D}),L.kill(),L.parent=L._dp=wu(c),L._start=0,_||q_(p)||q_(g)){if(B=D.length,O=_&&zN(_),Pl(_))for(k in _)~QN.indexOf(k)&&(W||(W={}),W[k]=_[k]);for(P=0;P<B;P++)z=gb(i,JN),z.stagger=0,M&&(z.yoyoEase=M),W&&Gp(z,W),I=D[P],z.duration=+v0(p,wu(c),P,I,D),z.delay=(+v0(g,wu(c),P,I,D)||0)-c._delay,!_&&B===1&&z.delay&&(c._delay=g=z.delay,c._start+=g,z.delay=0),L.to(I,z,O?O(P,I,D):0),L._ease=wn.none;L.duration()?p=g=0:c.timeline=0}else if(E){m0(Aa(L.vars.defaults,{ease:"none"})),L._ease=Rh(E.ease||i.ease||"none");var ee=0,Q,fe,ue;if(rs(E))E.forEach(function(Z){return L.to(D,Z,">")}),L.duration();else{z={};for(k in E)k==="ease"||k==="easeEach"||C7(k,E[k],z,E.easeEach);for(k in z)for(Q=z[k].sort(function(Z,J){return Z.t-J.t}),ee=0,P=0;P<Q.length;P++)fe=Q[P],ue={ease:fe.e,duration:(fe.t-(P?Q[P-1].t:0))/100*p},ue[k]=fe.v,L.to(D,ue,ee),ee+=ue.duration;L.duration()<p&&L.to({},{duration:p-L.duration()})}}p||c.duration(p=L.duration())}else c.timeline=0;return x===!0&&!AT&&(Hc=wu(c),Ai.killTweensOf(D),Hc=0),El(R,wu(c),a),i.reversed&&c.reverse(),i.paused&&c.paused(!0),(y||!p&&!E&&c._start===wi(R._time)&&ea(y)&&s7(wu(c))&&R.data!=="nested")&&(c._tTime=-$n,c.render(Math.max(0,-g)||0)),A&&ON(wu(c),A),c}var t=e.prototype;return t.render=function(i,a,u){var c=this._time,d=this._tDur,p=this._dur,g=i<0,y=i>d-$n&&!g?d:i<$n?0:i,_,x,E,T,A,M,R,D,L;if(!p)o7(this,i,a,u);else if(y!==this._tTime||!i||u||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==g||this._lazy){if(_=y,D=this.timeline,this._repeat){if(T=p+this._rDelay,this._repeat<-1&&g)return this.totalTime(T*100+i,a,u);if(_=wi(y%T),y===d?(E=this._repeat,_=p):(A=wi(y/T),E=~~A,E&&E===A?(_=p,E--):_>p&&(_=p)),M=this._yoyo&&E&1,M&&(L=this._yEase,_=p-_),A=Wp(this._tTime,T),_===c&&!u&&this._initted&&E===A)return this._tTime=y,this;E!==A&&(D&&this._yEase&&YN(D,M),this.vars.repeatRefresh&&!M&&!this._lock&&_!==T&&this._initted&&(this._lock=u=1,this.render(wi(T*E),!0).invalidate()._lock=0))}if(!this._initted){if(IN(this,g?i:_,u,a,y))return this._tTime=0,this;if(c!==this._time&&!(u&&this.vars.repeatRefresh&&E!==A))return this;if(p!==this._dur)return this.render(i,a,u)}if(this._tTime=y,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=R=(L||this._ease)(_/p),this._from&&(this.ratio=R=1-R),!c&&y&&!a&&!A&&(_a(this,"onStart"),this._tTime!==y))return this;for(x=this._pt;x;)x.r(R,x.d),x=x._next;D&&D.render(i<0?i:D._dur*D._ease(_/this._dur),a,u)||this._startAt&&(this._zTime=i),this._onUpdate&&!a&&(g&&lE(this,i,a,u),_a(this,"onUpdate")),this._repeat&&E!==A&&this.vars.onRepeat&&!a&&this.parent&&_a(this,"onRepeat"),(y===this._tDur||!y)&&this._tTime===y&&(g&&!this._onUpdate&&lE(this,i,!0,!0),(i||!p)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&$c(this,1),!a&&!(g&&!c)&&(y||c||M)&&(_a(this,y===d?"onComplete":"onReverseComplete",!0),this._prom&&!(y<d&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),r.prototype.invalidate.call(this,i)},t.resetTo=function(i,a,u,c,d){V0||ga.wake(),this._ts||this.play();var p=Math.min(this._dur,(this._dp._time-this._start)*this._ts),g;return this._initted||zT(this,p),g=this._ease(p/this._dur),w7(this,i,a,u,c,g,p,d)?this.resetTo(i,a,u,c,1):(p1(this,0),this.parent||NN(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,a){if(a===void 0&&(a="all"),!i&&(!a||a==="all"))return this._lazy=this._pt=0,this.parent?e0(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Br),this;if(this.timeline){var u=this.timeline.totalDuration();return this.timeline.killTweensOf(i,a,Hc&&Hc.vars.overwrite!==!0)._first||e0(this),this.parent&&u!==this.timeline.totalDuration()&&Xp(this,this._dur*this.timeline._tDur/u,0,1),this}var c=this._targets,d=i?no(i):c,p=this._ptLookup,g=this._pt,y,_,x,E,T,A,M;if((!a||a==="all")&&i7(c,d))return a==="all"&&(this._pt=0),e0(this);for(y=this._op=this._op||[],a!=="all"&&(Er(a)&&(T={},ta(a,function(R){return T[R]=1}),a=T),a=A7(c,a)),M=c.length;M--;)if(~d.indexOf(c[M])){_=p[M],a==="all"?(y[M]=a,E=_,x={}):(x=y[M]=y[M]||{},E=a);for(T in E)A=_&&_[T],A&&((!("kill"in A.d)||A.d.kill(T)===!0)&&h1(this,A,"_pt"),delete _[T]),x!=="all"&&(x[T]=1)}return this._initted&&!this._pt&&g&&e0(this),this},e.to=function(i,a){return new e(i,a,arguments[2])},e.from=function(i,a){return g0(1,arguments)},e.delayedCall=function(i,a,u,c){return new e(a,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:a,onReverseComplete:a,onCompleteParams:u,onReverseCompleteParams:u,callbackScope:c})},e.fromTo=function(i,a,u){return g0(2,arguments)},e.set=function(i,a){return a.duration=0,a.repeatDelay||(a.repeat=0),new e(i,a)},e.killTweensOf=function(i,a,u){return Ai.killTweensOf(i,a,u)},e})(H0);Aa(lr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ta("staggerTo,staggerFrom,staggerFromTo",function(r){lr[r]=function(){var e=new ws,t=cE.call(arguments,0);return t.splice(r==="staggerFromTo"?5:4,0,0),e[r].apply(e,t)}});var FT=function(e,t,n){return e[t]=n},eL=function(e,t,n){return e[t](n)},R7=function(e,t,n,i){return e[t](i.fp,n)},D7=function(e,t,n){return e.setAttribute(t,n)},BT=function(e,t){return Fi(e[t])?eL:CT(e[t])&&e.setAttribute?D7:FT},tL=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},N7=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},nL=function(e,t){var n=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;n;)i=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+i,n=n._next;i+=t.c}t.set(t.t,t.p,i,t)},kT=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},L7=function(e,t,n,i){for(var a=this._pt,u;a;)u=a._next,a.p===i&&a.modifier(e,t,n),a=u},O7=function(e){for(var t=this._pt,n,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?h1(this,t,"_pt"):t.dep||(n=1),t=i;return!n},I7=function(e,t,n,i){i.mSet(e,t,i.m.call(i.tween,n,i.mt),i)},iL=function(e){for(var t=e._pt,n,i,a,u;t;){for(n=t._next,i=a;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:u)?t._prev._next=t:a=t,(t._next=i)?i._prev=t:u=t,t=n}e._pt=a},na=(function(){function r(t,n,i,a,u,c,d,p,g){this.t=n,this.s=a,this.c=u,this.p=i,this.r=c||tL,this.d=d||this,this.set=p||FT,this.pr=g||0,this._next=t,t&&(t._prev=this)}var e=r.prototype;return e.modifier=function(n,i,a){this.mSet=this.mSet||this.set,this.set=I7,this.m=n,this.mt=a,this.tween=i},r})();ta(OT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(r){return LT[r]=1});wa.TweenMax=wa.TweenLite=lr;wa.TimelineLite=wa.TimelineMax=ws;Ai=new ws({sortChildren:!1,defaults:Hp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ma.stringFilter=jN;var Dh=[],ux={},P7=[],sC=0,U7=0,vM=function(e){return(ux[e]||P7).map(function(t){return t()})},pE=function(){var e=Date.now(),t=[];e-sC>2&&(vM("matchMediaInit"),Dh.forEach(function(n){var i=n.queries,a=n.conditions,u,c,d,p;for(c in i)u=Sl.matchMedia(i[c]).matches,u&&(d=1),u!==a[c]&&(a[c]=u,p=1);p&&(n.revert(),d&&t.push(n))}),vM("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(i){return n.add(null,i)})}),sC=e,vM("matchMedia"))},rL=(function(){function r(t,n){this.selector=n&&fE(n),this.data=[],this._r=[],this.isReverted=!1,this.id=U7++,t&&this.add(t)}var e=r.prototype;return e.add=function(n,i,a){Fi(n)&&(a=i,i=n,n=Fi);var u=this,c=function(){var p=yi,g=u.selector,y;return p&&p!==u&&p.data.push(u),a&&(u.selector=fE(a)),yi=u,y=i.apply(u,arguments),Fi(y)&&u._r.push(y),yi=p,u.selector=g,u.isReverted=!1,y};return u.last=c,n===Fi?c(u,function(d){return u.add(null,d)}):n?u[n]=c:c},e.ignore=function(n){var i=yi;yi=null,n(this),yi=i},e.getTweens=function(){var n=[];return this.data.forEach(function(i){return i instanceof r?n.push.apply(n,i.getTweens()):i instanceof lr&&!(i.parent&&i.parent.data==="nested")&&n.push(i)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,i){var a=this;if(n?(function(){for(var c=a.getTweens(),d=a.data.length,p;d--;)p=a.data[d],p.data==="isFlip"&&(p.revert(),p.getChildren(!0,!0,!1).forEach(function(g){return c.splice(c.indexOf(g),1)}));for(c.map(function(g){return{g:g._dur||g._delay||g._sat&&!g._sat.vars.immediateRender?g.globalTime(0):-1/0,t:g}}).sort(function(g,y){return y.g-g.g||-1/0}).forEach(function(g){return g.t.revert(n)}),d=a.data.length;d--;)p=a.data[d],p instanceof ws?p.data!=="nested"&&(p.scrollTrigger&&p.scrollTrigger.revert(),p.kill()):!(p instanceof lr)&&p.revert&&p.revert(n);a._r.forEach(function(g){return g(n,a)}),a.isReverted=!0})():this.data.forEach(function(c){return c.kill&&c.kill()}),this.clear(),i)for(var u=Dh.length;u--;)Dh[u].id===this.id&&Dh.splice(u,1)},e.revert=function(n){this.kill(n||{})},r})(),z7=(function(){function r(t){this.contexts=[],this.scope=t,yi&&yi.data.push(this)}var e=r.prototype;return e.add=function(n,i,a){Pl(n)||(n={matches:n});var u=new rL(0,a||this.scope),c=u.conditions={},d,p,g;yi&&!u.selector&&(u.selector=yi.selector),this.contexts.push(u),i=u.add("onMatch",i),u.queries=n;for(p in n)p==="all"?g=1:(d=Sl.matchMedia(n[p]),d&&(Dh.indexOf(u)<0&&Dh.push(u),(c[p]=d.matches)&&(g=1),d.addListener?d.addListener(pE):d.addEventListener("change",pE)));return g&&i(u,function(y){return u.add(null,y)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(i){return i.kill(n,!0)})},r})(),yb={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(i){return GN(i)})},timeline:function(e){return new ws(e)},getTweensOf:function(e,t){return Ai.getTweensOf(e,t)},getProperty:function(e,t,n,i){Er(e)&&(e=no(e)[0]);var a=Ah(e||{}).get,u=n?DN:RN;return n==="native"&&(n=""),e&&(t?u((ma[t]&&ma[t].get||a)(e,t,n,i)):function(c,d,p){return u((ma[c]&&ma[c].get||a)(e,c,d,p))})},quickSetter:function(e,t,n){if(e=no(e),e.length>1){var i=e.map(function(g){return ra.quickSetter(g,t,n)}),a=i.length;return function(g){for(var y=a;y--;)i[y](g)}}e=e[0]||{};var u=ma[t],c=Ah(e),d=c.harness&&(c.harness.aliases||{})[t]||t,p=u?function(g){var y=new u;Tp._pt=0,y.init(e,n?g+n:g,Tp,0,[e]),y.render(1,y),Tp._pt&&kT(1,Tp)}:c.set(e,d);return u?p:function(g){return p(e,d,n?g+n:g,c,1)}},quickTo:function(e,t,n){var i,a=ra.to(e,Aa((i={},i[t]="+=0.1",i.paused=!0,i.stagger=0,i),n||{})),u=function(d,p,g){return a.resetTo(t,d,p,g)};return u.tween=a,u},isTweening:function(e){return Ai.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Rh(e.ease,Hp.ease)),eC(Hp,e||{})},config:function(e){return eC(Ma,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,i=e.plugins,a=e.defaults,u=e.extendTimeline;(i||"").split(",").forEach(function(c){return c&&!ma[c]&&!wa[c]&&F0(t+" effect requires "+c+" plugin.")}),dM[t]=function(c,d,p){return n(no(c),Aa(d||{},a),p)},u&&(ws.prototype[t]=function(c,d,p){return this.add(dM[t](c,Pl(d)?d:(p=d)&&{},this),p)})},registerEase:function(e,t){wn[e]=Rh(t)},parseEase:function(e,t){return arguments.length?Rh(e,t):wn},getById:function(e){return Ai.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new ws(e),i,a;for(n.smoothChildTiming=ea(e.smoothChildTiming),Ai.remove(n),n._dp=0,n._time=n._tTime=Ai._time,i=Ai._first;i;)a=i._next,(t||!(!i._dur&&i instanceof lr&&i.vars.onComplete===i._targets[0]))&&El(n,i,i._start-i._delay),i=a;return El(Ai,n,0),n},context:function(e,t){return e?new rL(e,t):yi},matchMedia:function(e){return new z7(e)},matchMediaRefresh:function(){return Dh.forEach(function(e){var t=e.conditions,n,i;for(i in t)t[i]&&(t[i]=!1,n=1);n&&e.revert()})||pE()},addEventListener:function(e,t){var n=ux[e]||(ux[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=ux[e],i=n&&n.indexOf(t);i>=0&&n.splice(i,1)},utils:{wrap:m7,wrapYoyo:g7,distribute:zN,random:BN,snap:FN,normalize:p7,getUnit:ts,clamp:c7,splitColor:WN,toArray:no,selector:fE,mapRange:VN,pipe:h7,unitize:d7,interpolate:v7,shuffle:UN},install:EN,effects:dM,ticker:ga,updateRoot:ws.updateRoot,plugins:ma,globalTimeline:Ai,core:{PropTween:na,globals:TN,Tween:lr,Timeline:ws,Animation:H0,getCache:Ah,_removeLinkedListItem:h1,reverting:function(){return Br},context:function(e){return e&&yi&&(yi.data.push(e),e._ctx=yi),yi},suppressOverwrites:function(e){return AT=e}}};ta("to,from,fromTo,delayedCall,set,killTweensOf",function(r){return yb[r]=lr[r]});ga.add(ws.updateRoot);Tp=yb.to({},{duration:0});var F7=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},B7=function(e,t){var n=e._targets,i,a,u;for(i in t)for(a=n.length;a--;)u=e._ptLookup[a][i],u&&(u=u.d)&&(u._pt&&(u=F7(u,i)),u&&u.modifier&&u.modifier(t[i],e,n[a],i))},yM=function(e,t){return{name:e,headless:1,rawVars:1,init:function(i,a,u){u._onInit=function(c){var d,p;if(Er(a)&&(d={},ta(a,function(g){return d[g]=1}),a=d),t){d={};for(p in a)d[p]=t(a[p]);a=d}B7(c,a)}}}},ra=yb.registerPlugin({name:"attr",init:function(e,t,n,i,a){var u,c,d;this.tween=n;for(u in t)d=e.getAttribute(u)||"",c=this.add(e,"setAttribute",(d||0)+"",t[u],i,a,0,0,u),c.op=u,c.b=d,this._props.push(u)},render:function(e,t){for(var n=t._pt;n;)Br?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},yM("roundProps",hE),yM("modifiers"),yM("snap",FN))||yb;lr.version=ws.version=ra.version="3.14.2";MN=1;RT()&&jp();wn.Power0;wn.Power1;wn.Power2;wn.Power3;wn.Power4;wn.Linear;wn.Quad;wn.Cubic;wn.Quart;wn.Quint;wn.Strong;wn.Elastic;var aC=wn.Back;wn.SteppedEase;wn.Bounce;wn.Sine;wn.Expo;wn.Circ;/*!
 * CSSPlugin 3.14.2
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var oC,Gc,Rp,VT,bh,lC,HT,k7=function(){return typeof window<"u"},ku={},mh=180/Math.PI,Dp=Math.PI/180,xp=Math.atan2,uC=1e8,GT=/([A-Z])/g,V7=/(left|right|width|margin|padding|x)/i,H7=/[\s,\(]\S/,Al={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},mE=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},G7=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},W7=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},X7=function(e,t){return t.set(t.t,t.p,e===1?t.e:e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},j7=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},sL=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},aL=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},q7=function(e,t,n){return e.style[t]=n},Y7=function(e,t,n){return e.style.setProperty(t,n)},Z7=function(e,t,n){return e._gsap[t]=n},K7=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},$7=function(e,t,n,i,a){var u=e._gsap;u.scaleX=u.scaleY=n,u.renderTransform(a,u)},Q7=function(e,t,n,i,a){var u=e._gsap;u[t]=n,u.renderTransform(a,u)},Ri="transform",ia=Ri+"Origin",J7=function r(e,t){var n=this,i=this.target,a=i.style,u=i._gsap;if(e in ku&&a){if(this.tfm=this.tfm||{},e!=="transform")e=Al[e]||e,~e.indexOf(",")?e.split(",").forEach(function(c){return n.tfm[c]=Ru(i,c)}):this.tfm[e]=u.x?u[e]:Ru(i,e),e===ia&&(this.tfm.zOrigin=u.zOrigin);else return Al.transform.split(",").forEach(function(c){return r.call(n,c,t)});if(this.props.indexOf(Ri)>=0)return;u.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ia,t,"")),e=Ri}(a||t)&&this.props.push(e,t,a[e])},oL=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},e9=function(){var e=this.props,t=this.target,n=t.style,i=t._gsap,a,u;for(a=0;a<e.length;a+=3)e[a+1]?e[a+1]===2?t[e[a]](e[a+2]):t[e[a]]=e[a+2]:e[a+2]?n[e[a]]=e[a+2]:n.removeProperty(e[a].substr(0,2)==="--"?e[a]:e[a].replace(GT,"-$1").toLowerCase());if(this.tfm){for(u in this.tfm)i[u]=this.tfm[u];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),a=HT(),(!a||!a.isStart)&&!n[Ri]&&(oL(n),i.zOrigin&&n[ia]&&(n[ia]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},lL=function(e,t){var n={target:e,props:[],revert:e9,save:J7};return e._gsap||ra.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(i){return n.save(i)}),n},uL,gE=function(e,t){var n=Gc.createElementNS?Gc.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Gc.createElement(e);return n&&n.style?n:Gc.createElement(e)},xa=function r(e,t,n){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(GT,"-$1").toLowerCase())||i.getPropertyValue(t)||!n&&r(e,qp(t)||t,1)||""},cC="O,Moz,ms,Ms,Webkit".split(","),qp=function(e,t,n){var i=t||bh,a=i.style,u=5;if(e in a&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);u--&&!(cC[u]+e in a););return u<0?null:(u===3?"ms":u>=0?cC[u]:"")+e},vE=function(){k7()&&window.document&&(oC=window,Gc=oC.document,Rp=Gc.documentElement,bh=gE("div")||{style:{}},gE("div"),Ri=qp(Ri),ia=Ri+"Origin",bh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",uL=!!qp("perspective"),HT=ra.core.reverting,VT=1)},fC=function(e){var t=e.ownerSVGElement,n=gE("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=e.cloneNode(!0),a;i.style.display="block",n.appendChild(i),Rp.appendChild(n);try{a=i.getBBox()}catch{}return n.removeChild(i),Rp.removeChild(n),a},hC=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},cL=function(e){var t,n;try{t=e.getBBox()}catch{t=fC(e),n=1}return t&&(t.width||t.height)||n||(t=fC(e)),t&&!t.width&&!t.x&&!t.y?{x:+hC(e,["x","cx","x1"])||0,y:+hC(e,["y","cy","y1"])||0,width:0,height:0}:t},fL=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&cL(e))},Qc=function(e,t){if(t){var n=e.style,i;t in ku&&t!==ia&&(t=Ri),n.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(i==="--"?t:t.replace(GT,"-$1").toLowerCase())):n.removeAttribute(t)}},Wc=function(e,t,n,i,a,u){var c=new na(e._pt,t,n,0,1,u?aL:sL);return e._pt=c,c.b=i,c.e=a,e._props.push(n),c},dC={deg:1,rad:1,turn:1},t9={grid:1,flex:1},Jc=function r(e,t,n,i){var a=parseFloat(n)||0,u=(n+"").trim().substr((a+"").length)||"px",c=bh.style,d=V7.test(t),p=e.tagName.toLowerCase()==="svg",g=(p?"client":"offset")+(d?"Width":"Height"),y=100,_=i==="px",x=i==="%",E,T,A,M;if(i===u||!a||dC[i]||dC[u])return a;if(u!=="px"&&!_&&(a=r(e,t,n,"px")),M=e.getCTM&&fL(e),(x||u==="%")&&(ku[t]||~t.indexOf("adius")))return E=M?e.getBBox()[d?"width":"height"]:e[g],Zi(x?a/E*y:a/100*E);if(c[d?"width":"height"]=y+(_?u:i),T=i!=="rem"&&~t.indexOf("adius")||i==="em"&&e.appendChild&&!p?e:e.parentNode,M&&(T=(e.ownerSVGElement||{}).parentNode),(!T||T===Gc||!T.appendChild)&&(T=Gc.body),A=T._gsap,A&&x&&A.width&&d&&A.time===ga.time&&!A.uncache)return Zi(a/A.width*y);if(x&&(t==="height"||t==="width")){var R=e.style[t];e.style[t]=y+i,E=e[g],R?e.style[t]=R:Qc(e,t)}else(x||u==="%")&&!t9[xa(T,"display")]&&(c.position=xa(e,"position")),T===e&&(c.position="static"),T.appendChild(bh),E=bh[g],T.removeChild(bh),c.position="absolute";return d&&x&&(A=Ah(T),A.time=ga.time,A.width=T[g]),Zi(_?E*a/y:E&&a?y/E*a:0)},Ru=function(e,t,n,i){var a;return VT||vE(),t in Al&&t!=="transform"&&(t=Al[t],~t.indexOf(",")&&(t=t.split(",")[0])),ku[t]&&t!=="transform"?(a=W0(e,i),a=t!=="transformOrigin"?a[t]:a.svg?a.origin:xb(xa(e,ia))+" "+a.zOrigin+"px"):(a=e.style[t],(!a||a==="auto"||i||~(a+"").indexOf("calc("))&&(a=_b[t]&&_b[t](e,t,n)||xa(e,t)||AN(e,t)||(t==="opacity"?1:0))),n&&!~(a+"").trim().indexOf(" ")?Jc(e,t,a,n)+n:a},n9=function(e,t,n,i){if(!n||n==="none"){var a=qp(t,e,1),u=a&&xa(e,a,1);u&&u!==n?(t=a,n=u):t==="borderColor"&&(n=xa(e,"borderTopColor"))}var c=new na(this._pt,e.style,t,0,1,nL),d=0,p=0,g,y,_,x,E,T,A,M,R,D,L,P;if(c.b=n,c.e=i,n+="",i+="",i.substring(0,6)==="var(--"&&(i=xa(e,i.substring(4,i.indexOf(")")))),i==="auto"&&(T=e.style[t],e.style[t]=i,i=xa(e,t)||i,T?e.style[t]=T:Qc(e,t)),g=[n,i],jN(g),n=g[0],i=g[1],_=n.match(Ep)||[],P=i.match(Ep)||[],P.length){for(;y=Ep.exec(i);)A=y[0],R=i.substring(d,y.index),E?E=(E+1)%5:(R.substr(-5)==="rgba("||R.substr(-5)==="hsla(")&&(E=1),A!==(T=_[p++]||"")&&(x=parseFloat(T)||0,L=T.substr((x+"").length),A.charAt(1)==="="&&(A=Cp(x,A)+L),M=parseFloat(A),D=A.substr((M+"").length),d=Ep.lastIndex-D.length,D||(D=D||Ma.units[t]||L,d===i.length&&(i+=D,c.e+=D)),L!==D&&(x=Jc(e,t,T,D)||0),c._pt={_next:c._pt,p:R||p===1?R:",",s:x,c:M-x,m:E&&E<4||t==="zIndex"?Math.round:0});c.c=d<i.length?i.substring(d,i.length):""}else c.r=t==="display"&&i==="none"?aL:sL;return SN.test(i)&&(c.e=0),this._pt=c,c},pC={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},i9=function(e){var t=e.split(" "),n=t[0],i=t[1]||"50%";return(n==="top"||n==="bottom"||i==="left"||i==="right")&&(e=n,n=i,i=e),t[0]=pC[n]||n,t[1]=pC[i]||i,t.join(" ")},r9=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,i=n.style,a=t.u,u=n._gsap,c,d,p;if(a==="all"||a===!0)i.cssText="",d=1;else for(a=a.split(","),p=a.length;--p>-1;)c=a[p],ku[c]&&(d=1,c=c==="transformOrigin"?ia:Ri),Qc(n,c);d&&(Qc(n,Ri),u&&(u.svg&&n.removeAttribute("transform"),i.scale=i.rotate=i.translate="none",W0(n,1),u.uncache=1,oL(i)))}},_b={clearProps:function(e,t,n,i,a){if(a.data!=="isFromStart"){var u=e._pt=new na(e._pt,t,n,0,0,r9);return u.u=i,u.pr=-10,u.tween=a,e._props.push(n),1}}},G0=[1,0,0,1,0,0],hL={},dL=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},mC=function(e){var t=xa(e,Ri);return dL(t)?G0:t.substr(7).match(bN).map(Zi)},WT=function(e,t){var n=e._gsap||Ah(e),i=e.style,a=mC(e),u,c,d,p;return n.svg&&e.getAttribute("transform")?(d=e.transform.baseVal.consolidate().matrix,a=[d.a,d.b,d.c,d.d,d.e,d.f],a.join(",")==="1,0,0,1,0,0"?G0:a):(a===G0&&!e.offsetParent&&e!==Rp&&!n.svg&&(d=i.display,i.display="block",u=e.parentNode,(!u||!e.offsetParent&&!e.getBoundingClientRect().width)&&(p=1,c=e.nextElementSibling,Rp.appendChild(e)),a=mC(e),d?i.display=d:Qc(e,"display"),p&&(c?u.insertBefore(e,c):u?u.appendChild(e):Rp.removeChild(e))),t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a)},yE=function(e,t,n,i,a,u){var c=e._gsap,d=a||WT(e,!0),p=c.xOrigin||0,g=c.yOrigin||0,y=c.xOffset||0,_=c.yOffset||0,x=d[0],E=d[1],T=d[2],A=d[3],M=d[4],R=d[5],D=t.split(" "),L=parseFloat(D[0])||0,P=parseFloat(D[1])||0,z,B,k,I;n?d!==G0&&(B=x*A-E*T)&&(k=L*(A/B)+P*(-T/B)+(T*R-A*M)/B,I=L*(-E/B)+P*(x/B)-(x*R-E*M)/B,L=k,P=I):(z=cL(e),L=z.x+(~D[0].indexOf("%")?L/100*z.width:L),P=z.y+(~(D[1]||D[0]).indexOf("%")?P/100*z.height:P)),i||i!==!1&&c.smooth?(M=L-p,R=P-g,c.xOffset=y+(M*x+R*T)-M,c.yOffset=_+(M*E+R*A)-R):c.xOffset=c.yOffset=0,c.xOrigin=L,c.yOrigin=P,c.smooth=!!i,c.origin=t,c.originIsAbsolute=!!n,e.style[ia]="0px 0px",u&&(Wc(u,c,"xOrigin",p,L),Wc(u,c,"yOrigin",g,P),Wc(u,c,"xOffset",y,c.xOffset),Wc(u,c,"yOffset",_,c.yOffset)),e.setAttribute("data-svg-origin",L+" "+P)},W0=function(e,t){var n=e._gsap||new KN(e);if("x"in n&&!t&&!n.uncache)return n;var i=e.style,a=n.scaleX<0,u="px",c="deg",d=getComputedStyle(e),p=xa(e,ia)||"0",g,y,_,x,E,T,A,M,R,D,L,P,z,B,k,I,O,W,ee,Q,fe,ue,Z,J,he,Pe,Ue,j,le,Re,ze,rt;return g=y=_=T=A=M=R=D=L=0,x=E=1,n.svg=!!(e.getCTM&&fL(e)),d.translate&&((d.translate!=="none"||d.scale!=="none"||d.rotate!=="none")&&(i[Ri]=(d.translate!=="none"?"translate3d("+(d.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(d.rotate!=="none"?"rotate("+d.rotate+") ":"")+(d.scale!=="none"?"scale("+d.scale.split(" ").join(",")+") ":"")+(d[Ri]!=="none"?d[Ri]:"")),i.scale=i.rotate=i.translate="none"),B=WT(e,n.svg),n.svg&&(n.uncache?(he=e.getBBox(),p=n.xOrigin-he.x+"px "+(n.yOrigin-he.y)+"px",J=""):J=!t&&e.getAttribute("data-svg-origin"),yE(e,J||p,!!J||n.originIsAbsolute,n.smooth!==!1,B)),P=n.xOrigin||0,z=n.yOrigin||0,B!==G0&&(W=B[0],ee=B[1],Q=B[2],fe=B[3],g=ue=B[4],y=Z=B[5],B.length===6?(x=Math.sqrt(W*W+ee*ee),E=Math.sqrt(fe*fe+Q*Q),T=W||ee?xp(ee,W)*mh:0,R=Q||fe?xp(Q,fe)*mh+T:0,R&&(E*=Math.abs(Math.cos(R*Dp))),n.svg&&(g-=P-(P*W+z*Q),y-=z-(P*ee+z*fe))):(rt=B[6],Re=B[7],Ue=B[8],j=B[9],le=B[10],ze=B[11],g=B[12],y=B[13],_=B[14],k=xp(rt,le),A=k*mh,k&&(I=Math.cos(-k),O=Math.sin(-k),J=ue*I+Ue*O,he=Z*I+j*O,Pe=rt*I+le*O,Ue=ue*-O+Ue*I,j=Z*-O+j*I,le=rt*-O+le*I,ze=Re*-O+ze*I,ue=J,Z=he,rt=Pe),k=xp(-Q,le),M=k*mh,k&&(I=Math.cos(-k),O=Math.sin(-k),J=W*I-Ue*O,he=ee*I-j*O,Pe=Q*I-le*O,ze=fe*O+ze*I,W=J,ee=he,Q=Pe),k=xp(ee,W),T=k*mh,k&&(I=Math.cos(k),O=Math.sin(k),J=W*I+ee*O,he=ue*I+Z*O,ee=ee*I-W*O,Z=Z*I-ue*O,W=J,ue=he),A&&Math.abs(A)+Math.abs(T)>359.9&&(A=T=0,M=180-M),x=Zi(Math.sqrt(W*W+ee*ee+Q*Q)),E=Zi(Math.sqrt(Z*Z+rt*rt)),k=xp(ue,Z),R=Math.abs(k)>2e-4?k*mh:0,L=ze?1/(ze<0?-ze:ze):0),n.svg&&(J=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!dL(xa(e,Ri)),J&&e.setAttribute("transform",J))),Math.abs(R)>90&&Math.abs(R)<270&&(a?(x*=-1,R+=T<=0?180:-180,T+=T<=0?180:-180):(E*=-1,R+=R<=0?180:-180)),t=t||n.uncache,n.x=g-((n.xPercent=g&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-g)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+u,n.y=y-((n.yPercent=y&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-y)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+u,n.z=_+u,n.scaleX=Zi(x),n.scaleY=Zi(E),n.rotation=Zi(T)+c,n.rotationX=Zi(A)+c,n.rotationY=Zi(M)+c,n.skewX=R+c,n.skewY=D+c,n.transformPerspective=L+u,(n.zOrigin=parseFloat(p.split(" ")[2])||!t&&n.zOrigin||0)&&(i[ia]=xb(p)),n.xOffset=n.yOffset=0,n.force3D=Ma.force3D,n.renderTransform=n.svg?a9:uL?pL:s9,n.uncache=0,n},xb=function(e){return(e=e.split(" "))[0]+" "+e[1]},_M=function(e,t,n){var i=ts(t);return Zi(parseFloat(t)+parseFloat(Jc(e,"x",n+"px",i)))+i},s9=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,pL(e,t)},ch="0deg",Yg="0px",fh=") ",pL=function(e,t){var n=t||this,i=n.xPercent,a=n.yPercent,u=n.x,c=n.y,d=n.z,p=n.rotation,g=n.rotationY,y=n.rotationX,_=n.skewX,x=n.skewY,E=n.scaleX,T=n.scaleY,A=n.transformPerspective,M=n.force3D,R=n.target,D=n.zOrigin,L="",P=M==="auto"&&e&&e!==1||M===!0;if(D&&(y!==ch||g!==ch)){var z=parseFloat(g)*Dp,B=Math.sin(z),k=Math.cos(z),I;z=parseFloat(y)*Dp,I=Math.cos(z),u=_M(R,u,B*I*-D),c=_M(R,c,-Math.sin(z)*-D),d=_M(R,d,k*I*-D+D)}A!==Yg&&(L+="perspective("+A+fh),(i||a)&&(L+="translate("+i+"%, "+a+"%) "),(P||u!==Yg||c!==Yg||d!==Yg)&&(L+=d!==Yg||P?"translate3d("+u+", "+c+", "+d+") ":"translate("+u+", "+c+fh),p!==ch&&(L+="rotate("+p+fh),g!==ch&&(L+="rotateY("+g+fh),y!==ch&&(L+="rotateX("+y+fh),(_!==ch||x!==ch)&&(L+="skew("+_+", "+x+fh),(E!==1||T!==1)&&(L+="scale("+E+", "+T+fh),R.style[Ri]=L||"translate(0, 0)"},a9=function(e,t){var n=t||this,i=n.xPercent,a=n.yPercent,u=n.x,c=n.y,d=n.rotation,p=n.skewX,g=n.skewY,y=n.scaleX,_=n.scaleY,x=n.target,E=n.xOrigin,T=n.yOrigin,A=n.xOffset,M=n.yOffset,R=n.forceCSS,D=parseFloat(u),L=parseFloat(c),P,z,B,k,I;d=parseFloat(d),p=parseFloat(p),g=parseFloat(g),g&&(g=parseFloat(g),p+=g,d+=g),d||p?(d*=Dp,p*=Dp,P=Math.cos(d)*y,z=Math.sin(d)*y,B=Math.sin(d-p)*-_,k=Math.cos(d-p)*_,p&&(g*=Dp,I=Math.tan(p-g),I=Math.sqrt(1+I*I),B*=I,k*=I,g&&(I=Math.tan(g),I=Math.sqrt(1+I*I),P*=I,z*=I)),P=Zi(P),z=Zi(z),B=Zi(B),k=Zi(k)):(P=y,k=_,z=B=0),(D&&!~(u+"").indexOf("px")||L&&!~(c+"").indexOf("px"))&&(D=Jc(x,"x",u,"px"),L=Jc(x,"y",c,"px")),(E||T||A||M)&&(D=Zi(D+E-(E*P+T*B)+A),L=Zi(L+T-(E*z+T*k)+M)),(i||a)&&(I=x.getBBox(),D=Zi(D+i/100*I.width),L=Zi(L+a/100*I.height)),I="matrix("+P+","+z+","+B+","+k+","+D+","+L+")",x.setAttribute("transform",I),R&&(x.style[Ri]=I)},o9=function(e,t,n,i,a){var u=360,c=Er(a),d=parseFloat(a)*(c&&~a.indexOf("rad")?mh:1),p=d-i,g=i+p+"deg",y,_;return c&&(y=a.split("_")[1],y==="short"&&(p%=u,p!==p%(u/2)&&(p+=p<0?u:-u)),y==="cw"&&p<0?p=(p+u*uC)%u-~~(p/u)*u:y==="ccw"&&p>0&&(p=(p-u*uC)%u-~~(p/u)*u)),e._pt=_=new na(e._pt,t,n,i,p,G7),_.e=g,_.u="deg",e._props.push(n),_},gC=function(e,t){for(var n in t)e[n]=t[n];return e},l9=function(e,t,n){var i=gC({},n._gsap),a="perspective,force3D,transformOrigin,svgOrigin",u=n.style,c,d,p,g,y,_,x,E;i.svg?(p=n.getAttribute("transform"),n.setAttribute("transform",""),u[Ri]=t,c=W0(n,1),Qc(n,Ri),n.setAttribute("transform",p)):(p=getComputedStyle(n)[Ri],u[Ri]=t,c=W0(n,1),u[Ri]=p);for(d in ku)p=i[d],g=c[d],p!==g&&a.indexOf(d)<0&&(x=ts(p),E=ts(g),y=x!==E?Jc(n,d,p,E):parseFloat(p),_=parseFloat(g),e._pt=new na(e._pt,c,d,y,_-y,mE),e._pt.u=E||0,e._props.push(d));gC(c,i)};ta("padding,margin,Width,Radius",function(r,e){var t="Top",n="Right",i="Bottom",a="Left",u=(e<3?[t,n,i,a]:[t+a,t+n,i+n,i+a]).map(function(c){return e<2?r+c:"border"+c+r});_b[e>1?"border"+r:r]=function(c,d,p,g,y){var _,x;if(arguments.length<4)return _=u.map(function(E){return Ru(c,E,p)}),x=_.join(" "),x.split(_[0]).length===5?_[0]:x;_=(g+"").split(" "),x={},u.forEach(function(E,T){return x[E]=_[T]=_[T]||_[(T-1)/2|0]}),c.init(d,x,y)}});var mL={name:"css",register:vE,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,i,a){var u=this._props,c=e.style,d=n.vars.startAt,p,g,y,_,x,E,T,A,M,R,D,L,P,z,B,k,I;VT||vE(),this.styles=this.styles||lL(e),k=this.styles.props,this.tween=n;for(T in t)if(T!=="autoRound"&&(g=t[T],!(ma[T]&&$N(T,t,n,i,e,a)))){if(x=typeof g,E=_b[T],x==="function"&&(g=g.call(n,i,e,a),x=typeof g),x==="string"&&~g.indexOf("random(")&&(g=k0(g)),E)E(this,e,T,g,n)&&(B=1);else if(T.substr(0,2)==="--")p=(getComputedStyle(e).getPropertyValue(T)+"").trim(),g+="",jc.lastIndex=0,jc.test(p)||(A=ts(p),M=ts(g),M?A!==M&&(p=Jc(e,T,p,M)+M):A&&(g+=A)),this.add(c,"setProperty",p,g,i,a,0,0,T),u.push(T),k.push(T,0,c[T]);else if(x!=="undefined"){if(d&&T in d?(p=typeof d[T]=="function"?d[T].call(n,i,e,a):d[T],Er(p)&&~p.indexOf("random(")&&(p=k0(p)),ts(p+"")||p==="auto"||(p+=Ma.units[T]||ts(Ru(e,T))||""),(p+"").charAt(1)==="="&&(p=Ru(e,T))):p=Ru(e,T),_=parseFloat(p),R=x==="string"&&g.charAt(1)==="="&&g.substr(0,2),R&&(g=g.substr(2)),y=parseFloat(g),T in Al&&(T==="autoAlpha"&&(_===1&&Ru(e,"visibility")==="hidden"&&y&&(_=0),k.push("visibility",0,c.visibility),Wc(this,c,"visibility",_?"inherit":"hidden",y?"inherit":"hidden",!y)),T!=="scale"&&T!=="transform"&&(T=Al[T],~T.indexOf(",")&&(T=T.split(",")[0]))),D=T in ku,D){if(this.styles.save(T),I=g,x==="string"&&g.substring(0,6)==="var(--"){if(g=xa(e,g.substring(4,g.indexOf(")"))),g.substring(0,5)==="calc("){var O=e.style.perspective;e.style.perspective=g,g=xa(e,"perspective"),O?e.style.perspective=O:Qc(e,"perspective")}y=parseFloat(g)}if(L||(P=e._gsap,P.renderTransform&&!t.parseTransform||W0(e,t.parseTransform),z=t.smoothOrigin!==!1&&P.smooth,L=this._pt=new na(this._pt,c,Ri,0,1,P.renderTransform,P,0,-1),L.dep=1),T==="scale")this._pt=new na(this._pt,P,"scaleY",P.scaleY,(R?Cp(P.scaleY,R+y):y)-P.scaleY||0,mE),this._pt.u=0,u.push("scaleY",T),T+="X";else if(T==="transformOrigin"){k.push(ia,0,c[ia]),g=i9(g),P.svg?yE(e,g,0,z,0,this):(M=parseFloat(g.split(" ")[2])||0,M!==P.zOrigin&&Wc(this,P,"zOrigin",P.zOrigin,M),Wc(this,c,T,xb(p),xb(g)));continue}else if(T==="svgOrigin"){yE(e,g,1,z,0,this);continue}else if(T in hL){o9(this,P,T,_,R?Cp(_,R+g):g);continue}else if(T==="smoothOrigin"){Wc(this,P,"smooth",P.smooth,g);continue}else if(T==="force3D"){P[T]=g;continue}else if(T==="transform"){l9(this,g,e);continue}}else T in c||(T=qp(T)||T);if(D||(y||y===0)&&(_||_===0)&&!H7.test(g)&&T in c)A=(p+"").substr((_+"").length),y||(y=0),M=ts(g)||(T in Ma.units?Ma.units[T]:A),A!==M&&(_=Jc(e,T,p,M)),this._pt=new na(this._pt,D?P:c,T,_,(R?Cp(_,R+y):y)-_,!D&&(M==="px"||T==="zIndex")&&t.autoRound!==!1?j7:mE),this._pt.u=M||0,D&&I!==g?(this._pt.b=p,this._pt.e=I,this._pt.r=X7):A!==M&&M!=="%"&&(this._pt.b=p,this._pt.r=W7);else if(T in c)n9.call(this,e,T,p,R?R+g:g);else if(T in e)this.add(e,T,p||e[T],R?R+g:g,i,a);else if(T!=="parseTransform"){NT(T,g);continue}D||(T in c?k.push(T,0,c[T]):typeof e[T]=="function"?k.push(T,2,e[T]()):k.push(T,1,p||e[T])),u.push(T)}}B&&iL(this)},render:function(e,t){if(t.tween._time||!HT())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Ru,aliases:Al,getSetter:function(e,t,n){var i=Al[t];return i&&i.indexOf(",")<0&&(t=i),t in ku&&t!==ia&&(e._gsap.x||Ru(e,"x"))?n&&lC===n?t==="scale"?K7:Z7:(lC=n||{})&&(t==="scale"?$7:Q7):e.style&&!CT(e.style[t])?q7:~t.indexOf("-")?Y7:BT(e,t)},core:{_removeProperty:Qc,_getMatrix:WT}};ra.utils.checkPrefix=qp;ra.core.getStyleSaver=lL;(function(r,e,t,n){var i=ta(r+","+e+","+t,function(a){ku[a]=1});ta(e,function(a){Ma.units[a]="deg",hL[a]=1}),Al[i[13]]=r+","+e,ta(n,function(a){var u=a.split(":");Al[u[1]]=i[u[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ta("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(r){Ma.units[r]="px"});ra.registerPlugin(mL);var _E=ra.registerPlugin(mL)||ra;_E.core.Tween;class u9 extends K.Component{constructor(){super();ni(this,"HandleModalUIState",t=>{const n={SHOW_MODAL:{visibility:!0,data:t.actionConfig},HIDE_MODAL:{visibility:!1,data:null}};this.setState(i=>({visibility:n[t.actionType].visibility,modalData:n[t.actionType].data}))});ni(this,"animateIn",()=>{const t=document.querySelector(".main"),n=document.querySelector(".modal");this.modalDOMNode=n;const i=()=>{_E.to(n,.4,{autoAlpha:1,transform:"translateY(0)",delay:0,ease:aC.easeOut.config(1.7)}),t.removeEventListener("transitionend",i)};this.props.history.action==="PUSH"?t.addEventListener("transitionend",i):i()});ni(this,"animateOut",t=>{_E.to(this.modalDOMNode,.4,{autoAlpha:0,transform:"translateY(-10%)",onComplete:t,delay:0,ease:aC.easeIn.config(1.7)})});ni(this,"handleClick",()=>{const t=()=>{let n={actionType:"HIDE_MODAL",actionConfig:{id:this.state.modalData.workItem.id}};p0.fire("toggleModal",n),this.props.history.goBack()};this.animateOut(t)});this.state={visibility:!1,modalData:""},this.modalDOMNode=""}UNSAFE_componentWillMount(){(async()=>{let i={actionType:"SHOW_MODAL",actionConfig:{workItem:await xV.getSingleItem(this.props.match.params.id)}};this.HandleModalUIState(i)})()}componentWillUnmount(){let t={actionType:"HIDE_MODAL",actionConfig:{}};p0.fire("toggleModal",t)}componentDidMount(){let t={actionType:"SHOW_MODAL",actionConfig:{}};p0.fire("toggleModal",t)}render(){if(this.state.visibility){const n=(()=>{let u={};u.workItem=this.state.modalData.workItem,u.imageSrc=u.workItem.images.hidpi?u.workItem.images.hidpi:u.workItem.images.normal,u.workItemTags=[];for(let c=0;c<u.workItem.tags.length;c++)u.workItemTags.push($.jsx("i",{children:u.workItem.tags[c]},[c]));return u.datePublished=new Date(u.workItem.published_at).toDateString(),u})(),i=$.jsx(GH,{onClick:this.handleClick,label:"Close"}),a=$.jsx(WH,{focus:!0,onClick:this.handleClick,title:"Close Modal",icon:$.jsx(K_,{icon:Zg.close})});return $.jsx(HH,{...n,animateInCall:this.animateIn,modalData:this.state.modalData,closeModal:this.handleClick,buttonIcon:a,button:i})}else return null}}const c9=_V(u9),gL=K.createContext(),vL=()=>{const r=K.useContext(gL);if(!r)throw new Error("useTheme must be used within a ThemeProvider");return r},f9=({children:r})=>{const e=()=>{const u=localStorage.getItem("theme");return u||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[t,n]=K.useState(e);K.useEffect(()=>{const u=window.matchMedia("(prefers-color-scheme: dark)"),c=d=>{localStorage.getItem("theme")||n(d.matches?"dark":"light")};return u.addEventListener?u.addEventListener("change",c):u.addListener(c),()=>{u.removeEventListener?u.removeEventListener("change",c):u.removeListener(c)}},[]),K.useEffect(()=>{document.documentElement.setAttribute("data-theme",t)},[t]);const a={theme:t,toggleTheme:()=>{const u=t==="light"?"dark":"light";n(u),localStorage.setItem("theme",u)},isLight:t==="light",isDark:t==="dark"};return $.jsx(gL.Provider,{value:a,children:r})},h9=()=>{const{theme:r,toggleTheme:e}=vL();return $.jsx("button",{className:"theme-toggle",onClick:e,"aria-label":`Switch to ${r==="light"?"dark":"light"} mode`,children:r==="light"?$.jsx("svg",{width:"17",height:"17",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:$.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})}):$.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[$.jsx("circle",{cx:"12",cy:"12",r:"5"}),$.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),$.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),$.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),$.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),$.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),$.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),$.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),$.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]})})},m1="workspace-state",yL="/api/workspace-state";async function d9(){try{const r=await fetch(yL);if(r.ok){const e=await r.json();return localStorage.setItem(m1,JSON.stringify(e)),e}throw new Error(`Server returned ${r.status}`)}catch(r){return console.warn("Server state unavailable, falling back to localStorage:",r.message),p9()}}function p9(){try{const r=localStorage.getItem(m1);if(r)return JSON.parse(r)}catch{}return{openTabIds:[],activeTabId:null,leftPanelWidth:380}}async function m9(r){localStorage.setItem(m1,JSON.stringify(r));try{await fetch(yL,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}catch(e){console.warn("Failed to save state to server:",e.message)}}function g9(r=500){let e=null,t=null;function n(a){t=a,e!==null&&clearTimeout(e),e=setTimeout(()=>{e=null,m9(a)},r)}function i(){t!==null&&(e!==null&&(clearTimeout(e),e=null),localStorage.setItem(m1,JSON.stringify(t)),t=null)}return{debouncedSave:n,flush:i}}const _L=new Map;for(const r of Mb)for(const e of r.items)_L.set(e.id,e);function v9(r){const e=[];for(const t of r){const n=_L.get(t);n&&e.push(n)}return e}const vC={READY_PAUSE:500,FADE_DURATION:250};function y9(r){let e=0;for(let t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t)|0;return Math.abs(e)}function _9(r){const e=r.title.toLowerCase().replace(/\s+/g,"-"),t=y9(r.id),n=5173+t%10,i=300+t%600,a=40+t%80,u={text:"$ npm run dev"},c=180+t%120,d=t*7%1e3,p=1+t%3,g=12+t%20,y=2+t%5,_=[{delay:400,spans:[{text:"",color:"white"}]},{delay:30,spans:[{text:`> ${e}@1.0.0 `,color:"dim"},{text:"dev",color:"white"}]},{delay:20,spans:[{text:"> ",color:"dim"},{text:"vite",color:"cyan"},{text:" --config ",color:"dim"},{text:"vite.config.js",color:"white"},{text:" --mode ",color:"dim"},{text:"development",color:"yellow"}]},{delay:200,spans:[{text:"",color:"white"}]},{delay:35,spans:[{text:"  Pre-bundling dependencies:",color:"dim"}]},{delay:20,spans:[{text:"    react",color:"magenta"},{text:", ",color:"dim"},{text:"react-dom",color:"magenta"},{text:", ",color:"dim"},{text:"react-router-dom",color:"magenta"},{text:", ",color:"dim"},{text:"@emotion/react",color:"magenta"}]},{delay:18,spans:[{text:"    @radix-ui/react-dialog",color:"magenta"},{text:", ",color:"dim"},{text:"@radix-ui/react-tooltip",color:"magenta"}]},{delay:15,spans:[{text:"  (",color:"dim"},{text:`${c}`,color:"yellow"},{text:" dependencies detected, optimizing...)",color:"dim"}]},{delay:140,spans:[{text:"",color:"white"}]},{delay:25,spans:[{text:"  eslint ",color:"magenta"},{text:`scanned ${g} files`,color:"dim"},{text:"  ",color:"dim"},{text:`${y} warnings`,color:"yellow"},{text:", ",color:"dim"},{text:"0 errors",color:"green"}]},{delay:180,spans:[{text:"",color:"white"}]},{delay:40,spans:[{text:"  VITE ",color:"green"},{text:"v6.3.5",color:"dim"},{text:"  ready in ",color:"dim"},{text:`${i} ms`,color:"green"}]},{delay:100,spans:[{text:"",color:"white"}]},{delay:30,spans:[{text:`  ${a} modules`,color:"white"},{text:" transformed.",color:"dim"}]},{delay:20,spans:[{text:"  rendering chunks ",color:"dim"},{text:`(${d})`,color:"cyan"},{text:"...",color:"dim"}]},{delay:18,spans:[{text:"  computing gzip size...",color:"dim"}]},{delay:60,spans:[{text:"",color:"white"}]},{delay:20,spans:[{text:"  (!) ",color:"yellow"},{text:`${p} warning(s)`,color:"yellow"},{text:"  some chunks are larger than ",color:"dim"},{text:"500 kB",color:"white"}]},{delay:80,spans:[{text:"",color:"white"}]},{delay:25,spans:[{text:"  dist/assets/",color:"dim"},{text:`index-${r.id}h3x.js`,color:"cyan"},{text:`    ${(42+t%30).toFixed(2)} kB`,color:"dim"},{text:"  gzip: ",color:"dim"},{text:`${(14+t%10).toFixed(2)} kB`,color:"white"}]},{delay:18,spans:[{text:"  dist/assets/",color:"dim"},{text:`index-${r.id}c5s.css`,color:"magenta"},{text:`   ${(8+t%6).toFixed(2)} kB`,color:"dim"},{text:"  gzip: ",color:"dim"},{text:`${(2+t%3).toFixed(2)} kB`,color:"white"}]},{delay:15,spans:[{text:"  dist/assets/",color:"dim"},{text:`vendor-${r.id}r9k.js`,color:"cyan"},{text:`  ${(128+t%60).toFixed(2)} kB`,color:"dim"},{text:"  gzip: ",color:"dim"},{text:`${(41+t%15).toFixed(2)} kB`,color:"red"}]},{delay:12,spans:[{text:"  dist/assets/",color:"dim"},{text:`worker-${r.id}a2m.js`,color:"cyan"},{text:`  ${(18+t%12).toFixed(2)} kB`,color:"dim"},{text:"  gzip: ",color:"dim"},{text:`${(6+t%4).toFixed(2)} kB`,color:"white"}]},{delay:70,spans:[{text:"",color:"white"}]},{delay:30,spans:[{text:"   ",color:"green"},{text:"built in ",color:"dim"},{text:`${i+120} ms`,color:"green"}]},{delay:100,spans:[{text:"",color:"white"}]},{delay:40,spans:[{text:"    ",color:"green"},{text:"Local:   ",color:"bold"},{text:`http://localhost:${n}/`,color:"cyan"}]},{delay:30,spans:[{text:"    ",color:"green"},{text:"Network: ",color:"bold"},{text:`http://192.168.1.${42+t%200}:${n}/`,color:"cyan"}]},{delay:20,spans:[{text:"    ",color:"dim"},{text:"press ",color:"dim"},{text:"h + enter",color:"bold"},{text:" to show help",color:"dim"}]}];return{command:u,outputLines:_}}function x9({item:r,onFadeStart:e,onComplete:t}){const[n,i]=K.useState(0),[a,u]=K.useState("streaming"),c=K.useRef(null),d=K.useRef(null);(!c.current||c.current._itemId!==r.id)&&(c.current=_9(r),c.current._itemId=r.id);const{command:p,outputLines:g}=c.current,y=g.length,_=K.useCallback(e,[]),x=K.useCallback(t,[]);K.useEffect(()=>{if(a!=="streaming")return;const A=[];let M=0;for(let R=0;R<y;R++){M+=g[R].delay;const D=R+1;A.push(setTimeout(()=>{i(D),D===y&&u("ready")},M))}return()=>A.forEach(clearTimeout)},[a,y,g]),K.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[n]),K.useEffect(()=>{if(a!=="ready")return;const A=setTimeout(()=>{u("fading"),_()},vC.READY_PAUSE);return()=>clearTimeout(A)},[a,_]),K.useEffect(()=>{if(a!=="fading")return;const A=setTimeout(()=>{u("done"),x()},vC.FADE_DURATION);return()=>clearTimeout(A)},[a,x]);const E="terminal-loader"+(a==="fading"||a==="done"?" terminal-loader--fading":""),T=n>0;return $.jsx("div",{className:E,children:$.jsxs("div",{className:"terminal-window",children:[$.jsxs("div",{className:"terminal-command",children:[$.jsxs("svg",{className:"terminal-icon","aria-hidden":"true",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[$.jsx("rect",{x:"0.5",y:"0.5",width:"15",height:"15",rx:"2",stroke:"currentColor",strokeWidth:"1.5"}),$.jsx("path",{d:"M4 5L7 8L4 11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),$.jsx("line",{x1:"9",y1:"11",x2:"12",y2:"11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})]}),$.jsx("span",{className:"term-white",children:p.text})]}),T&&$.jsxs($.Fragment,{children:[$.jsx("div",{className:"terminal-divider"}),$.jsx("div",{className:"terminal-body",ref:d,children:g.slice(0,n).map((A,M)=>$.jsx("div",{className:"terminal-line",children:A.spans.map((R,D)=>$.jsx("span",{className:`term-${R.color}`,children:R.text},D))},M))})]})]})})}function b9({content:r}){return r?$.jsxs("div",{className:"work-content",children:[r.context&&$.jsxs("section",{className:"work-content-section",children:[$.jsx("h3",{className:"work-content-heading",children:"Context & Goals"}),$.jsx("p",{className:"work-content-text",children:r.context}),r.goals&&r.goals.length>0&&$.jsx("ul",{className:"work-content-goals",children:r.goals.map((e,t)=>$.jsx("li",{children:e},t))})]}),r.artifacts&&r.artifacts.length>0&&$.jsxs("section",{className:"work-content-section",children:[$.jsx("h3",{className:"work-content-heading",children:"Artifacts"}),$.jsx("div",{className:"work-content-artifacts",children:r.artifacts.map((e,t)=>$.jsxs("div",{className:`work-content-artifact ${t%2!==0?"work-content-artifact--reverse":""}`,children:[$.jsx("div",{className:"work-content-artifact-image",children:$.jsx("div",{className:"work-content-image-placeholder",children:$.jsx("img",{src:e.src,alt:e.alt,loading:"lazy"})})}),$.jsxs("div",{className:"work-content-artifact-copy",children:[e.label&&$.jsx("h4",{className:"work-content-artifact-label",children:e.label}),e.description&&$.jsx("p",{className:"work-content-artifact-description",children:e.description})]})]},t))})]}),r.outcome&&r.outcome.length>0&&$.jsxs("section",{className:"work-content-section",children:[$.jsx("h3",{className:"work-content-heading",children:"Outcome"}),$.jsx("div",{className:"work-content-outcome-row",children:r.outcome.map((e,t)=>$.jsxs("figure",{className:"work-content-outcome-item",children:[$.jsx("div",{className:"work-content-image-placeholder",children:$.jsx("img",{src:e.src,alt:e.alt,loading:"lazy"})}),e.caption&&$.jsx("figcaption",{className:"work-content-caption",children:e.caption})]},t))})]}),r.whatsNext&&$.jsxs("section",{className:"work-content-section",children:[$.jsx("h3",{className:"work-content-heading",children:"What's Next"}),$.jsx("p",{className:"work-content-text",children:r.whatsNext})]})]}):$.jsx("p",{className:"stage-content-placeholder",children:"Content for this work item will go here."})}function S9({activeTab:r,sectionLabel:e}){return $.jsxs("div",{className:"status-bar",children:[$.jsxs("div",{className:"status-bar-left",children:[$.jsxs("span",{className:"status-bar-breadcrumb",children:[e&&$.jsx("span",{className:"status-bar-section",children:e}),e&&$.jsx("span",{className:"status-bar-separator",children:"/"}),$.jsx("span",{className:"status-bar-title",children:r.title})]}),r.date&&$.jsx("span",{className:"status-bar-date",children:r.date})]}),r.tags&&r.tags.length>0&&$.jsx("div",{className:"status-bar-right",children:r.tags.map(t=>$.jsx("span",{className:"status-bar-tag",children:t},t))})]})}const yC=[{id:"action:toggle-theme",label:"Toggle Dark Mode",type:"action"},{id:"action:close-tab",label:"Close Active Tab",hint:"Q",type:"action"},{id:"action:close-all",label:"Close All Tabs",type:"action"}];function M9(){const r=[];for(const e of Mb)for(const t of e.items)r.push({id:t.id,label:t.title,description:t.description,tags:t.tags||[],sectionLabel:e.label,type:"item",raw:t});return r}function E9({isOpen:r,onClose:e,onSelectItem:t,onAction:n,openTabIds:i}){const[a,u]=K.useState(""),[c,d]=K.useState(0),p=K.useRef(null),g=K.useRef(null),y=K.useRef([]),{toggleTheme:_}=vL(),x=K.useMemo(()=>M9(),[]),E=K.useMemo(()=>{const M=a.toLowerCase().trim();if(!M)return[...yC,...x];const R=D=>D.type==="action"?D.label.toLowerCase().includes(M):D.label.toLowerCase().includes(M)||D.description.toLowerCase().includes(M)||D.sectionLabel.toLowerCase().includes(M)||D.tags.some(L=>L.toLowerCase().includes(M));return[...yC,...x].filter(R)},[a,x]);K.useEffect(()=>{r&&(u(""),d(0),setTimeout(()=>{var M;return(M=p.current)==null?void 0:M.focus()},0))},[r]),K.useEffect(()=>{d(0)},[E.length]),K.useEffect(()=>{const M=y.current[c];M&&M.scrollIntoView({block:"nearest"})},[c]);const T=K.useCallback(M=>{M.type==="action"?M.id==="action:toggle-theme"?_():n(M.id):t(M.raw),e()},[n,t,e,_]),A=K.useCallback(M=>{M.key==="ArrowDown"?(M.preventDefault(),d(R=>(R+1)%E.length)):M.key==="ArrowUp"?(M.preventDefault(),d(R=>(R-1+E.length)%E.length)):M.key==="Enter"?(M.preventDefault(),E[c]&&T(E[c])):M.key==="Escape"&&(M.preventDefault(),e())},[E,c,T,e]);return r?$.jsx("div",{className:"command-palette-overlay",onClick:e,children:$.jsxs("div",{className:"command-palette",onClick:M=>M.stopPropagation(),children:[$.jsx("input",{ref:p,className:"command-palette-input",type:"text",value:a,onChange:M=>u(M.target.value),onKeyDown:A,placeholder:"Search work items and actions...",spellCheck:!1,autoComplete:"off"}),$.jsxs("div",{className:"command-palette-list",ref:g,children:[E.length===0&&$.jsx("div",{className:"command-palette-empty",children:"No results found"}),E.map((M,R)=>{const D=R===c,L=M.type==="action";return $.jsxs("div",{ref:P=>y.current[R]=P,className:`command-palette-item ${D?"command-palette-item--highlighted":""} ${L?"command-palette-item--action":""}`,onClick:()=>T(M),onMouseEnter:()=>d(R),children:[$.jsxs("div",{className:"command-palette-item-left",children:[L&&$.jsx("span",{className:"command-palette-action-prefix",children:">"}),$.jsx("span",{className:"command-palette-item-label",children:M.label}),!L&&$.jsx("span",{className:"command-palette-item-section",children:M.sectionLabel})]}),L&&M.hint&&$.jsx("kbd",{className:"command-palette-item-hint",children:M.hint})]},M.id)})]})]})}):null}const _C=280,xC=380,xM=()=>Math.floor(window.innerWidth/2);class T9 extends K.Component{constructor(){super();ni(this,"openWorkItem",t=>{this.setState(n=>({openTabs:n.openTabs.some(u=>u.id===t.id)?n.openTabs:[...n.openTabs,{...t}],activeTabId:t.id}))});ni(this,"closeTab",(t,n)=>{t.stopPropagation(),this.setState(i=>{const a=i.openTabs.filter(g=>g.id!==n),c=i.activeTabId===n?a.length>0?a[a.length-1].id:null:i.activeTabId,d=new Set(i.animatedTabs);d.delete(n);const p=new Set(i.fadingTabs);return p.delete(n),{openTabs:a,activeTabId:c,animatedTabs:d,fadingTabs:p}})});ni(this,"startTabFade",t=>{this.setState(n=>{const i=new Set(n.fadingTabs);return i.add(t),{fadingTabs:i}})});ni(this,"markAnimationComplete",t=>{this.setState(n=>{const i=new Set(n.animatedTabs);i.add(t);const a=new Set(n.fadingTabs);return a.delete(t),{animatedTabs:i,fadingTabs:a}})});ni(this,"selectTab",t=>{this.setState({activeTabId:t})});ni(this,"toggleCommandPalette",()=>{this.setState(t=>({commandPaletteOpen:!t.commandPaletteOpen}))});ni(this,"closeActiveTab",()=>{this.setState(t=>{if(!t.activeTabId)return null;const n=t.openTabs.filter(c=>c.id!==t.activeTabId),i=n.length>0?n[n.length-1].id:null,a=new Set(t.animatedTabs);a.delete(t.activeTabId);const u=new Set(t.fadingTabs);return u.delete(t.activeTabId),{openTabs:n,activeTabId:i,animatedTabs:a,fadingTabs:u}})});ni(this,"closeAllTabs",()=>{this.setState({openTabs:[],activeTabId:null,animatedTabs:new Set,fadingTabs:new Set})});ni(this,"handlePaletteAction",t=>{switch(t){case"action:close-tab":this.closeActiveTab();break;case"action:close-all":this.closeAllTabs();break}});ni(this,"handleGlobalKeyDown",t=>{if((t.metaKey||t.ctrlKey)&&t.key==="k"){t.preventDefault(),this.toggleCommandPalette();return}if(!this.state.commandPaletteOpen&&t.ctrlKey&&t.key==="q"){t.preventDefault(),this.closeActiveTab();return}});ni(this,"handleTabDragStart",(t,n)=>{t.dataTransfer.effectAllowed="move",this.setState({draggedTabId:n})});ni(this,"handleTabDragOver",(t,n)=>{t.preventDefault(),t.dataTransfer.dropEffect="move",this.setState({dropTargetIndex:n})});ni(this,"handleTabDragLeave",()=>{this.setState({dropTargetIndex:null})});ni(this,"handleTabDrop",()=>{this.setState(t=>{const{draggedTabId:n,dropTargetIndex:i,openTabs:a}=t;if(n==null||i==null)return{draggedTabId:null,dropTargetIndex:null};const u=a.findIndex(p=>p.id===n);if(u===-1||u===i)return{draggedTabId:null,dropTargetIndex:null};const c=[...a],[d]=c.splice(u,1);return c.splice(i,0,d),{openTabs:c,draggedTabId:null,dropTargetIndex:null}})});ni(this,"handleTabDragEnd",()=>{this.setState({draggedTabId:null,dropTargetIndex:null})});ni(this,"_handleBeforeUnload",()=>{this._flushSave()});ni(this,"handleWindowResize",()=>{this.setState(t=>({leftPanelWidth:Math.min(t.leftPanelWidth,xM())}))});ni(this,"handleResizeStart",t=>{t.preventDefault(),this.isResizing=!0,this.startX=t.clientX,this.startWidth=this.state.leftPanelWidth});ni(this,"handleResizeMove",t=>{if(!this.isResizing)return;const n=t.clientX-this.startX,i=xM(),a=Math.min(i,Math.max(_C,this.startWidth+n));this.setState({leftPanelWidth:a})});ni(this,"handleResizeEnd",()=>{this.isResizing=!1});ni(this,"handleMainClassState",t=>{(()=>{const i={SHOW_MODAL:{class:"main modalVisible"},HIDE_MODAL:{class:"main"}};this.setState(a=>({mainClass:i[t.actionType].class}))})()});this.state={mainClass:"main",leftPanelWidth:xC,openTabs:[],activeTabId:null,stateLoaded:!1,animatedTabs:new Set,fadingTabs:new Set,commandPaletteOpen:!1,draggedTabId:null,dropTargetIndex:null},this.mainRef=xE.createRef(),this.isResizing=!1,this.startX=0,this.startWidth=0;const{debouncedSave:t,flush:n}=g9(500);this._debouncedSave=t,this._flushSave=n}componentDidMount(){p0.addListener("toggleModal",this.handleMainClassState),document.addEventListener("mousemove",this.handleResizeMove),document.addEventListener("mouseup",this.handleResizeEnd),window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this._handleBeforeUnload),document.addEventListener("keydown",this.handleGlobalKeyDown),d9().then(t=>{const n=v9(t.openTabIds),a=new Set(n.map(d=>d.id)).has(t.activeTabId)?t.activeTabId:n.length>0?n[n.length-1].id:null,u=typeof t.leftPanelWidth=="number"?Math.min(Math.max(t.leftPanelWidth,_C),xM()):xC,c=new Set(n.map(d=>d.id));this.setState({openTabs:n,activeTabId:a,leftPanelWidth:u,stateLoaded:!0,animatedTabs:c})})}componentDidUpdate(t,n){if(!this.state.stateLoaded)return;const i=n.openTabs!==this.state.openTabs,a=n.activeTabId!==this.state.activeTabId,u=n.leftPanelWidth!==this.state.leftPanelWidth;(i||a||u)&&this._debouncedSave({openTabIds:this.state.openTabs.map(c=>c.id),activeTabId:this.state.activeTabId,leftPanelWidth:this.state.leftPanelWidth})}componentWillUnmount(){p0.removeListener("toggleModal",this.handleMainClassState),document.removeEventListener("mousemove",this.handleResizeMove),document.removeEventListener("mouseup",this.handleResizeEnd),window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this._handleBeforeUnload),document.removeEventListener("keydown",this.handleGlobalKeyDown)}render(){return $.jsx(f9,{children:$.jsxs("div",{className:"App",children:[$.jsx(E9,{isOpen:this.state.commandPaletteOpen,onClose:()=>this.setState({commandPaletteOpen:!1}),onSelectItem:this.openWorkItem,onAction:this.handlePaletteAction,openTabIds:this.state.openTabs.map(t=>t.id)}),$.jsx(FC,{location:this.props.location,children:$.jsx(EE,{path:"/workItem/:id",element:$.jsx(c9,{})})}),$.jsxs("main",{ref:this.mainRef,className:this.state.mainClass,children:[$.jsxs("section",{className:"left-panel",style:{width:this.state.leftPanelWidth},children:[$.jsx("div",{className:"left-panel-resize-handle",onMouseDown:this.handleResizeStart,"aria-label":"Resize left panel"}),$.jsxs("section",{className:"left-panel-top",children:[$.jsxs("header",{className:"App-header",children:[$.jsx(yV,{}),$.jsx("h1",{className:"App-title",children:"Jordan L. Wright"}),$.jsxs("p",{className:"App-intro",children:["Digit Alchemist |",$.jsx("span",{className:"App-intro-subtitle",children:" Designer & Engineer"})]})]}),$.jsxs("nav",{className:"nav",children:[$.jsxs("a",{className:"out-bound-link",target:"_blank",rel:"noopener noreferrer",href:"http://www.linkedin.com/in/jordan-l-wright-91b17321",children:[$.jsx(K_,{title:"Out-Bound Link",icon:Zg.linkedin,assistiveText:"Out-Bound Link"}),$.jsx("span",{children:"LinkedIn"})]}),$.jsxs("a",{className:"out-bound-link",target:"_blank",rel:"noopener noreferrer",href:VI,children:[$.jsx(K_,{title:"Out-Bound Link",icon:Zg.resume,assistiveText:"Out-Bound Link"}),$.jsx("span",{children:"Resume"})]}),$.jsxs("a",{className:"out-bound-link",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/interfaceconjurer",children:[$.jsx(K_,{title:"Out-Bound Link",icon:Zg.github,assistiveText:"Out-Bound Link"}),$.jsx("span",{children:"GitHub"})]})]})]}),$.jsxs("section",{className:"work-list",children:[$.jsx("h2",{className:"work-list-title",children:"My Work"}),Mb.map(t=>$.jsxs("div",{className:"work-list-section",children:[$.jsx("h3",{className:"work-list-section-title",children:t.label}),$.jsx("p",{className:"work-list-section-tagline",children:t.tagline}),$.jsx("div",{className:"work-list-items",children:t.items.map(n=>$.jsxs("button",{type:"button",className:`work-item ${this.state.activeTabId===n.id?"work-item--selected":""}`,onClick:()=>this.openWorkItem(n),children:[$.jsx("span",{className:"work-item-title",children:n.title}),$.jsx("span",{className:"work-item-description",children:n.description}),$.jsx("span",{className:"work-item-date",children:n.date})]},n.id))})]},t.id))]})]}),$.jsx("section",{className:"stage",children:$.jsxs("div",{className:"stage-editor",children:[$.jsxs("div",{className:"stage-main",children:[$.jsxs("div",{className:"stage-tabs",role:"tablist",children:[$.jsx("div",{className:"stage-tabs-list",children:this.state.openTabs.map((t,n)=>$.jsxs("div",{role:"tab","aria-selected":this.state.activeTabId===t.id,className:`stage-tab ${this.state.activeTabId===t.id?"stage-tab--active":""}${this.state.dropTargetIndex===n&&this.state.draggedTabId!==t.id?" stage-tab--drop-before":""}`,onClick:()=>this.selectTab(t.id),draggable:!0,onDragStart:i=>this.handleTabDragStart(i,t.id),onDragOver:i=>this.handleTabDragOver(i,n),onDragLeave:this.handleTabDragLeave,onDrop:this.handleTabDrop,onDragEnd:this.handleTabDragEnd,children:[$.jsx("span",{className:"stage-tab-title",children:t.title}),$.jsx("button",{type:"button",className:"stage-tab-close",onClick:i=>this.closeTab(i,t.id),"aria-label":`Close ${t.title}`,children:""})]},t.id))}),$.jsx("div",{className:"stage-tabs-end",children:$.jsx(h9,{})})]}),this.state.openTabs.length>0?this.state.openTabs.map(t=>{const n=t.id===this.state.activeTabId,i=this.state.animatedTabs.has(t.id),a=this.state.fadingTabs.has(t.id),u=i||a;return $.jsxs("div",{className:"stage-content-wrapper",style:{display:n?"flex":"none"},role:"tabpanel","aria-hidden":!n,children:[$.jsx("div",{className:`stage-content ${u?"stage-content--entering":"stage-content--hidden"}`,children:$.jsxs("div",{className:"stage-content-inner",children:[$.jsx("h2",{className:"stage-content-title",children:t.title}),$.jsx("p",{className:"stage-content-description",children:t.description}),$.jsx(b9,{content:t.content})]})}),!i&&$.jsx(x9,{item:t,onFadeStart:()=>this.startTabFade(t.id),onComplete:()=>this.markAnimationComplete(t.id)})]},t.id)}):$.jsx("div",{className:"stage-empty",children:$.jsxs("div",{className:"stage-empty-content",children:[$.jsx("svg",{className:"stage-empty-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 17 17",width:"48",height:"48","aria-hidden":"true",children:$.jsx("path",{fill:"currentColor",d:Zg.workItem})}),$.jsx("p",{className:"stage-empty-title",children:"No open files"}),$.jsxs("div",{className:"stage-empty-hints",children:[$.jsxs("p",{className:"stage-empty-hint",children:[$.jsxs("kbd",{className:"stage-empty-kbd",children:["","K"]})," to search"]}),$.jsx("p",{className:"stage-empty-hint",children:"or select from My Work in the sidebar"})]})]})})]}),this.state.activeTabId&&$.jsx(S9,{activeTab:this.state.openTabs.find(t=>t.id===this.state.activeTabId),sectionLabel:HI(this.state.activeTabId)})]})})]})]})})}}const w9=()=>$.jsx(NI,{children:$.jsx(FC,{children:$.jsx(EE,{path:"*",element:$.jsx(T9,{})})})}),A9=document.getElementById("root"),C9=cO.createRoot(A9);C9.render($.jsx(w9,{}));
